"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[7679],{7679:(x,g,a)=>{a.r(g),a.d(g,{DashboardModule:()=>j});var d=a(6895),u=a(7060),h=a(4128),t=a(4650),p=a(1936),m=a(5318),y=a(1398),A=a(5412),D=a(629),Z=a(2381),T=a(9805),C=a(1941),f=a(2510),s=a(4006);function S(o,n){1&o&&t._UZ(0,"app-dashboard-statisticscard",23),2&o&&t.Q6J("details",n.$implicit)}function U(o,n){if(1&o&&(t.TgZ(0,"tr",28)(1,"td",29),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.qZA(),t.TgZ(8,"td",29),t._uU(9),t.qZA()()),2&o){const e=n.$implicit;t.xp6(2),t.hij(" ",e.doctorName," "),t.xp6(2),t.hij(" ",t.lcZ(5,4,e.appointmentDate)," "),t.xp6(3),t.hij(" ",e.appointmentTime," "),t.xp6(2),t.hij(" ",e.appointmentSerial," ")}}function L(o,n){if(1&o&&(t.TgZ(0,"table",24)(1,"thead",25)(2,"tr")(3,"th",26),t._uU(4," Doctor Name "),t.qZA(),t.TgZ(5,"th",26),t._uU(6," App. Day "),t.qZA(),t.TgZ(7,"th",26),t._uU(8," App. Time "),t.qZA(),t.TgZ(9,"th",26),t._uU(10," Serial No "),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,U,10,6,"tr",27),t.qZA()()),2&o){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",e.appointmentList)}}function N(o,n){1&o&&(t.TgZ(0,"div",30),t._uU(1," Data is Loading... "),t.qZA())}function w(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"div")(3,"p",33),t._uU(4),t.qZA(),t.TgZ(5,"a",34),t._uU(6),t.qZA()(),t.TgZ(7,"button",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onClickConsultNow(r))}),t._uU(8," Consult Now"),t.qZA()()()}if(2&o){const e=n.$implicit;t.xp6(4),t.hij(" ",e.specialityName,""),t.xp6(2),t.AsE(" ",e.doctorTitleName,". ",e.fullName," ")}}let F=(()=>{class o{constructor(e,i,l,r,c,b,v){this.DoctorStateService=e,this.DoctorScheduleService=i,this.dialog=l,this.NormalAuth=r,this.TosterService=c,this.DashboardService=b,this.FinancialSetupService=v,this.showWarning=!1,this.currentOnlineDoctorList=[],this.details=[{title:"Total appointments",data:0},{title:"Total Pay",data:0,currency:!0},{title:"Loyalty Points",data:""}],this.isLoading=!1,this.appointmentList=[],this.selectedValue="All",this.aptLoading=!1,this.btnLoading=!1,this.isAuthUser=this.NormalAuth.authInfo()?.id,this.userType=this.NormalAuth.authInfo()?.userType}ngOnInit(){this.getDashboardAppointment(this.selectedValue),this.getDashboardStatisticData(this.isAuthUser);try{this.DoctorStateService.getCurrentlyOnlineDoctorList().subscribe({next:e=>{this.currentOnlineDoctorList=e}})}catch{}}getDashboardStatisticData(e){this.DashboardService.getDashboadDataForPatient(e,"agent").subscribe({next:i=>{this.details[0].data=Number(i.totalAppointment),this.details[1].data=Number(i.totalFeeAmount),this.details[2].data=Number(i.doctorLoyaltypoints)}})}getDashboardAppointment(e){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForPatient(this.isAuthUser,"agent",e).subscribe({next:i=>{this.appointmentList=i,this.aptLoading=!1},error:i=>{console.log(i),this.aptLoading=!1}})}changeSelection(e){e&&this.getDashboardAppointment(e.target.value)}onClickConsultNow(e){if(this.btnLoading=!0,e.id){const i=this.DoctorScheduleService.getDetailsScheduleListByDoctorId(e.id),l=this.FinancialSetupService.getList();(0,h.D)([i,l]).subscribe(([r,c])=>{r?.length>0&&e?this.dialog.open(u.G,{maxWidth:600,minWidth:450,data:{doctorDetails:e,doctorScheduleInfo:r,isAuthUser:!!this.isAuthUser,userAccess:"doctor"!=this.userType,serviceFeeList:c}}).afterClosed().subscribe(v=>{}):this.TosterService.customToast("No Details/Schedule found","warning")})}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.f),t.Y36(m.P),t.Y36(A.uw),t.Y36(D.e),t.Y36(Z.G),t.Y36(y.s),t.Y36(T.I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:32,vars:7,consts:[[1,"doctor-dashboard_midcontent_container","p-4"],[1,"top-bar","flex","justify-between","relative"],[1,"w-full","min-w-[70%]","max-w-[70%]"],[1,"top-box","mt-2","grid","grid-cols-1","md:grid-cols-2","2xl:grid-cols-3","max-w-[100%]","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border"],[1,"flex","justify-between","border-b-[1px]","px-5","py-3","items-center"],[1,"dashbord-heading-text","h-fit"],[3,"ngModel","value","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","w-full text-sm text-left rounded-lg text-gray-500 dark:text-gray-400 border-[1px] ",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"dashboard_today_appointment","min-w-[28%]","max-w-[28%]","rounded-lg","box-border"],[1,"mt-4","border-[1px]","max-h-screen","overflow-y-scroll","relative"],[1,"flex","items-center","justify-between","sticky","top-0"],[1,"dashbord-heading-text","bg-secondary/10","backdrop-blur-xl","text-secondary","border-b-[1px]","w-full","px-5","py-2"],[1,"fa-solid","fa-house-signal","mr-2"],[1,"flex","items-center","justify-center"],[1,"max-w-full","w-full","shadow-lg","p-3"],["class"," dark:bg-gray-700 bg-gray-50 rounded-b",4,"ngFor","ngForOf"],[3,"details"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","dark:text-gray-400","border-[1px]"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["class","bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"],[1,"dark:bg-gray-700","bg-gray-50","rounded-b"],[1,"border-[1px]","p-3"],[1,"text-sm","pt-2","leading-4","text-gray-600","dark:text-gray-300"],["tabindex","0",1,"focus:outline-none","text-lg","font-medium","leading-5","text-primary","dark:text-gray-100","mt-2"],[1,"bg-green-700/90","mt-2","text-white","h-fit","py-1","px-3","rounded-sm","text-[14px]",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,S,1,1,"app-dashboard-statisticscard",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"h2",7),t._uU(8," Appointments Activity "),t.qZA(),t.TgZ(9,"div")(10,"select",8),t.NdJ("change",function(r){return i.changeSelection(r)}),t.TgZ(11,"option",9),t._uU(12,"All"),t.qZA(),t.TgZ(13,"option",10),t._uU(14,"Confirmed"),t.qZA(),t.TgZ(15,"option",11),t._uU(16,"Completed"),t.qZA()()(),t.TgZ(17,"button",12),t._uU(18,"View all"),t.qZA()(),t.YNc(19,L,13,1,"table",13),t.YNc(20,N,2,0,"div",14),t.qZA()(),t.TgZ(21,"div",15)(22,"div",16)(23,"div",17)(24,"h2",18),t._UZ(25,"i",19),t._uU(26," Live Doctor "),t.TgZ(27,"span"),t._uU(28),t.qZA()()(),t.TgZ(29,"div",20)(30,"div",21),t.YNc(31,w,9,3,"div",22),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.details),t.xp6(6),t.Q6J("ngModel",i.selectedValue)("value",i.selectedValue),t.xp6(9),t.Q6J("ngIf",!i.aptLoading),t.xp6(1),t.Q6J("ngIf",i.aptLoading),t.xp6(8),t.hij("(",i.currentOnlineDoctorList.length,")"),t.xp6(3),t.Q6J("ngForOf",i.currentOnlineDoctorList))},dependencies:[C.g,d.sg,d.O5,f.rH,s.YN,s.Kr,s.EJ,s.JJ,s.On,d.uU]}),o})();var O=a(2356),M=a(7132);let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,s.u5,s.UX]}),o})();const _=[{path:"",component:F}];let j=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[O.B,d.ez,f.Bz.forChild(_),M.t,J,s.u5]}),o})()},7132:(x,g,a)=>{a.d(g,{t:()=>h});var d=a(6895),u=a(4650);let h=(()=>{class t{}return t.\u0275fac=function(m){return new(m||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[d.ez]}),t})()}}]);