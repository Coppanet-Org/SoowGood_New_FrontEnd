import{a as Q,b as X}from"./chunk-GO5UKO7J.js";import{a as H}from"./chunk-K6SFV5Q2.js";import{a as K}from"./chunk-SPBVGZO6.js";import"./chunk-FVULMH5T.js";import"./chunk-XCW56EU2.js";import"./chunk-NJZYVABX.js";import"./chunk-IBQVX35S.js";import{c as W}from"./chunk-XTINLLUJ.js";import"./chunk-46JTLTO3.js";import"./chunk-YTSUX7O2.js";import"./chunk-4DRUEFLH.js";import{A as G,l as q,q as z}from"./chunk-GEVSPATW.js";import{a as R}from"./chunk-7LPMGZKA.js";import{E as U,_ as J,h as k,m as V,v as P,w as $,x as B}from"./chunk-N3UDIXRD.js";import{Db as T,Eb as A,Ha as u,Ma as m,S as g,Sa as L,Ta as w,Va as _,Vb as E,Wa as I,Wb as F,X as b,Xa as o,Y as v,Ya as n,Za as f,ac as j,cc as S,fb as x,hb as N,r as C,tb as r,vb as p,vc as M,xc as O,ya as l,za as c}from"./chunk-TXQBTV46.js";import"./chunk-5G567QLT.js";function et(e,t){e&1&&r(0," Loading... ")}function it(e,t){e&1&&r(0,"Consult Now")}var Y=(()=>{let t=class t{constructor(a,i,s,h){this.DoctorScheduleService=a,this.FinancialSetupService=i,this.dialog=s,this.TosterService=h,this.isLoading=!1}onClickConsultNow(a){if(a.id){this.isLoading=!0;let i=this.DoctorScheduleService.getDetailsScheduleListByDoctorId(a.id),s=this.FinancialSetupService.getList();C([i,s]).subscribe(([h,y])=>{if(h?.length>0&&a){this.isLoading=!1;let ct=this.dialog.open(K,{maxWidth:600,minWidth:450,data:{doctorDetails:a,doctorScheduleInfo:h,isAuthUser:!0,userAccess:!0,serviceFeeList:y}})}else this.isLoading=!1,this.TosterService.customToast("No Details/Schedule found","warning")})}else this.isLoading=!1,this.TosterService.customToast("No Details/Schedule found","warning")}};t.\u0275fac=function(i){return new(i||t)(c(q),c(z),c(W),c(G))},t.\u0275cmp=b({type:t,selectors:[["app-dashboard-live-doctor-card"]],inputs:{details:"details"},decls:10,vars:3,consts:[[1,"bg-gray-50","rounded-b"],[1,"border-[1px]","p-3","flex","flex-col","gap-3"],[1,"text-sm","pt-2","leading-4","text-gray-600"],["tabindex","0",1,"focus:outline-none","text-[20px]","font-semibold","leading-5","text-gray-800","mt-2"],[1,"bg-secondary/5","text-secondary","h-fit","py-1.5","border-secondary/50","border-[1px]","px-3","rounded-sm","text-[14px]",3,"click"]],template:function(i,s){i&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),r(4),n(),o(5,"a",3),r(6),n()(),o(7,"button",4),x("click",function(){return s.onClickConsultNow(s.details)}),u(8,et,1,0)(9,it,1,0),n()()()),i&2&&(l(4),p(" ",s.details.specialityName," "),l(2),p(" ",s.details.fullName," "),l(2),L(8,s.isLoading?8:9))}});let e=t;return e})();function nt(e,t){if(e&1&&f(0,"app-dashboard-statisticscard",23),e&2){let d=t.$implicit;m("details",d)}}function at(e,t){if(e&1&&(o(0,"tr",28)(1,"td",29),r(2),n(),o(3,"td",29),r(4),T(5,"date"),n(),o(6,"td",29),r(7),n(),o(8,"td",29),r(9),n()()),e&2){let d=t.$implicit;l(2),p(" ",d.doctorName," "),l(2),p(" ",A(5,4,d.appointmentDate)," "),l(3),p(" ",d.appointmentTime," "),l(2),p(" ",d.appointmentSerial," ")}}function rt(e,t){if(e&1&&(o(0,"table",24)(1,"thead",25)(2,"tr")(3,"th",26),r(4,"Doctor Name"),n(),o(5,"th",26),r(6,"App. Day"),n(),o(7,"th",26),r(8,"App. Time"),n(),o(9,"th",26),r(10,"Serial No"),n()()(),o(11,"tbody"),u(12,at,10,6,"tr",27),n()()),e&2){let d=N();l(12),m("ngForOf",d.appointmentList)}}function st(e,t){e&1&&(o(0,"div",30),r(1," Data is Loading... "),n())}function lt(e,t){if(e&1&&f(0,"app-dashboard-live-doctor-card",23),e&2){let d=t.$implicit;m("details",d)}}var Z=(()=>{let t=class t{constructor(a,i,s){this.DoctorStateService=a,this.NormalAuth=i,this.DashboardService=s,this.showWarning=!1,this.currentOnlineDoctorList=[],this.details=[{title:"Total appointments",data:0},{title:"Total Pay",data:"",currency:!0},{title:"Loyalty Points",data:""}],this.appointmentList=[],this.selectedValue="All",this.aptLoading=!1,this.isAuthUser=this.NormalAuth.authInfo()?.id,this.userType=this.NormalAuth.authInfo()?.userType}ngOnInit(){this.getDashboardAppointment(this.selectedValue),this.getDashboardStatisticData(this.isAuthUser);try{this.DoctorStateService.getCurrentlyOnlineDoctorList().subscribe({next:a=>{this.currentOnlineDoctorList=a}})}catch{}}getDashboardStatisticData(a){this.DashboardService.getDashboadDataForPatient(a,"patient").subscribe({next:i=>{this.details[0].data=Number(i.totalAppointment),this.details[1].data=Number(i.totalFeeAmount),this.details[2].data=Number(i.doctorLoyaltypoints)}})}getDashboardAppointment(a){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForPatient(this.isAuthUser,"patient",a).subscribe({next:i=>{this.appointmentList=i,this.aptLoading=!1},error:i=>{console.log(i),this.aptLoading=!1}})}changeSelection(a){if(a){this.getDashboardAppointment(a.target.value);return}}};t.\u0275fac=function(i){return new(i||t)(c(H),c(R),c(J))},t.\u0275cmp=b({type:t,selectors:[["app-dashboard"]],decls:34,vars:6,consts:[[1,"doctor-dashboard_midcontent_container","p-4"],[1,"top-bar","flex","justify-between"],[1,"w-full","min-w-[70%]","max-w-[70%]"],[1,"top-box","mt-2","grid","grid-cols-1","md:grid-cols-2","2xl:grid-cols-3","max-w-[100%]","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border"],[1,"flex","justify-between","border-b-[1px]","px-5","py-3","items-center"],[1,"dashbord-heading-text","h-fit"],[3,"ngModel","value","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","w-full text-sm text-left rounded-lg text-gray-500 border-[1px]",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"dashboard_today_appointment","min-w-[28%]","max-w-[28%]","min-h-screen","rounded-lg","box-border"],[1,"mt-4","border-[1px]","relative"],[1,"flex","items-center","justify-between"],[1,"dashbord-heading-text","bg-secondary/10","text-secondary","border-b-[1px]","w-full","px-5","py-2"],[1,"fa-solid","fa-house-signal","mr-2"],[1,"max-h-[calc(100vh-100px)]","overflow-y-scroll","custom-scrollbar"],[1,"max-w-full","w-full","shadow-lg","p-3"],[1,"border-[1px]","mt-5"],[3,"details"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","border-[1px]"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"]],template:function(i,s){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,nt,1,1,"app-dashboard-statisticscard",4),n(),o(5,"div",5)(6,"div",6)(7,"h2",7),r(8,"Appointments Activity"),n(),o(9,"div")(10,"select",8),x("change",function(y){return s.changeSelection(y)}),o(11,"option",9),r(12,"All"),n(),o(13,"option",10),r(14,"Confirmed"),n(),o(15,"option",11),r(16,"Completed"),n()()(),o(17,"button",12),r(18," View all "),n()(),u(19,rt,13,1,"table",13)(20,st,2,0,"div",14),n()(),o(21,"div",15)(22,"div",16)(23,"div",17)(24,"h2",18),f(25,"i",19),r(26," Live Doctor "),o(27,"span"),r(28),n()()(),o(29,"div",20)(30,"div",21),_(31,lt,1,1,"app-dashboard-live-doctor-card",23,w),n()()(),f(33,"div",22),n()()()),i&2&&(l(4),m("ngForOf",s.details),l(6),m("ngModel",s.selectedValue)("value",s.selectedValue),l(9),m("ngIf",!s.aptLoading),l(),m("ngIf",s.aptLoading),l(8),p("(",s.currentOnlineDoctorList.length,")"),l(3),I(s.currentOnlineDoctorList))},dependencies:[E,F,$,B,P,k,V,M,Q,Y,j]});let e=t;return e})();var tt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=g({imports:[S]});let e=t;return e})();var dt=[{path:"",component:Z}],Mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=g({imports:[S,U,O.forChild(dt),X,tt]});let e=t;return e})();export{Mt as DashboardModule};
