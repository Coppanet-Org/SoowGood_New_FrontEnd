"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[3129],{3129:(v,g,o)=>{o.r(g),o.d(g,{AgentSignupModule:()=>x});var m=o(6895),s=o(4006),l=o(8745),e=o(4650),d=o(5654),a=o(7999);let u=(()=>{class r{constructor(i){this.restService=i,this.apiName="Default",this.create=(t,n)=>this.restService.request({method:"POST",url:"/api/app/agent-master",body:t},{apiName:this.apiName,...n}),this.get=(t,n)=>this.restService.request({method:"GET",url:`/api/app/agent-master/${t}`},{apiName:this.apiName,...n}),this.getAllAgentMasterList=t=>this.restService.request({method:"GET",url:"/api/app/agent-master/agent-master-list"},{apiName:this.apiName,...t}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/agent-master"},{apiName:this.apiName,...t}),this.update=(t,n)=>this.restService.request({method:"PUT",url:"/api/app/agent-master",body:t},{apiName:this.apiName,...n})}}return r.\u0275fac=function(i){return new(i||r)(e.LFG(a.vgb))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),p=(()=>{class r{constructor(i){this.restService=i,this.apiName="Default",this.create=(t,n)=>this.restService.request({method:"POST",url:"/api/app/agent-supervisor",body:t},{apiName:this.apiName,...n}),this.get=(t,n)=>this.restService.request({method:"GET",url:`/api/app/agent-supervisor/${t}`},{apiName:this.apiName,...n}),this.getAgentSupervisorsByAgentMasterList=(t,n)=>this.restService.request({method:"GET",url:`/api/app/agent-supervisor/agent-supervisors-by-agent-master-list/${t}`},{apiName:this.apiName,...n}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/agent-supervisor"},{apiName:this.apiName,...t}),this.update=(t,n)=>this.restService.request({method:"PUT",url:"/api/app/agent-supervisor",body:t},{apiName:this.apiName,...n})}}return r.\u0275fac=function(i){return new(i||r)(e.LFG(a.vgb))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var f=o(629),S=o(5374),N=o(2381),A=o(2510);function T(r,c){if(1&r&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&r){const i=c.$implicit;e.s9C("value",i.id),e.xp6(1),e.hij(" ",i.displayName," ")}}function y(r,c){if(1&r&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&r){const i=c.$implicit;e.s9C("value",i.id),e.xp6(1),e.hij(" ",i.displayName," ")}}function Z(r,c){1&r&&e._UZ(0,"span",37)}const _=[{path:"",component:(()=>{class r{constructor(i,t,n,h,b,U,q,w){this.fb=i,this.AgentProfileService=t,this.AgentMasterService=n,this.AgentSupervisorService=h,this.NormalAuth=b,this.UserAccountsService=U,this.TosterService=q,this._router=w,this.subs=new l.Y}ngOnInit(){this.loadForm(),this.AgentMasterService.getAllAgentMasterList().subscribe(i=>this.agenetMasterList=i)}loadForm(){this.signupForm=this.fb.group({fullName:["",s.kI.required],organizationName:["0",s.kI.required],agentSuperVisor:["0",s.kI.required],address:["",s.kI.required],city:["Dhaka",s.kI.required],zipCode:["1212",s.kI.required],country:["Bangladesh",s.kI.required],mobileNo:["",s.kI.required],email:["",s.kI.required],password:["",s.kI.required],isActive:["true",s.kI.required]})}onSubmit(){if(this.isLoading=!0,!this.signupForm.valid)return this.isLoading=!1,void this.TosterService.customToast("Please filed all required field","warning");this.UserAccountsService.signupUserByUserDtoAndPasswordAndRole({tenantId:"",userName:this.signupForm.value.mobileNo,name:this.signupForm?.value.fullName,surname:"",email:this.signupForm.value.email,emailConfirmed:!0,phoneNumber:this.signupForm.value.mobileNo,phoneNumberConfirmed:!0,address:this.signupForm.value.address,city:this.signupForm.value.city,zipCode:this.signupForm.value.zipCode,country:this.signupForm.value.country,isActive:!0,lockoutEnabled:!1,lockoutEnd:"2023-07-16T07:38:44.382Z",concurrencyStamp:"",agentMasterId:this.signupForm.value.organizationName,agentSupervisorId:this.signupForm.value.agentSuperVisor},this.signupForm.value?.password,"Agent").subscribe(t=>{t.success?this.AgentProfileService.create({...this.signupForm.value,agentMasterId:this.signupForm.value?.organizationName,agentSupervisorId:this.signupForm.value?.agentSuperVisor,userId:t.userId}).subscribe(n=>{this.subs.sink=this.AgentProfileService.getByUserId(n.userId).subscribe(h=>{this.agentProfileDto=h,this.agentId=h.id,this.NormalAuth.signOut(),this._router.navigate(["/agent/login"],{state:{data:t}}).then(b=>this.TosterService.customToast(String(t.message),"success"))})}):(this.isLoading=!1,this.TosterService.customToast(String(t.message),"error"))})}loadAgentSupervisors(i){this.AgentSupervisorService.getAgentSupervisorsByAgentMasterList(i.target.value).subscribe(t=>{this.agentSupervisorList=t})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(s.qu),e.Y36(d.j),e.Y36(u),e.Y36(p),e.Y36(f.e),e.Y36(S.V),e.Y36(N.G),e.Y36(A.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-agent-signup"]],decls:69,vars:4,consts:[[1,"signup-form"],[1,"signup-form__left"],["src","../../../../assets/auth/Repeat Grid 3.png","alt","auth",1,"w-full","h-full"],[1,"signup-form__right","drop-shadow-soft","relative"],[1,"max-w-lg","min-w-[650px]","mx-auto","mt-10","bg-white","p-8","rounded-xl","shadow","shadow-slate-300"],[1,"text-4xl","font-medium"],[1,"text-slate-500","mt-2"],[1,"mt-6",3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2","mb-5"],["for","agentOrganization"],[1,"font-medium","text-slate-700","pb-2"],["formControlName","organizationName","name","select","id","organizationName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md",3,"change"],["value","0",1,"font-semibold","text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["formControlName","agentSuperVisor","name","select","id","agentSuperVisor",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","agentName"],["type","text","formControlName","fullName","id","agentName","placeholder","Name","required","",1,"form_input"],["for","email"],["type","email","formControlName","email","id","email","placeholder","example@mail.com","required","",1,"form_input"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password","required","",1,"form_input"],["for","mobile"],[1,"form_input","flex","h-[40px]"],["matPrefix","",1,"h-fit","font-Roboto","font-semibold"],["matInput","","maxlength","11","type","tel","formControlName","mobileNo","id","mobileNo","placeholder","018-000-00000","required","","inputmode","numeric",1,"w-full","border-none","outline-none","h-fit"],["for","Address"],["type","text","formControlName","address","id","address","placeholder","Address","required","",1,"form_input"],[1,"form_btn",3,"click"],[1,"flex","items-center"],[1,"fa-solid","ml-2","fa-right-to-bracket"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"text-center","w-full","mt-5"],["routerLink","/agent/login",1,"text-primary","font-medium","inline-flex","space-x-1","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],[1,"font-semibold","text-gray-500",3,"value"],[1,"loading","loading-dots","loading-md"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Agent Signup"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Hi, Welcome to SoowGood \u{1f44b}"),e.qZA(),e.TgZ(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10)(13,"p",11),e._uU(14,"Agent Master"),e.qZA(),e.TgZ(15,"select",12),e.NdJ("change",function(h){return t.loadAgentSupervisors(h)}),e.TgZ(16,"option",13),e._uU(17,"Select"),e.qZA(),e.YNc(18,T,2,2,"option",14),e.qZA()()(),e.TgZ(19,"div",9)(20,"label",10)(21,"p",11),e._uU(22,"Supervisor"),e.qZA(),e.TgZ(23,"select",15)(24,"option",13),e._uU(25,"Select"),e.qZA(),e.YNc(26,y,2,2,"option",14),e.qZA()()(),e.TgZ(27,"div",9)(28,"label",16)(29,"p",11),e._uU(30,"Agent Name"),e.qZA(),e._UZ(31,"input",17),e.qZA()(),e.TgZ(32,"div",9)(33,"label",18)(34,"p",11),e._uU(35,"Email"),e.qZA(),e._UZ(36,"input",19),e.qZA()(),e.TgZ(37,"div",9)(38,"label",20)(39,"p",11),e._uU(40,"Password"),e.qZA(),e._UZ(41,"input",21),e.qZA()(),e.TgZ(42,"div",9)(43,"label",22)(44,"p",11),e._uU(45,"Mobile Number"),e.qZA(),e.TgZ(46,"div",23)(47,"span",24),e._uU(48,"+88 \xa0"),e.qZA(),e._UZ(49,"input",25),e.qZA()()(),e.TgZ(50,"div",9)(51,"label",26)(52,"p",11),e._uU(53,"Address"),e.qZA(),e._UZ(54,"input",27),e.qZA()(),e.TgZ(55,"button",28),e.NdJ("click",function(){return t.onSubmit()}),e.TgZ(56,"div",29)(57,"span"),e._uU(58,"Signup"),e.qZA(),e._UZ(59,"i",30),e.qZA(),e.YNc(60,Z,1,0,"span",31),e.qZA(),e.TgZ(61,"p",32),e._uU(62," Already have an account? "),e.TgZ(63,"a",33)(64,"span"),e._uU(65," Login "),e.qZA(),e.TgZ(66,"span"),e.O4$(),e.TgZ(67,"svg",34),e._UZ(68,"path",35),e.qZA()()()()()()()()()),2&i&&(e.xp6(9),e.Q6J("formGroup",t.signupForm),e.xp6(9),e.Q6J("ngForOf",t.agenetMasterList),e.xp6(8),e.Q6J("ngForOf",t.agentSupervisorList),e.xp6(34),e.Q6J("ngIf",t.isLoading))},dependencies:[m.sg,m.O5,A.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u]}),r})()}];let x=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,A.Bz.forChild(_),s.u5,s.UX]}),r})()},5374:(v,g,o)=>{o.d(g,{V:()=>l});var m=o(4650),s=o(7999);let l=(()=>{class e{constructor(a){this.restService=a,this.apiName="Default",this.isUserExistsByUserName=(u,p)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/is-user-exists",params:{userName:u}},{apiName:this.apiName,...p}),this.loginByUserDto=(u,p)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/login",body:u},{apiName:this.apiName,...p}),this.refreshAccessTokenByUser=(u,p)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/refresh-access-token",body:u},{apiName:this.apiName,...p}),this.resetPasswordByInputDto=(u,p)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/reset-password",body:u},{apiName:this.apiName,...p}),this.resetPassword_AppByInputDto=(u,p)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/reset-password_App",body:u},{apiName:this.apiName,...p}),this.signupUserByUserDtoAndPasswordAndRole=(u,p,f,S)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/signup-user",params:{password:p,role:f},body:u},{apiName:this.apiName,...S})}}return e.\u0275fac=function(a){return new(a||e)(m.LFG(s.vgb))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2381:(v,g,o)=>{o.d(g,{G:()=>l});var m=o(4650),s=o(9094);let l=(()=>{class e{constructor(a){this.toasterService=a}customToast(a,u){return this.toasterService[u](a,this.getToastOptions(u))}getToastOptions(a){const u=this.getBackgroundColor(a);return{duration:3e3,style:{padding:"10px 16px",color:this.getTextColor(a),background:u},iconTheme:this.getIconColor(a)}}getBackgroundColor(a){switch(a){case"success":return"rgb(0 171 7 / 100%)";case"error":return"rgb(255 0 0 / 100%) ";case"warning":return"rgb(255 179 68 / 100%)";default:return"#c2e0c6"}}getTextColor(a){switch(a){case"success":case"error":return"#f1f1f1";case"warning":return"#7a5600";default:return"#333"}}getIconColor(a){switch(a){case"success":default:return{primary:"#005539",secondary:"#f1f1f1"};case"error":return{primary:"#f44336",secondary:"#f1f1f1"};case"warning":return{primary:"#483500",secondary:"#f1f1f1"}}}}return e.\u0275fac=function(a){return new(a||e)(m.LFG(s.jE))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8745:(v,g,o)=>{o.d(g,{Y:()=>s});var s=function(){function l(){this._subs=[]}return l.prototype.add=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];this._subs=this._subs.concat(e)},Object.defineProperty(l.prototype,"sink",{set:function(e){this._subs.push(e)},enumerable:!0,configurable:!0}),l.prototype.unsubscribe=function(){this._subs.forEach(function(e){return e&&function(l){return"function"==typeof l}(e.unsubscribe)&&e.unsubscribe()}),this._subs=[]},l}()}}]);