import{a as ht}from"./chunk-52QPGV7H.js";import{a as nt,b as st,c as ct,d as dt,e as gt,f as vt}from"./chunk-5APBJXHC.js";import{b as lt}from"./chunk-XTNL2MXM.js";import{a as pt,b as mt,c as ft,d as ut}from"./chunk-J6B2BAYT.js";import{a as tt}from"./chunk-JYHM62TD.js";import{a as it}from"./chunk-TF6FA6WV.js";import{a as G}from"./chunk-DIK5M47G.js";import{a as at}from"./chunk-ROYHHYTT.js";import{a as rt}from"./chunk-7NGZH4SF.js";import{b as et,j as F}from"./chunk-COTZLZB7.js";import{h as w,k as I}from"./chunk-BIUPZTC3.js";import{a as ot}from"./chunk-77VMTRGT.js";import{a as Y}from"./chunk-7OXPM62U.js";import{a as M,c as C}from"./chunk-J72HFQF2.js";import{c as W}from"./chunk-IFRORO75.js";import{k as J,l as K,u as Q,v as X,y as Z}from"./chunk-MSMBLCDC.js";import{a as H}from"./chunk-Y6SRJCZB.js";import{C as $,D as q,E as y}from"./chunk-MTAS266H.js";import{Ha as D,Ma as c,S as h,Sb as E,Tb as A,Ub as B,Wa as n,X as x,Xa as l,Y as g,Ya as v,ac as b,dc as O,eb as S,gb as _,n as z,qc as R,sb as d,sc as U,tb as j,ub as f,vb as P,vc as V,ya as a,za as s}from"./chunk-BMLH63KZ.js";import{a as k,b as T}from"./chunk-5G567QLT.js";var bt=(()=>{let e=class e{constructor(o,i,t,p,m,N){this.dialog=o,this.DoctorScheduleService=i,this.router=t,this.TosterService=p,this.NormalAuth=m,this.UserinfoStateService=N,this.doctorScheduleList=[],this.isLoading=!1,this.picUrl=`${G.apis.default.url}/`}ngOnInit(){this.isAuthUser=this.NormalAuth.authInfo()?.id;let o=this.doctorDetails.profilePic,i=/wwwroot/gi,t=o?.replace(i,"");this.doctorPicurl=this.picUrl+t}openDialog(){this.isLoading=!0,this.doctorDetails!="undefine || null"&&this.DoctorScheduleService.getDetailsScheduleListByDoctorId(this.doctorDetails.id).subscribe(o=>{this.isLoading=!1,o?.length>0&&this.doctorDetails?this.dialog.open(at,{maxWidth:600,minWidth:450,data:{doctorDetails:T(k({},this.doctorDetails),{picUrl:this.doctorPicurl}),doctorScheduleInfo:o,isAuthUser:!!this.isAuthUser}}).afterClosed().subscribe(t=>{}):this.TosterService.customToast("No Details/Schedule found","warning")})}goToProfile(){this.router.navigate([`/search/doctors/${this.doctorDetails.id}`])}};e.\u0275fac=function(i){return new(i||e)(s(W),s(K),s(U),s(Z),s(H),s(Y))},e.\u0275cmp=x({type:e,selectors:[["app-doctor-card"]],inputs:{doctorDetails:"doctorDetails"},decls:20,vars:8,consts:[[1,"relative","flex","group","max-h-[380px]","overflow-hidden","w-full","transition-all","duration-500","shadow-2xl","shadow-secondary/10","flex-col","rounded-xl","bg-white","bg-clip-border","text-gray-700","border-[1px]"],[1,"relative","box-border","flex","justify-center","py-10","h-[100px]","bg-primary/90","w-full"],[1,"w-[120px]","overflow-hidden","shadow-2xl","shadow-primary/30","bg-white","h-[120px]","rounded-full","border-secondary/50","border-[1px]"],["alt","avater","height","70","width","70",1,"w-full","h-full","object-cover",3,"ngSrc"],[1,"px-10","pt-9","mt-10","flex","flex-col","items-center"],[1,"flex","items-center","justify-between"],[1,"block","text-[18px]","font-Roboto","font-medium","leading-snug","tracking-normal","text-blue-gray-900","antialiased"],[1,"mr-2"],[1,"fa-solid","fa-circle-check","text-green-500","text-[14px]"],[1,"block","text-center","font-normal","font-Roboto","text-[14px]","leading-relaxed","text-gray-500","antialiased"],[1,"mt-3","text-center"],[1,"text-[20px]","text-secondary","font-medium","font-Roboto"],[1,"px-4","pt-5","pb-4","flex","gap-2"],["type","button","data-ripple-light","true",1,"rounded-md","block","hover:bg-secondary/90","bg-primary","w-full","select-none","hover:border-secondary","border-secondary/20","border-[1px]","py-2","px-7","text-center","align-middle","font-sans","font-medium","text-[14px]","text-white","hover:text-white/90","transition-all","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"disabled","click"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),v(3,"img",3),l()(),n(4,"div",4)(5,"div",5)(6,"h4",6),d(7),n(8,"span",7),v(9,"i",8),l()()(),n(10,"p",9),d(11),l(),n(12,"p",9),d(13),l(),n(14,"div",10)(15,"span",11),d(16),l()()(),n(17,"div",12)(18,"button",13),S("click",function(){return t.openDialog()}),d(19),l()()()),i&2&&(a(3),c("ngSrc",t.doctorPicurl?t.doctorPicurl:"/assets/doctor/avater.png"),a(4),P(" ",t.doctorDetails.doctorTitleName,". ",t.doctorDetails.fullName," "),a(4),f(" ",t.doctorDetails.qualifications," "),a(2),f(" ",t.doctorDetails.areaOfExperties," "),a(3),f("Minimum Fee: ",t.doctorDetails.displayFee," Tk. "),a(2),c("disabled",t.isLoading),a(),f(" ",t.isLoading?"Loading":"Book Now"," "))},dependencies:[O],styles:[".dialog-panel[_ngcontent-%COMP%]{width:200px;background:red}"]});let r=e;return r})();function Ct(r,e){r&1&&(n(0,"div",13),v(1,"app-skeleton")(2,"app-skeleton")(3,"app-skeleton")(4,"app-skeleton")(5,"app-skeleton")(6,"app-skeleton")(7,"app-skeleton")(8,"app-skeleton"),l())}function wt(r,e){if(r&1&&(n(0,"div",14)(1,"div"),d(2,"No records has been found!"),l(),d(3),l()),r&2){let u=_();a(3),f(" ",u.noDataAvailable," ")}}function It(r,e){if(r&1&&(n(0,"div",17),v(1,"app-doctor-card",18),l()),r&2){let u=e.$implicit;a(),c("doctorDetails",u)}}function Ft(r,e){if(r&1&&(n(0,"div",15),D(1,It,2,1,"div",16),l()),r&2){let u=_();c("ngClass",u.from=="globalSearch"?"w-full  grid lg:grid-cols-3 2xl:grid-cols-4 gap-10 p-5  flex-wrap  pb-[50px]":"w-full grid lg:grid-cols-3 gap-10 p-5  flex-wrap  pb-[50px]"),a(),c("ngForOf",u.doctorList)}}var Jt=(()=>{let e=class e{constructor(o,i,t,p,m,N){this.DoctorStateService=o,this.fb=i,this.SpecialityService=t,this.SpecializationService=p,this.DoctorProfileService=m,this.route=N,this.totalCount=0,this.doctorList=[],this.dataLoading=!0,this.subscriptions=[],this.noDataAvailable=!1,this.subs=new rt,this.doctorFilterDto={},this.filterModel={offset:0,limit:0,pageNo:0,pageSize:10,sortBy:"name",sortOrder:"asc",isDesc:!1},this.filter=this.fb.group({})}ngOnInit(){window.scrollTo(0,0),this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:[]}]}};let o=this.SpecializationService.getList().subscribe({next:i=>{this.specializationList=i,this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:i.map(t=>({id:t.id,name:t.specializationName}))}]}}},complete:()=>{o.unsubscribe()}});this.subscriptions.push(o),this.route.queryParams.subscribe(i=>{let t=i.doctorname;this.searchData(t),i||this.getDoctors()})}getSpecializations(){let o=this.SpecializationService.getList().subscribe({next:i=>{this.specializationList=i,this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:i.map(t=>({id:t.id,name:t.specializationName}))}]}}},complete:()=>{o.unsubscribe()}})}getDoctors(){if(this.DoctorStateService.doctorsList.value.length<=0){let o=this.DoctorStateService.getAllDoctorList().subscribe(i=>{this.doctorList=i,this.dataLoading=!1,this.noDataAvailable=!0});this.subscriptions.push(o)}else{let o=this.DoctorStateService.getDoctorListData().subscribe(i=>{this.doctorList=i,this.dataLoading=!1,this.noDataAvailable=!1});this.subscriptions.push(o)}}selectedFilterData(o){this.dataLoading=!0;let{consultancy:i,specialization:t}=o;this.doctorFilterDto.consultancyType=i,this.doctorFilterDto.specializationId=t,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,this.subs.sink=z([this.DoctorProfileService.getDoctorListFilter(this.doctorFilterDto,this.filterModel),this.DoctorProfileService.getDoctorsCountByFilters(this.doctorFilterDto)]).subscribe(([p,m])=>{this.totalCount=m,this.dataLoading=!1,this.doctorList=p},p=>{console.log(p)})}searchData(o){this.dataLoading=!0,this.doctorFilterDto.name=o,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,this.subs.sink=z([this.DoctorProfileService.getDoctorListFilter(this.doctorFilterDto,this.filterModel),this.DoctorProfileService.getDoctorsCountByFilters(this.doctorFilterDto)]).subscribe(([i,t])=>{this.totalCount=t,t<1?(this.noDataAvailable=!0,this.dataLoading=!1,this.doctorList=i):(this.noDataAvailable=!1,this.doctorList=i,this.dataLoading=!1)},i=>{console.log(i)})}pageChanged(o){this.filterModel.pageNo=o}pageSizeChanged(o){this.filterModel.pageNo=1,this.filterModel.pageSize=o,this.doctorList}};e.\u0275fac=function(i){return new(i||e)(s(ot),s($),s(Q),s(X),s(J),s(R))},e.\u0275cmp=x({type:e,selectors:[["app-public-doctors"]],inputs:{from:"from"},decls:19,vars:11,consts:[[1,"absolute","top-0","right-0",3,"hasBackdrop"],["mode","side"],["drawer",""],[1,"doctor-dashboard_midcontent_container","w-full"],[1,"flex","items-center","justify-left","border-[1px]"],[1,"w-full","relative","pb-10"],[3,"filterInput","filterForm","selectedValueForFilter","getSpecializations","searchValue"],["class","grid grid-cols-4 gap-10 flex-wrap p-5",4,"ngIf"],["class","flex justify-center items-center h-[500px] w-full",4,"ngIf"],[1,"px-6"],[3,"ngClass",4,"ngIf"],[1,"w-full","flex","justify-center"],["aria-label","Select page",1,"bg-primary/5","w-fit","py-2","px-2.5","rounded-xl","shadow-2xl","shadow-secondary/10",3,"length","pageSize","pageIndex","page"],[1,"grid","grid-cols-4","gap-10","flex-wrap","p-5"],[1,"flex","justify-center","items-center","h-[500px]","w-full"],[3,"ngClass"],["class","h-full",4,"ngFor","ngForOf"],[1,"h-full"],[1,"max-w-[350px]","min-w-[310px]",3,"doctorDetails"]],template:function(i,t){i&1&&(n(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),d(3,"I'm a drawer"),l(),n(4,"mat-drawer-content")(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-filter",6),S("selectedValueForFilter",function(m){return t.selectedFilterData(m)})("getSpecializations",function(){return t.getSpecializations()})("searchValue",function(m){return t.searchData(m)}),l(),D(9,Ct,9,0,"div",7)(10,wt,4,1,"div",8),n(11,"p",9),d(12,"Total "),n(13,"strong"),d(14),l(),d(15),l(),D(16,Ft,2,2,"div",10),n(17,"div",11)(18,"mat-paginator",12),S("page",function(m){return t.pageChanged(m)}),l()()()()()()()),i&2&&(c("hasBackdrop",!0),a(8),c("filterInput",t.filterInput)("filterForm",t.filter),a(),c("ngIf",t.dataLoading),a(),c("ngIf",t.noDataAvailable),a(4),j(t.totalCount),a(),f(" ",t.totalCount>1?"doctors":"doctor"," found."),a(),c("ngIf",!t.dataLoading),a(2),c("length",t.totalCount)("pageSize",t.filterModel.pageSize)("pageIndex",t.filterModel.pageNo))},dependencies:[E,A,B,bt,nt,st,dt,mt,ft,pt],styles:[".mdc-line-ripple{display:none}  .mat-mdc-text-field-wrapper{border:1px solid rgb(211,211,211);height:45px!important}  .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:30px}  .mat-mdc-select-arrow svg{top:0}  .mat-mdc-form-field{margin-right:15px;border-radius:10px}  .mat-mdc-paginator-page-size-select{height:40px}  .mat-mdc-paginator-container{background:#fff;border-radius:10px}  .mat-mdc-form-field-infix{padding-top:9px!important;padding-bottom:0}"]});let r=e;return r})();var St=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[b]});let r=e;return r})();var xt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[b,y,q,V.forChild([]),ht,it,et,St,tt,w,I,F]});let r=e;return r})();var ke=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g({type:e}),e.\u0275inj=h({imports:[b,xt,gt,y,w,lt,ct,F,I,vt,ut]});let r=e;return r})();export{Jt as a,ke as b};
