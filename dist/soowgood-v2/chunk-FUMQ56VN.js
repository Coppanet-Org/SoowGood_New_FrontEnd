import{a as yt}from"./chunk-XESAUNIT.js";import{a as nt}from"./chunk-OJPDXZDY.js";import{a as st}from"./chunk-U4MYN3M4.js";import{a as gt,b as vt,c as bt,d as xt}from"./chunk-IHVDFC37.js";import{a as pt}from"./chunk-OTI4OE5H.js";import{a as at}from"./chunk-2XXZEJGJ.js";import{b as it}from"./chunk-UGVBX5RU.js";import{a as ft,b as ut,c as ht,d as St}from"./chunk-NJT2CX5W.js";import{b as mt}from"./chunk-ZAD4PLLB.js";import{a as rt,b as ct}from"./chunk-X6SVO7OM.js";import{a as dt}from"./chunk-7NGZH4SF.js";import{b as lt,j as _}from"./chunk-EOAKK2OL.js";import{a as Q}from"./chunk-DIK5M47G.js";import{h as I,k as F}from"./chunk-JN5TIQFO.js";import{b as C,g as M}from"./chunk-KXUW234Y.js";import{c as K}from"./chunk-KZ73FH3X.js";import{k as Y,l as Z,v as tt,w as et,z as ot}from"./chunk-B6XPZLTG.js";import{a as X}from"./chunk-6E6ZED7T.js";import{C as H,D as J,E as w}from"./chunk-FUUASHDU.js";import{Ha as v,Na as p,S as h,Ta as E,Ub as O,Vb as V,Wb as R,X as D,Y as g,Ya as a,Za as l,_a as b,aa as P,ba as j,cb as A,cc as S,fc as $,gb as x,ib as y,n as N,sc as q,ub as d,uc as W,vb as B,wb as u,xb as U,xc as G,ya as n,za as c}from"./chunk-PJQ4EZIT.js";import{a as T,b as z}from"./chunk-5G567QLT.js";function Ft(o,i){if(o&1){let m=A();a(0,"button",15),x("click",function(){P(m);let t=y();return j(t.openDialog())}),d(1),l()}if(o&2){let m=y();p("disabled",m.isLoading),n(),u(" ",m.isLoading?"Loading":"Book Now"," ")}}var Dt=(()=>{let i=class i{constructor(r,t,e,s,f,k){this.dialog=r,this.DoctorScheduleService=t,this.router=e,this.TosterService=s,this.NormalAuth=f,this.UserinfoStateService=k,this.doctorScheduleList=[],this.isLoading=!1,this.picUrl=`${Q.apis.default.url}/`}ngOnInit(){this.isAuthUser=this.NormalAuth.authInfo();let r=this.doctorDetails.profilePic,t=/wwwroot/gi,e=r?.replace(t,"");this.doctorPicurl=this.picUrl+e}openDialog(){this.isLoading=!0,this.doctorDetails!="undefine || null"&&this.DoctorScheduleService.getDetailsScheduleListByDoctorId(this.doctorDetails.id).subscribe(r=>{this.isLoading=!1,r?.length>0&&this.doctorDetails?this.dialog.open(pt,{maxWidth:600,minWidth:450,data:{doctorDetails:z(T({},this.doctorDetails),{picUrl:this.doctorPicurl}),doctorScheduleInfo:r,userAccess:this.isAuthUser.userType!="doctor",isAuthUser:!!this.isAuthUser?.id}}):(this.isLoading=!1,this.TosterService.customToast("No Details/Schedule found","warning"))})}goToProfile(){this.router.navigate([`/search/doctors/${this.doctorDetails.id}`])}};i.\u0275fac=function(t){return new(t||i)(c(K),c(Z),c(W),c(ot),c(X),c(it))},i.\u0275cmp=D({type:i,selectors:[["app-doctor-card"]],inputs:{doctorDetails:"doctorDetails"},decls:21,vars:7,consts:[[1,"relative","flex","group","h-[400px]","overflow-hidden","w-full","transition-all","duration-500","shadow-2xl","shadow-secondary/10","flex-col","rounded-xl","bg-white","bg-clip-border","text-gray-700","border-[1px]"],[1,"relative","box-border","flex","justify-center","py-10","h-[100px]","bg-primary/90","w-full"],[1,"w-[120px]","overflow-hidden","shadow-2xl","shadow-primary/30","bg-white","h-[120px]","rounded-full","border-secondary/50","border-[1px]"],["alt","avater","height","70","width","70",1,"w-full","h-full","object-cover",3,"ngSrc"],[1,"px-10","pt-9","mt-10","flex","flex-col","items-center","h-full"],[1,"flex","items-center","justify-between"],[1,"block","text-center","text-[18px]","font-Roboto","font-medium","leading-snug","tracking-normal","text-blue-gray-900","antialiased"],[1,"mr-2"],[1,"fa-solid","fa-circle-check","text-green-500","text-[14px]"],[1,"block","text-center","font-normal","font-Roboto","text-[14px]","leading-relaxed","text-gray-500","antialiased"],[1,"mt-3","text-center"],[1,"text-[20px]","text-secondary","font-medium","font-Roboto"],[1,"px-4","pt-5","pb-4","flex","gap-2"],["class","rounded-md block hover:bg-secondary/90 bg-primary w-full select-none hover:border-secondary border-secondary/20 border-[1px] py-2 px-7 text-center align-middle font-sans font-medium text-[14px] text-white hover:text-white/90 transition-all focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","type","button","data-ripple-light","true",3,"disabled"],["type","button","data-ripple-light","true",1,"rounded-md","block","w-full","hover:bg-secondary/90","bg-secondary-light","select-none","hover:border-secondary","border-secondary/20","border-[1px]","py-2","px-7","text-center","align-middle","font-sans","font-medium","text-[14px]","text-secondary-dark","hover:text-white/90","transition-all","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click"],["type","button","data-ripple-light","true",1,"rounded-md","block","hover:bg-secondary/90","bg-primary","w-full","select-none","hover:border-secondary","border-secondary/20","border-[1px]","py-2","px-7","text-center","align-middle","font-sans","font-medium","text-[14px]","text-white","hover:text-white/90","transition-all","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"disabled","click"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),b(3,"img",3),l()(),a(4,"div",4)(5,"div",5)(6,"h4",6),d(7),a(8,"span",7),b(9,"i",8),l()()(),a(10,"p",9),d(11),l(),a(12,"p",9),d(13),l(),a(14,"div",10)(15,"span",11),d(16),l()()(),a(17,"div",12),v(18,Ft,2,2,"button",13),a(19,"button",14),x("click",function(){return e.goToProfile()}),d(20," Profile "),l()()()),t&2&&(n(3),p("ngSrc",e.doctorPicurl?e.doctorPicurl:"/assets/doctor/avater.png"),n(4),U(" ",e.doctorDetails.doctorTitleName,". ",e.doctorDetails.fullName," "),n(4),u(" ",e.doctorDetails.qualifications," "),n(2),u(" ",e.doctorDetails.areaOfExperties," "),n(3),u("Minimum Fee: ",e.doctorDetails.displayFee," Tk. "),n(2),E(18,(e.isAuthUser==null?null:e.isAuthUser.userType)!=="doctor"?18:-1))},dependencies:[$],styles:[".dialog-panel[_ngcontent-%COMP%]{width:200px;background:red}"]});let o=i;return o})();function Lt(o,i){o&1&&(a(0,"div",13),b(1,"app-skeleton")(2,"app-skeleton")(3,"app-skeleton")(4,"app-skeleton")(5,"app-skeleton")(6,"app-skeleton")(7,"app-skeleton")(8,"app-skeleton"),l())}function kt(o,i){if(o&1&&(a(0,"div",14)(1,"div"),d(2,"No records has been found!"),l(),d(3),l()),o&2){let m=y();n(3),u(" ",m.noDataAvailable," ")}}function Nt(o,i){if(o&1&&(a(0,"div",17),b(1,"app-doctor-card",18),l()),o&2){let m=i.$implicit;n(),p("doctorDetails",m)}}function Tt(o,i){if(o&1&&(a(0,"div",15),v(1,Nt,2,1,"div",16),l()),o&2){let m=y();p("ngClass",m.from=="globalSearch"?"w-full  grid lg:grid-cols-3 xl:grid-cols-4 gap-7 p-5  flex-wrap  pb-[50px]":"w-full grid lg:grid-cols-3 gap-10 p-5  flex-wrap  pb-[50px]"),n(),p("ngForOf",m.doctorList)}}var Zt=(()=>{let i=class i{constructor(r,t,e,s,f,k){this.DoctorStateService=r,this.fb=t,this.SpecialityService=e,this.SpecializationService=s,this.DoctorProfileService=f,this.route=k,this.totalCount=0,this.doctorList=[],this.dataLoading=!0,this.subscriptions=[],this.noDataAvailable=!1,this.subs=new dt,this.doctorFilterDto={},this.filterModel={offset:0,limit:0,pageNo:0,pageSize:10,sortBy:"name",sortOrder:"asc",isDesc:!1},this.filter=this.fb.group({})}ngOnInit(){window.scrollTo(0,0),this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:[]}]}};let r=this.SpecializationService.getList().subscribe({next:t=>{this.specializationList=t,this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:t.map(e=>({id:e.id,name:e.specializationName}))}]}}},complete:()=>{r.unsubscribe()}});this.subscriptions.push(r),this.route.queryParams.subscribe(t=>{let e=t.doctorname,s=t.type;this.selectedFilterData({consultancy:s}),this.searchData(e),t||this.getDoctors()})}getSpecializations(){let r=this.SpecializationService.getList().subscribe({next:t=>{this.specializationList=t,this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancy",options:M.getEnumList(C)},{label:"Specialization",fieldType:"select",formControlName:"specialization",options:t.map(e=>({id:e.id,name:e.specializationName}))}]}}},complete:()=>{r.unsubscribe()}})}getDoctors(){if(this.DoctorStateService.doctorsList.value.length<=0){let r=this.DoctorStateService.getAllDoctorList().subscribe(t=>{this.doctorList=t,this.dataLoading=!1,this.noDataAvailable=!0});this.subscriptions.push(r)}else{let r=this.DoctorStateService.getDoctorListData().subscribe(t=>{this.doctorList=t,this.dataLoading=!1,this.noDataAvailable=!1});this.subscriptions.push(r)}}selectedFilterData(r){this.dataLoading=!0;let{consultancy:t,specialization:e}=r;this.doctorFilterDto.consultancyType=t,this.doctorFilterDto.specializationId=e,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,this.subs.sink=N([this.DoctorProfileService.getDoctorListFilter(this.doctorFilterDto,this.filterModel),this.DoctorProfileService.getDoctorsCountByFilters(this.doctorFilterDto)]).subscribe(([s,f])=>{this.totalCount=f,this.dataLoading=!1,this.doctorList=s},s=>{console.log(s)})}searchData(r){this.dataLoading=!0,this.doctorFilterDto.name=r,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,this.subs.sink=N([this.DoctorProfileService.getDoctorListFilter(this.doctorFilterDto,this.filterModel),this.DoctorProfileService.getDoctorsCountByFilters(this.doctorFilterDto)]).subscribe(([t,e])=>{this.totalCount=e,e<1?(this.noDataAvailable=!0,this.dataLoading=!1,this.doctorList=t):(this.noDataAvailable=!1,this.doctorList=t,this.dataLoading=!1)},t=>{console.log(t)})}pageChanged(r){this.filterModel.pageNo=r}pageSizeChanged(r){this.filterModel.pageNo=1,this.filterModel.pageSize=r,this.doctorList}};i.\u0275fac=function(t){return new(t||i)(c(at),c(H),c(tt),c(et),c(Y),c(q))},i.\u0275cmp=D({type:i,selectors:[["app-public-doctors"]],inputs:{from:"from"},decls:19,vars:11,consts:[[1,"absolute","top-0","right-0",3,"hasBackdrop"],["mode","side"],["drawer",""],[1,"doctor-dashboard_midcontent_container","w-full"],[1,"flex","items-center","justify-left","border-[1px]"],[1,"w-full","relative","pb-10"],[3,"filterInput","filterForm","selectedValueForFilter","getSpecializations","searchValue"],["class","grid grid-cols-4 gap-10 flex-wrap p-5",4,"ngIf"],["class","flex justify-center items-center h-[500px] w-full",4,"ngIf"],[1,"px-6"],[3,"ngClass",4,"ngIf"],[1,"w-full","flex","justify-center"],["aria-label","Select page",1,"bg-primary/5","w-fit","py-2","px-2.5","rounded-xl","shadow-2xl","shadow-secondary/10",3,"length","pageSize","pageIndex","page"],[1,"grid","grid-cols-4","gap-10","flex-wrap","p-5"],[1,"flex","justify-center","items-center","h-[500px]","w-full"],[3,"ngClass"],["class","h-full",4,"ngFor","ngForOf"],[1,"h-full"],[1,"max-w-[350px]","min-w-[310px]",3,"doctorDetails"]],template:function(t,e){t&1&&(a(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),d(3,"I'm a drawer"),l(),a(4,"mat-drawer-content")(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-filter",6),x("selectedValueForFilter",function(f){return e.selectedFilterData(f)})("getSpecializations",function(){return e.getSpecializations()})("searchValue",function(f){return e.searchData(f)}),l(),v(9,Lt,9,0,"div",7)(10,kt,4,1,"div",8),a(11,"p",9),d(12," Total "),a(13,"strong"),d(14),l(),d(15),l(),v(16,Tt,2,2,"div",10),a(17,"div",11)(18,"mat-paginator",12),x("page",function(f){return e.pageChanged(f)}),l()()()()()()()),t&2&&(p("hasBackdrop",!0),n(8),p("filterInput",e.filterInput)("filterForm",e.filter),n(),p("ngIf",e.dataLoading),n(),p("ngIf",e.noDataAvailable),n(4),B(e.totalCount),n(),u(" ",e.totalCount>1?"doctors":"doctor"," found. "),n(),p("ngIf",!e.dataLoading),n(2),p("length",e.totalCount)("pageSize",e.filterModel.pageSize)("pageIndex",e.filterModel.pageNo))},dependencies:[O,V,R,Dt,rt,ft,ht,vt,bt,gt],styles:[".mdc-line-ripple{display:none}  .mat-mdc-text-field-wrapper{border:1px solid rgb(211,211,211);height:45px!important}  .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:30px}  .mat-mdc-select-arrow svg{top:0}  .mat-mdc-form-field{margin-right:15px;border-radius:10px}  .mat-mdc-paginator-page-size-select{height:40px}  .mat-mdc-paginator-container{background:#fff;border-radius:10px}  .mat-mdc-form-field-infix{padding-top:9px!important;padding-bottom:0}"]});let o=i;return o})();var wt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g({type:i}),i.\u0275inj=h({imports:[S]});let o=i;return o})();var Ct=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g({type:i}),i.\u0275inj=h({imports:[S,w,J,G.forChild([]),yt,st,lt,wt,nt,I,F,_]});let o=i;return o})();var Ae=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g({type:i}),i.\u0275inj=h({imports:[S,Ct,ct,w,I,mt,ut,_,F,St,xt]});let o=i;return o})();export{Zt as a,Ae as b};
