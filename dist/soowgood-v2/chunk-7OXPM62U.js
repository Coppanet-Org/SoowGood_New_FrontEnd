import{a as c}from"./chunk-IUGAQDJ3.js";import{c as h,e as P,k as u,r as l}from"./chunk-MSMBLCDC.js";import{a as f}from"./chunk-Y6SRJCZB.js";import{R as o,U as n,e as a}from"./chunk-BMLH63KZ.js";var j=(()=>{let r=class r{constructor(t,e,i,v,m,p){this.LoaderService=t,this.DoctorProfileService=e,this.AgentProfileService=i,this.PatientProfileService=v,this.NormalAuth=m,this.AppointmentService=p,this.authenticateUserInfo=new a({}),this.userPatientInfo=new a([])}sendData(t){this.authenticateUserInfo.next(t)}getData(){return this.authenticateUserInfo.asObservable()}sendUserPatientData(t){this.userPatientInfo.next(t)}getUserPatientData(){return this.userPatientInfo.asObservable()}ngOnInit(){let t=this.NormalAuth.authInfo();console.log(t),t.id&&this.getProfileInfo(t.id,t.userType)}getProfileInfo(t,e){t&&(e=="doctor"&&this.DoctorProfileService.get(t).subscribe(i=>{this.sendData(i)}),e=="agent"&&this.AgentProfileService.get(t).subscribe(i=>{this.sendData(i)}),e=="patient"&&this.PatientProfileService.get(t).subscribe(i=>{this.sendData(i)}))}getUserPatientInfo(t,e){t&&(e==="patient"||e==="agent")&&this.PatientProfileService.getPatientListByUserProfileId(t,e).subscribe(i=>{this.sendUserPatientData(i),console.log(i)}),t&&e==="doctor"?this.AppointmentService.getPatientListByDoctorId(t).subscribe({next:i=>{this.sendUserPatientData(i)}}):this.sendUserPatientData(null)}};r.\u0275fac=function(e){return new(e||r)(n(c),n(u),n(h),n(l),n(f),n(P))},r.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{j as a};
