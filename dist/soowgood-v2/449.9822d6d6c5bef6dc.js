"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[449],{4449:(C,l,n)=>{n.r(l),n.d(l,{ProfileSettingsModule:()=>P});var a=n(6895),d=n(2510),r=n(4006),u=n(7905),f=n(8581),m=n(5649),t=n(4650),h=n(6084),c=n(629),g=n(2381),v=n(427),x=n(4473);function y(o,s){if(1&o&&(t.ynx(0,26),t._UZ(1,"app-input",27),t.BQk()),2&o){const i=s.$implicit;t.xp6(1),t.Q6J("label",i.label)("inputId",i.inputId)("isSelectInput",i.isSelect)("readonly",!!i.readonly&&i.readonly)("options",i.options)("formControlName",i.formControlName)("type",i.type)("placeholder",i.label)}}function S(o,s){1&o&&(t.TgZ(0,"div",28),t.O4$(),t.TgZ(1,"svg",29),t._UZ(2,"path",30),t.qZA(),t.kcU(),t.TgZ(3,"span"),t._uU(4,"Update Info"),t.qZA()())}function I(o,s){1&o&&t._UZ(0,"span",31)}const b=[{path:"",component:(()=>{class o{constructor(i,e,p,Z,T,U){this.fb=i,this.PatientProfileService=e,this.NormalAuth=p,this.TosterService=Z,this.UserinfoStateService=T,this.datePipe=U,this.animationDirection="left",this.patientInputData=m.JK,this.isLoading=!1}ngOnInit(){this.loadForm();let i=this.NormalAuth.authInfo().id;this.patientId=i,this.fetchProfileInfo(i),this.UserinfoStateService.getData().subscribe(e=>this.profileInfo=e)}loadForm(){this.form=this.fb.group({fullName:["",r.kI.required],dateOfBirth:["",r.kI.required],city:[""],country:[""],mobileNo:[""],email:[""],address:["",r.kI.required],zipCode:["",r.kI.required]})}submit(){this.isLoading=!0;let i=[];for(const e in this.form.value)this.form.value.hasOwnProperty(e)&&this.form.value[e]!==this.profileInfo[e]&&i.push(e);0===i.length?(this.TosterService.customToast("Nothing has changed","warning"),this.isLoading=!1):(this.isLoading=!0,this.PatientProfileService.update({...this.form.value,id:this.patientId}).subscribe(e=>{this.TosterService.customToast("Successfully update","success"),this.isLoading=!1,this.UserinfoStateService.getProfileInfo(this.patientId,"patient")},e=>{this.isLoading=!1,this.TosterService.customToast(e.message,"error")}))}fetchProfileInfo(i){i&&this.UserinfoStateService.getData().subscribe(e=>{e.dateOfBirth=this.formatDate(e.dateOfBirth),this.form?.patchValue(e)},e=>{this.TosterService.customToast(e.message,"error")})}formatDate(i){if(!i)return"";const e=new Date(i);return this.datePipe.transform(e,"yyyy-MM-dd")||""}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(r.qu),t.Y36(h.j),t.Y36(c.e),t.Y36(g.G),t.Y36(v.Z),t.Y36(a.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-profile-settings"]],decls:35,vars:10,consts:[[1,"doctor-dashboard_midcontent_container"],[1,"mx-auto"],[1,"bg-white","relative","shadow","rounded-lg","w-full","mx-auto"],[1,"p-10","pt-8"],[1,"flex","justify-between","items-center"],[1,"flex","justify-left","items-center","gap-6"],[1,"relative","w-[128px]","h-[128px]","bg-white","transition"],["alt","",1,"object-cover","rounded-lg","mx-auto","w-32","h-32","shadow-md","border-4","border-white",3,"src"],["type","file","accept",".gif,.jpg,.jpeg,.png,.doc,.docx,.pdf","multiple","",2,"display","none"],["attachments","","fileInput",""],[1,"duration-200","transform","hover:scale-110","flex","justify-center","items-center","cursor-pointer","absolute","-bottom-[8px]","-right-[8px]","w-[30px]","h-[30px]","rounded-full","p-1","bg-white","z-20","border-[1px]"],[1,"fa-solid","fa-camera","text-primary"],[1,"font-bold","text-left","text-3xl","text-gray-800","dashbord-heading-text"],[1,"text-left","text-sm","text-gray-400","mt-2","font-medium","dashbord-heading-subtext"],[1,"flex","gap-4","mt-4"],[1,"btn-secondary","!py-1.5","px-4","shadow-none","btn","font-normal","bg-secondary-light/50","text-secondary-dark","border-secondary-dark/20",3,"routerLink"],[1,"fa-solid","fa-user","mr-2"],[1,"fa-solid","fa-plus","mr-2"],[1,"flex","items-center","justify-left","mt-10","relative"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],["class","w-full",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","w-fit","mt-6"],[1,"btn","btn-secondary","px-10","hover:text-primary","border-transparent","hover:border","hover:border-secondary-border","group",3,"click"],["class","flex items-center gap-1 text-white group-hover:text-primary",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"w-full"],[1,"sm:w-1/3",3,"label","inputId","isSelectInput","readonly","options","formControlName","type","placeholder"],[1,"flex","items-center","gap-1","text-white","group-hover:text-primary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"loading","loading-dots","loading-md"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t._UZ(8,"img",7)(9,"input",8,9),t.TgZ(12,"div",10),t._UZ(13,"i",11),t.qZA()(),t.TgZ(14,"div")(15,"h1",12),t._uU(16),t.qZA(),t.TgZ(17,"p",13),t._uU(18),t.qZA(),t.TgZ(19,"div",14)(20,"button",15),t._UZ(21,"i",16),t._uU(22," View Profile "),t.qZA(),t.TgZ(23,"button",15),t._UZ(24,"i",17),t._uU(25," Create Patient "),t.qZA()()()()(),t.TgZ(26,"div",18)(27,"div")(28,"form",19)(29,"div",20),t.YNc(30,y,2,8,"ng-container",21),t.qZA(),t.TgZ(31,"div",22)(32,"button",23),t.NdJ("click",function(){return e.submit()}),t.YNc(33,S,5,0,"div",24),t.YNc(34,I,1,0,"span",25),t.qZA()()()()()()()()()()),2&i&&(t.Q6J("@slideInFrom",e.animationDirection),t.xp6(8),t.Q6J("src",e.url?e.url:"../../../../../assets/doctor/dr.jpeg",t.LSH),t.xp6(8),t.hij(" ",null==e.profileInfo?null:e.profileInfo.fullName," "),t.xp6(2),t.hij(" ",e.profileInfo.email," "),t.xp6(2),t.Q6J("routerLink","patient-details/1"),t.xp6(3),t.Q6J("routerLink","../my-patient"),t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("ngForOf",e.patientInputData),t.xp6(3),t.Q6J("ngIf",0==e.isLoading),t.xp6(1),t.Q6J("ngIf",1==e.isLoading))},dependencies:[a.sg,a.O5,d.rH,r._Y,r.JJ,r.JL,r.sg,r.u,x.a],data:{animation:[(0,f.f)("left"),(0,f.d)("top")]}}),o})()},{path:"patient-details/:id",loadChildren:()=>Promise.all([n.e(229),n.e(848),n.e(638)]).then(n.bind(n,8638)).then(o=>o.PatientDetailsModule)}];let P=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[a.uU],imports:[a.ez,d.Bz.forChild(b),r.UX,r.u5,u.g]}),o})()}}]);