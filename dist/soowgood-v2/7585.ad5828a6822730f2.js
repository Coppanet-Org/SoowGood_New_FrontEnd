"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[7585],{7585:(I,_,d)=>{d.r(_),d.d(_,{HospitalScheduleModule:()=>Ie});var c=d(6814),b=d(8184),v=d(6427),e=d(9212),T=d(8645),Z=d(5619);let h=(()=>{class i{constructor(){this.sharedDataSubject=new T.x,this.individualScheduleInfo=new T.x,this.individualScheduleInfoForEdit=new T.x,this.hospitalScheduleFormEvent=new Z.X(!1),this.doctorScheduleList=new Z.X([])}sendData(t){this.sharedDataSubject.next(t)}getData(){return this.sharedDataSubject.asObservable()}setHospitalScheduleFormEvent(t){this.hospitalScheduleFormEvent.next(t)}getHospitalScheduleFormEvent(){return this.hospitalScheduleFormEvent.asObservable()}setIndividualScheduleInfo(t){this.individualScheduleInfo.next(t)}getIndividualScheduleInfo(){return this.individualScheduleInfo.asObservable()}getIndividualScheduleInfoForEdit(){return this.individualScheduleInfoForEdit.asObservable()}setIndividualScheduleInfoForEdit(t){this.individualScheduleInfoForEdit.next(t)}getDoctorScheduleList(){return this.doctorScheduleList.asObservable()}setDoctorScheduleList(t){this.doctorScheduleList.next(t)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var x=d(1545),n=d(6223),p=d(7700),N=d(7785),y=d(7832),g=d(9483),S=d(9802);function J(i,l){1&i&&(e.TgZ(0,"p",23),e._uU(1," Hospital/Chamber name is required! "),e.qZA())}function k(i,l){1&i&&(e.TgZ(0,"p",23),e._uU(1," Address is required! "),e.qZA())}function Y(i,l){1&i&&(e.TgZ(0,"p",23),e._uU(1," City name is required! "),e.qZA())}function P(i,l){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t),e.xp6(),e.hij(" ",t," ")}}function H(i,l){1&i&&(e.TgZ(0,"p",23),e._uU(1," Please select your country! "),e.qZA())}function E(i,l){1&i&&(e.TgZ(0,"p",23),e._uU(1," Zip code should be a 4-digit number. "),e.qZA())}let w=(()=>{class i{constructor(t,o,r,s,a,u){this.fb=t,this.dialogRef=o,this.DoctorChamberService=r,this.normalAuth=s,this.tosterService=a,this.editData=u,this.formSubmitted=!1,this.countryList=N.h,this.isLoading=!1}ngOnInit(){let t=this.normalAuth.authInfo();t&&t.id&&(this.loadForm(t.id),this.doctorId=t.id),this.editData&&this.form.patchValue(this.editData)}loadForm(t){this.form=this.fb.group({doctorProfileId:[t,n.kI.required],chamberName:["",n.kI.required],city:["",n.kI.required],country:["Bangladesh",n.kI.required],address:["",n.kI.required],zipCode:[""]})}submit(){this.formSubmitted=!0;const{doctorProfileId:t,chamberName:o,city:r,country:s,address:a}=this.form.value;t&&o&&r&&s&&a?(this.isLoading=!0,this.editData?this.DoctorChamberService.update({...this.form.value,id:this.editData.id}).subscribe({next:u=>{this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0),this.isLoading=!1},error:()=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.isLoading=!1,this.dialogRef.close(!1)}}):this.DoctorChamberService.create(this.form.value).subscribe({next:u=>{this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0),this.isLoading=!1},error:()=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.isLoading=!1,this.dialogRef.close(!1)}})):this.tosterService.customToast("Please fill all the required fields!","warning")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(p.so),e.Y36(y.z),e.Y36(g.e),e.Y36(S.G),e.Y36(p.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospital-dialog"]],decls:42,vars:9,consts:[[1,"flex","justify-between","py-3","md:py-4","px-3","md:px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text","text-[16px]","md:text-[18px]"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-6","md:px-10","py-4","md:py-6","max-w-[500px]"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-full"],[1,"mb-5"],["for","chamberName",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","chamberName","type","text","name","chamberName","id","chamberName","placeholder","Hospital Name","required","",1,"form_input"],["class","text-red-500 text-sm",4,"ngIf"],[1,"w-full","px-3","sm:w-1/2"],["for","address",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","Address","formControlName","address","type","text","name","address","id","address",1,"form_input"],["for","city",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","City","formControlName","city","type","text","name","city","id","city","placeholder","City",1,"form_input"],["for","country",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","country","id","country","placeholder","Enter Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","md:py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["for","zipCode",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","Zip Code","formControlName","zipCode","minlength","4","maxlength","5","type","text","name","zipCode","id","zipCode","placeholder","zipCode",1,"form_input"],[1,"btn-secondary",3,"click"],[1,"text-red-500","text-sm"],[1,"font-semibold","text-gray-500",3,"value"]],template:function(o,r){if(1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.dialogRef.close(!0)}),e._uU(5," Close "),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Hospital/Chamber Name "),e.qZA(),e._UZ(13,"input",10),e.YNc(14,J,2,0,"p",11),e.qZA()(),e.TgZ(15,"div",12)(16,"div",8)(17,"label",13),e._uU(18," Address "),e.qZA(),e._UZ(19,"input",14),e.YNc(20,k,2,0,"p",11),e.qZA()(),e.TgZ(21,"div",12)(22,"div",8)(23,"label",15),e._uU(24," City "),e.qZA(),e._UZ(25,"input",16),e.YNc(26,Y,2,0,"p",11),e.qZA()(),e.TgZ(27,"div",12)(28,"div",8)(29,"label",17),e._uU(30," Country "),e.qZA(),e.TgZ(31,"select",18),e.YNc(32,P,2,2,"option",19),e.qZA(),e.YNc(33,H,2,0,"p",11),e.qZA()(),e.TgZ(34,"div",12)(35,"div",8)(36,"label",20),e._uU(37," Zip Code "),e.qZA(),e._UZ(38,"input",21),e.YNc(39,E,2,0,"p",11),e.qZA()()(),e.TgZ(40,"button",22),e.NdJ("click",function(){return r.submit()}),e._uU(41),e.qZA()()()),2&o){let s,a,u,m,f;e.xp6(3),e.hij(" ",r.editData?"Update":"Add"," Hospital/Chamber "),e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(7),e.Q6J("ngIf",r.formSubmitted&&(null==(s=r.form.get("chamberName"))?null:s.hasError("required"))),e.xp6(6),e.Q6J("ngIf",r.formSubmitted&&(null==(a=r.form.get("address"))?null:a.invalid)),e.xp6(6),e.Q6J("ngIf",r.formSubmitted&&(null==(u=r.form.get("city"))?null:u.invalid)),e.xp6(6),e.Q6J("ngForOf",r.countryList),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(m=r.form.get("country"))?null:m.hasError("required"))),e.xp6(6),e.Q6J("ngIf",r.formSubmitted&&(null==(f=r.form.get("zipCode"))?null:f.hasError("required"))),e.xp6(2),e.hij(" ",r.isLoading?"Loading...":"Submit"," ")}},dependencies:[c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.Q7,n.wO,n.nD,n.sg,n.u]})}return i})();function O(i,l){1&i&&e._UZ(0,"i",6)}function Q(i,l){1&i&&e._UZ(0,"i",7)}let C=(()=>{class i{constructor(t){this.HospitalStateService=t,this.openForm=new e.vpe,this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(o=>this.buttonStatus=o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-section-header"]],inputs:{headingText:"headingText",buttonText:"buttonText",iconClass:"iconClass"},outputs:{openForm:"openForm"},decls:8,vars:6,consts:[[1,"py-2","pl-5","mt-7","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"inline-block","font-Roboto","w-fit","text-[15px]","md:text-[18px]","font-medium"],[1,"text-primary","mr-1","text-[14px]","md:text-[18px]"],[1,"btn-secondary-light","min-w-fit","px-3","md:px-4","border-secondary-dark/30","border-[1px]",3,"click"],["class","fa-solid fa-arrow-down mr-1 rotate-50",4,"ngIf"],["class","fa-solid fa-arrow-up mr-1 rotate-50",4,"ngIf"],[1,"fa-solid","fa-arrow-down","mr-1","rotate-50"],[1,"fa-solid","fa-arrow-up","mr-1","rotate-50"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.openForm.emit()}),e.YNc(5,O,1,0,"i",4)(6,Q,1,0,"i",5),e._uU(7),e.qZA()()),2&o&&(e.xp6(2),e.Tol(r.iconClass),e.xp6(),e.hij(" ",r.headingText," "),e.xp6(2),e.Q6J("ngIf",!r.buttonStatus),e.xp6(),e.Q6J("ngIf",r.buttonStatus),e.xp6(),e.hij(" ",r.buttonText," "))},dependencies:[c.O5]})}return i})();function L(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.qZA(),e.TgZ(5,"td",11),e._uU(6),e.qZA(),e.TgZ(7,"td",11),e._uU(8),e.qZA(),e.TgZ(9,"td",11)(10,"a",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onPlaceEdit(s))}),e._uU(11,"Edit"),e.qZA()()()}if(2&i){const t=l.$implicit,o=l.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.chamberName),e.xp6(2),e.Oqu(t.city),e.xp6(2),e.Oqu(t.address)}}let R=(()=>{class i{constructor(t,o,r,s){this.dialog=t,this.normalAuth=o,this.doctorChamberService=r,this.HospitalStateService=s,this.chamberList=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;t&&(this.doctorId=t,this.getChamberList(t))}getChamberList(t){this.doctorChamberService.getDoctorChamberListByDoctorId(t).subscribe(o=>{this.chamberList=o,this.HospitalStateService.sendData(o)})}onPlaceEdit(t){this.dialog.open(w,{maxWidth:"500px",maxHeight:"450px",data:t}).afterClosed().subscribe(r=>{r&&this.getChamberList(this.doctorId)})}openDialog(){this.dialog.open(w,{}).afterClosed().subscribe(o=>{o&&this.getChamberList(this.doctorId)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.uw),e.Y36(g.e),e.Y36(y.z),e.Y36(h))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospital-info"]],decls:20,vars:4,consts:[[3,"headingText","iconClass","buttonText","openForm"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"td"],[1,"text-blue-500","hover:text-blue-700",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-section-header",0),e.NdJ("openForm",function(){return r.openDialog()}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),e._uU(9,"Id"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"Hospital Name"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"City"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Address"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody",9),e.YNc(19,L,12,4,"tr",10),e.qZA()()()()()()),2&o&&(e.Q6J("headingText","Hospital/Chamber")("iconClass","fa-solid fa-hospital")("buttonText","Add New"),e.xp6(19),e.Q6J("ngForOf",r.chamberList))},dependencies:[c.sg,C]})}return i})();var F=d(4661);let j=(()=>{class i{constructor(){this.closeDialog=new e.vpe}closeDialogs(){this.closeDialog.emit()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-dialog-header"]],inputs:{headingText:"headingText",buttonText:"buttonText",iconClass:"iconClass"},outputs:{closeDialog:"closeDialog"},decls:6,vars:3,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text","text-[15px]","md:text-[18px]"],[1,"mr-1","text-[15px]","md:text-[18px]"],[1,"btn-secondary-light",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.closeDialogs()}),e._uU(5,"Close"),e.qZA()()),2&o&&(e.xp6(2),e.Tol(r.iconClass),e.xp6(),e.hij(" ",r.headingText.title?r.headingText.title:r.headingText," "))}})}return i})();function G(i,l){1&i&&(e.TgZ(0,"p",20),e._uU(1," Start time is required! "),e.qZA())}function M(i,l){1&i&&(e.TgZ(0,"p",20),e._uU(1," End time is required! "),e.qZA())}function B(i,l){1&i&&(e.TgZ(0,"p",20),e._uU(1," Number of patients is required! "),e.qZA())}function $(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.ynx(1,9),e.TgZ(2,"div",10)(3,"div",11)(4,"label",12),e._uU(5," Start time "),e.qZA(),e._UZ(6,"input",13),e.YNc(7,G,2,0,"p",14),e.qZA()(),e.TgZ(8,"div",10)(9,"div",11)(10,"label",12),e._uU(11," End time "),e.qZA(),e._UZ(12,"input",15),e.YNc(13,M,2,0,"p",14),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"label",12),e._uU(17," Number of patients "),e.qZA(),e._UZ(18,"input",16),e.YNc(19,B,2,0,"p",14),e.qZA()(),e.TgZ(20,"div",17)(21,"button",18),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeAppointmentRow(s))}),e._UZ(22,"i",19),e.qZA()(),e.BQk(),e.qZA()}if(2&i){const t=l.index,o=e.oxw();let r,s,a;e.xp6(),e.Q6J("formGroupName",t),e.xp6(),e.Q6J("ngClass",0==t?"sm:w-[33%]":"sm:w-[28%]"),e.xp6(2),e.MGl("for","startTime",t,""),e.xp6(2),e.Q6J("id","startTime"+t),e.xp6(),e.Q6J("ngIf",o.formSubmitted&&(null==(r=o.form.get("appointments."+t+".startTime"))?null:r.hasError("required"))),e.xp6(),e.Q6J("ngClass",0==t?"sm:w-[33%]":"sm:w-[28%]"),e.xp6(2),e.MGl("for","endTime",t,""),e.xp6(2),e.Q6J("id","endTime"+t),e.xp6(),e.Q6J("ngIf",o.formSubmitted&&(null==(s=o.form.get("appointments."+t+".endTime"))?null:s.hasError("required"))),e.xp6(),e.Q6J("ngClass",0==t?"sm:w-[33%]":"sm:w-[28%]"),e.xp6(2),e.MGl("for","numberOfPatients",t,""),e.xp6(2),e.Q6J("id","noOfPatients"+t),e.xp6(),e.Q6J("ngIf",o.formSubmitted&&"0"==(null==(a=o.form.get("appointments."+t+".noOfPatients"))?null:a.value)),e.xp6(),e.Q6J("ngClass",t>0?"sm:w-[10%]":"hidden ")}}let z=(()=>{class i{constructor(t,o,r,s){this.fb=t,this.dialogRef=o,this.TosterService=r,this.editData=s,this.sId=0,this.formSubmitted=!1}ngOnInit(){this.form=this.fb.group({appointments:this.fb.array([this.createAppointmentGroup()])})}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const o=16*Math.random()|0;return("x"==t?o:3&o|8).toString(16)})}get days(){return this.form.get("appointments")}addAppointmentRow(){this.days.push(this.createAppointmentGroup())}createAppointmentGroup(){return this.sId=this.sId+1,this.fb.group({scheduleDayofWeek:[this.editData?.selectedDay,n.kI.required],startTime:["",n.kI.required],endTime:["",n.kI.required],noOfPatients:["0",n.kI.required],id:[this.uuidv4()]})}removeAppointmentRow(t){this.days.removeAt(t)}submit(){this.formSubmitted=!0,this.form.valid?(this.TosterService.customToast("Session added","success"),this.dialogRef.close({...this.form.value})):this.TosterService.customToast("Please field all required field","warning")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(p.so),e.Y36(S.G),e.Y36(p.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-schedule-dialog"]],decls:10,vars:4,consts:[[3,"headingText","iconClass","closeDialog"],[1,"px-6","md:px-10","py-4","md:py-6"],[1,"flex",3,"formGroup"],["formArrayName","appointments",1,"form-row"],["class","-mx-3 flex flex-wrap form-row-item",4,"ngFor","ngForOf"],[1,"flex","w-full","gap-2","sm:gap-4","flex-wrap","sm:flex-nowrap","mt-5"],["type","button",1,"btn-secondary-light","border","border-secondary-dark","w-full","md:w-fit","mr-0",3,"click"],["type","button",1,"btn-secondary","md:mr-4","w-full","md:w-fit",3,"click"],[1,"-mx-3","flex","flex-wrap","form-row-item"],[3,"formGroupName"],[1,"w-full","px-3",3,"ngClass"],[1,"mb-5"],[1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]",3,"for"],["formControlName","startTime","type","time",1,"form_input",3,"id"],["class","text-red-600 text-sm",4,"ngIf"],["formControlName","endTime","type","time",1,"form_input",3,"id"],["formControlName","noOfPatients","type","number",1,"form_input",3,"id"],[1,"flex","items-center",3,"ngClass"],["type","button",1,"btn-secondary",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-red-600","text-sm"]],template:function(o,r){1&o&&(e.TgZ(0,"app-dialog-header",0),e.NdJ("closeDialog",function(){return r.dialogRef.close(!0)}),e.qZA(),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e.YNc(4,$,23,14,"div",4),e.qZA()(),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return r.addAppointmentRow()}),e._uU(7," Add more "),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return r.submit()}),e._uU(9," Save Session "),e.qZA()()()),2&o&&(e.Q6J("headingText",r.editData)("iconClass","fa-solid fa-business-time"),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(2),e.Q6J("ngForOf",r.days.controls))},dependencies:[c.mk,c.sg,c.O5,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.sg,n.u,n.x0,n.CE,j]})}return i})();var A=d(876),q=d(3862),V=d(7398);function W(i,l){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function X(i,l){1&i&&(e.TgZ(0,"p",24),e._uU(1," Please select consultancy type! "),e.qZA())}function K(i,l){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function ee(i,l){1&i&&(e.TgZ(0,"p",24),e._uU(1," Please select hospital/chamber! "),e.qZA())}function te(i,l){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function oe(i,l){1&i&&(e.TgZ(0,"p",24),e._uU(1," Please select schedule type! "),e.qZA())}function ie(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29),e._uU(2),e.TgZ(3,"i",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.onSessionRemove(s.id))}),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(2),e.AsE(" ",t.startTime," - ",t.endTime," ")}}function re(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"th",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.toggleDaySelection(s))}),e._uU(2),e.qZA(),e.YNc(3,ie,4,2,"div",27),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw();e.xp6(),e.Udp("box-shadow",o.getDaySessions(t).length>0?"none":"")("background-color",o.getDaySessions(t).length>0?"#eefaff":"white")("color",o.getDaySessions(t).length>0?"#006c93":""),e.ekj("active",o.getDaySessions(t).length>0),e.xp6(),e.hij(" ",t," "),e.xp6(),e.Q6J("ngForOf",o.getDaySessions(t))}}function se(i,l){1&i&&(e.TgZ(0,"p",31),e._uU(1," Please select at least one slot "),e.qZA())}let ne=(()=>{class i{constructor(t,o,r,s,a,u,m,f){this.fb=t,this.DoctorChamberService=o,this.DoctorScheduleService=r,this.HospitalStateService=s,this.normalAuth=a,this.TosterService=u,this.dialog=m,this.cdr=f,this.rerenderDoctorSchedule=new e.vpe,this.hospitalOptions=[],this.DoctorScheduleDt=[],this.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.selectedDays=[],this.consultancyType=[],this.scheduleType=[],this.allSelectedSession=[],this.isDisable=!1,this.isRequired=!1,this.inputConfigs=[],this.formSubmitted=!1,this.slotError=!1}ngOnInit(){this.consultancyType=A.v.getEnumList(q.Is),this.scheduleType=A.v.getEnumList(q.Ix),this.loadForm();let t=this.normalAuth.authInfo();t&&t.id&&(this.doctorId=t.id,this.HospitalStateService.getData().pipe((0,V.U)(o=>o.map(r=>({name:r.chamberName,id:r.id})))).subscribe(o=>{this.hospitalList=o})),this.HospitalStateService.getIndividualScheduleInfo().subscribe(o=>{this.form.patchValue(o),this.allSelectedSession=o.doctorScheduleDaySession}),this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(o=>{this.form.reset(),this.allSelectedSession=[]}),this.HospitalStateService.getIndividualScheduleInfoForEdit().subscribe(o=>{o.edit&&o.id?(this.editData=!0,this.editScheduleId=o.id):(this.editData=!1,this.editScheduleId=0)}),this.form.get("consultancyType")?.valueChanges.subscribe(o=>{2==o||3==o||4==o?(this.isDisable=!0,this.form.get("doctorChamberId")?.setValue("0")):this.isDisable=!1})}loadForm(){this.form=this.fb.group({scheduleType:[0,n.kI.required],consultancyType:[0,n.kI.required],doctorChamberId:[0,n.kI.required],isSlotSelected:[""]})}toggleDaySelection(t){this.openDialog(t)}submit(){const t=Number(this.form.value.consultancyType),o=Number(this.form.value.doctorChamberId);this.formSubmitted=!0;const r=Number(this.form.value.scheduleType);if((2===t||3===t||4===t)&&!r)return void this.TosterService.customToast("Please select a schedule type","warning");if(1===t&&!o)return void this.TosterService.customToast("Please select a doctor chamber","warning");if(this.allSelectedSession.length<=0)return void this.TosterService.customToast("Please add your session","warning");const s={doctorProfileId:this.doctorId,scheduleType:r,consultancyType:t,doctorChamberId:o,isActive:!0,offDayFrom:"2023-08-13T08:27:02.691Z",offDayTo:"2023-08-13T08:27:02.691Z",doctorScheduleDaySession:this.allSelectedSession.map(a=>({id:"string"==typeof a.id||a.id instanceof String?0:a.id,scheduleDayofWeek:a.scheduleDayofWeek,startTime:a.startTime,endTime:a.endTime,noOfPatients:a.noOfPatients,isActive:!0})),doctorFeesSetup:[]};this.editScheduleId?this.scheduleUpdate({...s,id:this.editScheduleId}):this.scheduleCreate(s)}scheduleCreate(t){this.DoctorScheduleService.create(t).subscribe(o=>{this.handleResponse(o)})}scheduleUpdate(t){this.DoctorScheduleService.update(t).subscribe(o=>{this.handleResponse(o)})}handleResponse(t){!0===t.success?(this.TosterService.customToast(String(t.message),"success"),this.allSelectedSession=[],this.form.reset(),this.HospitalStateService.setHospitalScheduleFormEvent(!1),this.rerenderDoctorSchedule.emit(!0)):this.TosterService.customToast(String(t.message),!1===t.success?"error":"warning")}getDaySessions(t){return this.allSelectedSession.filter(o=>o.scheduleDayofWeek===t)}openDialog(t){this.dialog.open(z,{data:{selectedDay:t,title:"Select Your Session Time"}}).afterClosed().subscribe(r=>{this.form.get("isSlotSelected")?.setValue(!0),r?.appointments.map(s=>this.allSelectedSession=[...this.allSelectedSession,s])})}onSessionRemove(t){this.DoctorScheduleService.deleteSession(t).subscribe(o=>{this.allSelectedSession=this.allSelectedSession.filter(r=>r.id!==t)},o=>{this.allSelectedSession=this.allSelectedSession.filter(r=>r.id!==t)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(y.z),e.Y36(F.P),e.Y36(h),e.Y36(g.e),e.Y36(S.G),e.Y36(p.uw),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-schedule-form"]],inputs:{openFormComponent:"openFormComponent"},outputs:{rerenderDoctorSchedule:"rerenderDoctorSchedule"},decls:41,vars:13,consts:[[1,"px-5","md:px-10","py-4","md:py-6","border-[1px]","rounded-md","mt-3","transition-all","ease-in-out","duration-1000"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/3"],[1,"mb-5"],["for","consultancyType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","consultancyType","id","consultancyType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm",4,"ngIf"],[1,"w-full","px-3","sm:w-1/3",3,"ngClass"],["for","doctorChamberId",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","doctorChamberId","id","doctorChamberId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"py-1","text-gray-500"],["for","scheduleType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","scheduleType","id","scheduleType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"w-full","px-3","sm:w-full"],["for","appointmentType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"flex","flex-wrap","gap-2"],["class","flex flex-1 flex-col",4,"ngFor","ngForOf"],["class","text-red-600 font-sm mb-6 ml-4",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"font-semibold","text-gray-500",3,"value"],[1,"text-red-500","text-sm"],[1,"flex","flex-1","flex-col"],[1,"btn-secondary","text-secondary-dark","border-gray-300","cursor-pointer",3,"click"],["class","mt-2 min-w-[105px]",4,"ngFor","ngForOf"],[1,"mt-2","min-w-[105px]"],[1,"bg-primary-light","w-full","flex","gap-3","justify-center","items-center","rounded-[5px]","text-[14px]","font-Roboto","font-medium","text-center","text-primary","py-2","px-2"],[1,"fa-solid","fa-xmark","cursor-pointer",3,"click"],[1,"text-red-600","font-sm","mb-6","ml-4"]],template:function(o,r){if(1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6," Consultancy Type "),e.qZA(),e.TgZ(7,"select",6)(8,"option",7),e._uU(9,"--Select--"),e.qZA(),e.YNc(10,W,2,2,"option",8),e.qZA(),e.YNc(11,X,2,0,"p",9),e.qZA()(),e.TgZ(12,"div",10)(13,"div",4)(14,"label",11),e._uU(15," Hospital/Chamber "),e.qZA(),e.TgZ(16,"select",12)(17,"option",13),e._uU(18,"--Select--"),e.qZA(),e.YNc(19,K,2,2,"option",8),e.qZA(),e.YNc(20,ee,2,0,"p",9),e.qZA()(),e.TgZ(21,"div",3)(22,"div",4)(23,"label",14),e._uU(24," Schedule Type "),e.qZA(),e.TgZ(25,"select",15)(26,"option",13),e._uU(27,"--Select--"),e.qZA(),e.YNc(28,te,2,2,"option",8),e.qZA(),e.YNc(29,oe,2,0,"p",9),e.qZA()(),e.TgZ(30,"div",16)(31,"div",4)(32,"label",17),e._uU(33," Select your days "),e.qZA(),e.TgZ(34,"table",18)(35,"thead")(36,"tr",19),e.YNc(37,re,4,10,"div",20),e.qZA()(),e.YNc(38,se,2,0,"p",21),e.qZA()()()()(),e.TgZ(39,"button",22),e.NdJ("click",function(){return r.submit()}),e._uU(40),e.qZA()()),2&o){let s,a,u,m;e.Tol(r.openFormComponent?"block ":" hidden "),e.xp6(),e.Q6J("formGroup",r.form),e.xp6(9),e.Q6J("ngForOf",r.consultancyType),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(s=r.form.get("consultancyType"))?null:s.hasError("required"))&&0!=(null==(s=r.form.get("doctorChamberId"))?null:s.value)),e.xp6(),e.Q6J("ngClass",r.isDisable?"hidden":"block"),e.xp6(7),e.Q6J("ngForOf",r.hospitalList),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(a=r.form.get("doctorChamberId"))?null:a.hasError("required"))&&0!=(null==(a=r.form.get("doctorChamberId"))?null:a.value)),e.xp6(8),e.Q6J("ngForOf",r.scheduleType),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(u=r.form.get("scheduleType"))?null:u.hasError("required"))&&0!=(null==(u=r.form.get("doctorChamberId"))?null:u.value)),e.xp6(8),e.Q6J("ngForOf",r.days),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(m=r.form.get("isSlotSelected"))?null:m.hasError("required"))),e.xp6(2),e.hij(" ",1==r.editData?"Update":"Submit"," ")}},dependencies:[c.mk,c.sg,c.O5,n._Y,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u]})}return i})();function le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.qZA(),e.TgZ(3,"td",12),e._uU(4),e.qZA(),e.TgZ(5,"td",12),e._uU(6),e.qZA(),e.TgZ(7,"td",12),e._uU(8),e.qZA(),e.TgZ(9,"td",12)(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"td",12)(13,"a",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onViewDetails(s))}),e._uU(14,"View Details"),e.qZA()()()}if(2&i){const t=l.$implicit,o=l.index,r=e.oxw();e.Tol(t.id==r.clickView?"bg-secondary-light":""),e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.chamber),e.xp6(2),e.Oqu(t.scheduleTypeName),e.xp6(2),e.Oqu(t.consultancyTypeName),e.xp6(2),e.Tol("Open"==t.status?"bg-green-100 text-green-800 py-1 rounded-md px-4":"bg-red-50 text-red-800 p-2"),e.xp6(),e.hij(" ",t.status," "),e.xp6(2),e.Tol(t.id==r.clickView?"text-white bg-primary rounded-sm":"text-primary bg-secondary-light rounded-sm")}}let ae=(()=>{class i{constructor(t,o,r,s){this.dialog=t,this.DoctorScheduleService=o,this.NormalAuth=r,this.HospitalStateService=s,this.scheduleList=[]}ngOnInit(){let t=this.NormalAuth.authInfo();t&&t.id&&(this.doctorId=t.id,this.getScheduleList(t.id)),this.getScheduleFormEventStatus()}getScheduleList(t){this.DoctorScheduleService.getListByDoctorIdList(t).subscribe(o=>{if(o){this.scheduleList=o;let r=o.map(s=>({name:s.scheduleTypeName,id:s.id}));this.HospitalStateService.setDoctorScheduleList(r)}})}getScheduleFormEventStatus(){this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(t=>this.openFormComponent=t),this.HospitalStateService.getIndividualScheduleInfoForEdit().subscribe(t=>this.editFormComponent=t.edit)}openForm(){if(this.editFormComponent)return this.HospitalStateService.setHospitalScheduleFormEvent(!0),void this.HospitalStateService.setIndividualScheduleInfoForEdit({edit:!1});this.HospitalStateService.setHospitalScheduleFormEvent(!this.openFormComponent)}onViewDetails(t){this.clickView=t.id,this.HospitalStateService.setHospitalScheduleFormEvent(!0),this.HospitalStateService.setIndividualScheduleInfoForEdit({edit:!0,id:t.id}),this.DoctorScheduleService.get(t.id).subscribe(o=>this.HospitalStateService.setIndividualScheduleInfo(o))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.uw),e.Y36(F.P),e.Y36(g.e),e.Y36(h))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-schedule-info"]],decls:23,vars:5,consts:[[3,"headingText","iconClass","buttonText","openForm"],[3,"openFormComponent","rerenderDoctorSchedule"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200"],[3,"class",4,"ngFor","ngForOf"],[1,"td"],[1,"border","border-secondary-light","p-2","mr-2","cursor-pointer",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-section-header",0),e.NdJ("openForm",function(){return r.openForm()}),e.qZA(),e.TgZ(1,"app-schedule-form",1),e.NdJ("rerenderDoctorSchedule",function(){return r.getScheduleList(r.doctorId)}),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"table",6)(7,"thead",7)(8,"tr")(9,"th",8),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"th",8),e._uU(12,"Hospital Name"),e.qZA(),e.TgZ(13,"th",8),e._uU(14,"Schedule Type"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"Consultancy Type"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"Status"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody",10),e.YNc(22,le,15,11,"tr",11),e.qZA()()()()()()),2&o&&(e.Q6J("headingText","Your Schedule")("iconClass","fa-solid fa-calendar-days")("buttonText","Add Schedule"),e.xp6(),e.Q6J("openFormComponent",r.openFormComponent),e.xp6(21),e.Q6J("ngForOf",r.scheduleList))},dependencies:[c.sg,C,ne]})}return i})();var de=d(8175);let D=(()=>{class i{constructor(t){this.restService=t,this.apiName="Default",this.create=(o,r)=>this.restService.request({method:"POST",url:"/api/app/doctor-fee-setup",body:o},{apiName:this.apiName,...r}),this.createFromMobileApp=(o,r)=>this.restService.request({method:"POST",url:"/api/app/doctor-fee-setup/from-mobile-app",body:o},{apiName:this.apiName,...r}),this.get=(o,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-fee-setup/${o}`},{apiName:this.apiName,...r}),this.getList=o=>this.restService.request({method:"GET",url:"/api/app/doctor-fee-setup"},{apiName:this.apiName,...o}),this.getListByDoctorIdList=(o,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-fee-setup/by-doctor-id-list/${o}`},{apiName:this.apiName,...r}),this.update=(o,r)=>this.restService.request({method:"PUT",url:"/api/app/doctor-fee-setup",body:o},{apiName:this.apiName,...r}),this.updateFromMobileApp=(o,r)=>this.restService.request({method:"PUT",url:"/api/app/doctor-fee-setup/from-mobile-app",body:o},{apiName:this.apiName,...r})}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(de.vgb))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ce(i,l){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function ue(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Appointment type is required! "),e.qZA())}function pe(i,l){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(),e.hij(" ",t.name," ")}}function me(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Doctor scheduleId is required! "),e.qZA())}function he(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Current fee is required! "),e.qZA())}function fe(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Previous fee fee is required! "),e.qZA())}function ge(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Fee Applied from is required! "),e.qZA())}function _e(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Follow up period from is required! "),e.qZA())}function be(i,l){if(1&i&&(e.TgZ(0,"div",7)(1,"label",33),e._uU(2,"FollowUp Period"),e.qZA(),e._UZ(3,"input",34),e.YNc(4,_e,2,0,"p",12),e.qZA()),2&i){const t=e.oxw();let o;e.xp6(4),e.Q6J("ngIf",t.formSubmitted&&(null==(o=t.form.get("followUpPeriod"))?null:o.hasError("pattern")))}}function xe(i,l){1&i&&(e.TgZ(0,"p",32),e._uU(1," Follow up period from is required! "),e.qZA())}function Se(i,l){if(1&i&&(e.TgZ(0,"div",7)(1,"label",35),e._uU(2,"Report Show Period"),e.qZA(),e._UZ(3,"input",36),e.YNc(4,xe,2,0,"p",12),e.qZA()),2&i){const t=e.oxw();let o;e.xp6(4),e.Q6J("ngIf",t.formSubmitted&&(null==(o=t.form.get("reportShowPeriod"))?null:o.hasError("pattern")))}}let U=(()=>{class i{constructor(t,o,r,s,a,u,m){this.fb=t,this.dialogRef=o,this.normalAuth=r,this.tosterService=s,this.DoctorScheduleService=a,this.DoctorFeeSetupService=u,this.editData=m,this.formSubmitted=!1,this.appointmentType=[],this.doctorSchedule=[],this.showFollowUpPeriod=!0,this.showReportShowPeriod=!0}ngOnInit(){let t=this.normalAuth.authInfo();t&&t.id&&(this.doctorId=t.id),this.loadForm(t.id),this.appointmentType=A.v.getEnumList(q.Vn),this.DoctorScheduleService.getScheduleListByDoctorId(this.doctorId).subscribe(o=>{o&&(this.doctorSchedule=o.map(r=>({name:r.scheduleName,id:r.id})),this.editData.id&&this.DoctorFeeSetupService.get(this.editData.id).subscribe(r=>{this.form.patchValue({...this.editData,feeAppliedFrom:""})}))}),this.form.get("discount")?.valueChanges.subscribe(o=>{this.calculateTotalFee()}),this.form.get("currentFee")?.valueChanges.subscribe(o=>{this.calculateTotalFee()}),this.form.get("appointmentType")?.valueChanges.subscribe(o=>{1==o?(this.showFollowUpPeriod=!1,this.showReportShowPeriod=!1):2==o?(this.showReportShowPeriod=!1,this.showFollowUpPeriod=!0):3==o?(this.showFollowUpPeriod=!1,this.showReportShowPeriod=!0):(this.showFollowUpPeriod=!0,this.showReportShowPeriod=!0)})}loadForm(t){this.form=this.fb.group({doctorProfileId:[t,n.kI.required],doctorScheduleId:["",n.kI.required],appointmentType:["",n.kI.required],currentFee:["",n.kI.required],discount:[""],discountPeriod:[""],previousFee:[""],feeAppliedFrom:[""],followUpPeriod:[""],reportShowPeriod:[""],discountAppliedFrom:[""],totalFee:["",n.kI.required]})}submit(){this.formSubmitted=!0;let t=""==this.form.get("followUpPeriod")?.value?0:this.form.get("followUpPeriod")?.value,o=""==this.form.get("reportShowPeriod")?.value?0:this.form.get("reportShowPeriod")?.value,r={...this.form.value,followUpPeriod:t,reportShowPeriod:o};this.editData?this.DoctorFeeSetupService.update({...r,id:this.editData.id}).subscribe({next:s=>{this.tosterService.customToast(String(s.message),1==s.success?"success":"error"),this.dialogRef.close(!0),this.formSubmitted=!1},error:s=>{console.log(s),this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1),this.formSubmitted=!1}}):this.DoctorFeeSetupService.create(r).subscribe({next:s=>{this.tosterService.customToast(String(s.message),1==s.success?"success":"error"),this.dialogRef.close(!0),this.formSubmitted=!1},error:s=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1),this.formSubmitted=!1}})}calculateTotalFee(){const t=this.form.get("currentFee")?.value,o=this.form.get("discount")?.value;this.form.patchValue({totalFee:t-o})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(p.so),e.Y36(g.e),e.Y36(S.G),e.Y36(F.P),e.Y36(D),e.Y36(p.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fee-dialog"]],decls:60,vars:11,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text","text-[15px]","md:text-[18px]"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"md:px-10","px-5","md:py-6","py-4"],[3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2","sm:gap-4"],[1,"w-full","px-3","sm:w-full"],["for","appointmentType",1,"mb-2"],["id","appointmentType","formControlName","appointmentType",1,"form_input","mt-1"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm",4,"ngIf"],["for","doctorSchedule",1,"mb-2"],["id","doctorScheduleId","formControlName","doctorScheduleId",1,"form_input","mt-1"],["for","currrentFee",1,"mb-2"],["autocomplete","off","formControlName","currentFee","type","number","inputmode","numeric","placeholder","Currrent Fee",1,"form_input","mt-1"],["for","previousFee",1,"mb-2"],["autocomplete","off","formControlName","previousFee","type","number","inputmode","numeric","placeholder","Previous Fee",1,"form_input","mt-1"],["for","feeAppliedFrom",1,"mb-2"],["autocomplete","off","formControlName","feeAppliedFrom","type","date","placeholder","Fee Applied From",1,"form_input","mt-1"],["class","w-full px-3 sm:w-full",4,"ngIf"],["for","discount",1,"mb-2"],["autocomplete","off","formControlName","discount","type","number","placeholder","example: 50",1,"form_input","mt-1"],["for","discountAppliedFrom",1,"mb-2"],["autocomplete","off","formControlName","discountAppliedFrom","type","date","placeholder","Discount Applied From",1,"form_input","mt-1"],["for","discountPeriod",1,"mb-2"],["autocomplete","off","formControlName","discountPeriod","type","number","placeholder","example: 30 days",1,"form_input"],["for","totalFee",1,"mb-2"],["autocomplete","off","formControlName","totalFee","placeholder","Total Fee",1,"form_input","mt-1"],[1,"btn-secondary","mt-5","w-full","sm:w-fit",3,"click"],[3,"value"],[1,"text-red-500","text-sm"],["for","followUpPeriod",1,"mb-2"],["autocomplete","off","formControlName","followUpPeriod","type","number","placeholder","FollowUp Period",1,"form_input","mt-1"],["for","reportShowPeriod",1,"mb-2"],["autocomplete","off","formControlName","reportShowPeriod","type","number","placeholder","Report Show Period",1,"form_input","mt-1"]],template:function(o,r){if(1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.dialogRef.close(!0)}),e._uU(5," Close "),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11," AppointmentType "),e.qZA(),e.TgZ(12,"select",9)(13,"option",10),e._uU(14,"--Select--"),e.qZA(),e.YNc(15,ce,2,2,"option",11),e.qZA(),e.YNc(16,ue,2,0,"p",12),e.qZA(),e.TgZ(17,"div",7)(18,"label",13),e._uU(19," Doctor Schedule "),e.qZA(),e.TgZ(20,"select",14)(21,"option",10),e._uU(22,"--Select--"),e.qZA(),e.YNc(23,pe,2,2,"option",11),e.qZA(),e.YNc(24,me,2,0,"p",12),e.qZA(),e.TgZ(25,"div",7)(26,"label",15),e._uU(27," Currrent Fee "),e.qZA(),e._UZ(28,"input",16),e.YNc(29,he,2,0,"p",12),e.qZA(),e.TgZ(30,"div",7)(31,"label",17),e._uU(32," Previous Fee "),e.qZA(),e._UZ(33,"input",18),e.YNc(34,fe,2,0,"p",12),e.qZA(),e.TgZ(35,"div",7)(36,"label",19),e._uU(37,"Fee Applied From"),e.qZA(),e._UZ(38,"input",20),e.YNc(39,ge,2,0,"p",12),e.qZA(),e.YNc(40,be,5,1,"div",21)(41,Se,5,1,"div",21),e.TgZ(42,"div",7)(43,"label",22),e._uU(44,"Discount (Taka)"),e.qZA(),e._UZ(45,"input",23),e.qZA(),e.TgZ(46,"div",7)(47,"label",24),e._uU(48,"Discount Applied From"),e.qZA(),e._UZ(49,"input",25),e.qZA(),e.TgZ(50,"div",7)(51,"label",26),e._uU(52,"Discount Period (Day)"),e.qZA(),e._UZ(53,"input",27),e.qZA(),e.TgZ(54,"div",7)(55,"label",28),e._uU(56,"Total Fee"),e.qZA(),e._UZ(57,"input",29),e.qZA()()(),e.TgZ(58,"button",30),e.NdJ("click",function(){return r.submit()}),e._uU(59," Save "),e.qZA()()),2&o){let s,a,u,m,f;e.xp6(3),e.hij(" ",r.editData?"Update":"Add"," Fees Options "),e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(8),e.Q6J("ngForOf",r.appointmentType),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(s=r.form.get("appointmentType"))?null:s.invalid)&&0==(null==(s=r.form.get("appointmentType"))?null:s.value)),e.xp6(7),e.Q6J("ngForOf",r.doctorSchedule),e.xp6(),e.Q6J("ngIf",r.formSubmitted&&(null==(a=r.form.get("doctorScheduleId"))?null:a.hasError("pattern"))),e.xp6(5),e.Q6J("ngIf",r.formSubmitted&&(null==(u=r.form.get("currentFee"))?null:u.hasError("pattern"))),e.xp6(5),e.Q6J("ngIf",r.formSubmitted&&(null==(m=r.form.get("previousFee"))?null:m.hasError("pattern"))),e.xp6(5),e.Q6J("ngIf",r.formSubmitted&&(null==(f=r.form.get("feeAppliedFrom"))?null:f.hasError("pattern"))),e.xp6(),e.Q6J("ngIf",r.showFollowUpPeriod),e.xp6(),e.Q6J("ngIf",r.showReportShowPeriod)}},dependencies:[c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u]})}return i})(),ve=(()=>{class i{constructor(t,o){this.editData=t,this.dialogRef=o}confirmDelete(){this.dialogRef.close(!0)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.WI),e.Y36(p.so))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-dialog"]],decls:7,vars:0,consts:[[1,"py-5","px-7"],[1,"pb-3","border-b-2","text-[24px]","font-Roboto","font-medium"],[1,"py-5"],[1,"btn-secondary","bg-red-100","focus:none","text-red-800",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Confirm Delete?"),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Are you sure you want to delete ...."),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return r.confirmDelete()}),e._uU(6,"Delete"),e.qZA()())}})}return i})();function Te(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.qZA(),e.TgZ(5,"td",11),e._uU(6),e.qZA(),e.TgZ(7,"td",11),e._uU(8),e.qZA(),e.TgZ(9,"td",11),e._uU(10),e.qZA(),e.TgZ(11,"td",11),e._uU(12),e.qZA(),e.TgZ(13,"td",11)(14,"a",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.handleFeeEdit(s))}),e._uU(15,"Edit"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.doctorScheduleName),e.xp6(2),e.hij("",t.currentFee,".00 tk"),e.xp6(2),e.hij("",t.discount,".00 tk"),e.xp6(2),e.hij("",t.discountPeriod," Days"),e.xp6(2),e.hij("",t.reportShowPeriod," Days"),e.xp6(2),e.hij("",t.totalFee,".00 tk")}}let Ze=(()=>{class i{constructor(t,o,r){this.dialog=t,this.normalAuth=o,this.DoctorFeeSetupService=r,this.feeList=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;t&&(this.doctorId=t,this.getFeeList(t))}getFeeList(t){this.DoctorFeeSetupService.getListByDoctorIdList(t).subscribe(o=>{this.feeList=o})}openDialog(){this.dialog.open(U,{maxHeight:"450px"}).afterClosed().subscribe(o=>{this.getFeeList(this.doctorId)})}handleFeeEdit(t){this.dialog.open(U,{data:t,maxHeight:"450px"}).afterClosed().subscribe(o=>{!0===o&&this.getFeeList(this.doctorId)})}handleFeeDelete(t){this.dialog.open(ve,{data:t,width:"25vw"}).afterClosed().subscribe(o=>{})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.uw),e.Y36(g.e),e.Y36(D))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fee-setup"]],decls:24,vars:4,consts:[[3,"headingText","iconClass","buttonText","openForm"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"td"],[1,"bg-secondary-light","border","border-secondary-light","p-2","mr-2","cursor-pointer","rounded-sm",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-section-header",0),e.NdJ("openForm",function(){return r.openDialog()}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),e._uU(9,"Schedule with Hospital"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"Current Fee"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Discount"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Discount Period"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Report Show"),e.qZA(),e.TgZ(18,"th",7),e._uU(19,"Total Fee"),e.qZA(),e.TgZ(20,"th",8),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody",9),e.YNc(23,Te,16,6,"tr",10),e.qZA()()()()()()),2&o&&(e.Q6J("headingText","Manage Your Fees")("iconClass","fa-solid fa-calendar-days")("buttonText","Add Fees Option"),e.xp6(23),e.Q6J("ngForOf",r.feeList))},dependencies:[c.sg,C],styles:[".activ[_ngcontent-%COMP%]{background:#00f}"]})}return i})();function ye(i,l){1&i&&e._uU(0," done ")}let Ce=(()=>{class i{constructor(t){this.HospitalStateService=t,this.scheduleCompleted=!1}ngOnInit(){this.HospitalStateService.getDoctorScheduleList().subscribe({next:t=>{this.scheduleCompleted=t?.length>0}})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospital-schedule"]],decls:35,vars:3,consts:[[1,"doctor-dashboard_midcontent_container","w-ful"],[1,"flex","items-center","justify-left"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg","px-4","py-6","md:p-8"],[1,"flex","gap-4","items-center","justify-between"],[1,"dashbord-heading-text","text-[18px]","md:text-[22px]"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"w-full","mt-3","md:mt-6"],["linear","",1,"mt-7"],["stepperIcon",""],["state","hospital","label","Add New Place",3,"completed"],["matStepperNext","",1,"mt-5","h-fit","btn-secondary","bg-secondary-light","border-secondary-dark","text-secondary-dark","group"],[1,"fa-solid","group-hover:ml-2","ml-1","transition-all","duration-75","fa-arrow-right"],["label","Create Schedule",3,"completed"],[1,"flex","gap-5","ml-auto","mt-5"],["matStepperPrevious","",1,"btn-secondary","group","h-fit"],[1,"fa-solid","group-hover:pr-2","pr-1","box-border","transition-all","duration-75","fa-arrow-left-long"],["matStepperNext","",1,"h-fit","btn-secondary","bg-secondary-light","border-secondary-dark","text-secondary-dark","group"],["label","Fee Manage",3,"completed"],[1,"fa-solid","group-hover:mr-2","mr-1","transition-all","duration-75","fa-arrow-left-long"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._UZ(6,"i",6),e._uU(7," Hospital & Schedule "),e.qZA()(),e.TgZ(8,"div",7)(9,"mat-stepper",8),e.YNc(10,ye,1,0,"ng-template",null,9,e.W1O),e.TgZ(12,"mat-step",10),e._UZ(13,"app-hospital-info"),e.TgZ(14,"button",11),e._uU(15," Next "),e._UZ(16,"i",12),e.qZA()(),e.TgZ(17,"mat-step",13),e.ynx(18),e._UZ(19,"app-schedule-info"),e.BQk(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23,"Previous "),e.qZA(),e.TgZ(24,"button",17),e._uU(25," Next "),e._UZ(26,"i",12),e.qZA()()(),e.TgZ(27,"mat-step",18)(28,"form"),e.ynx(29),e._UZ(30,"app-fee-setup"),e.BQk(),e.TgZ(31,"div",14)(32,"button",15),e._UZ(33,"i",19),e._uU(34,"Previous "),e.qZA()()()()()()()()()()),2&o&&(e.xp6(12),e.Q6J("completed",!0),e.xp6(5),e.Q6J("completed",r.scheduleCompleted),e.xp6(10),e.Q6J("completed",!1))},dependencies:[x.C0,x.Vq,x.Ic,x.fd,n._Y,n.JL,n.F,R,ae,Ze],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons";']})}return i})();var Fe=d(6361);let Ae=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[c.ez]})}return i})();var qe=d(2032),we=d(9157),De=d(617);const Ue=[{path:"",component:Ce}];let Ie=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({providers:[c.uU],imports:[c.ez,b.Bz.forChild(Ue),v.U,Fe.g,Ae,we.lN,qe.c,De.Ps]})}return i})()},6361:(I,_,d)=>{d.d(_,{g:()=>v});var c=d(6814),b=d(9212);let v=(()=>{class e{static#e=this.\u0275fac=function(h){return new(h||e)};static#t=this.\u0275mod=b.oAB({type:e});static#o=this.\u0275inj=b.cJS({imports:[c.ez]})}return e})()}}]);