import{a as Ce}from"./chunk-JBYXCWIV.js";import{a as be,b as ve}from"./chunk-CJZERUYB.js";import{a as X,b as ee}from"./chunk-FM5OJGX2.js";import{a as he}from"./chunk-7NGZH4SF.js";import{j as fe}from"./chunk-EOAKK2OL.js";import{a as pe,h as me,j as ue,k as ge}from"./chunk-JN5TIQFO.js";import{c as de,d as ce,g as S}from"./chunk-KXUW234Y.js";import"./chunk-RCDD4OPH.js";import"./chunk-FFSGEAVH.js";import"./chunk-QYZGMTSF.js";import{g as ie,k as re,n as ne,r as oe,s as ae,v as w,w as se,y as le,z as M}from"./chunk-B6XPZLTG.js";import{a as te}from"./chunk-6E6ZED7T.js";import"./chunk-U25NMAFE.js";import{C as U,D as J,E as Q,c as $,e,h as B,i as R,n as Y,p as H,r as Z,u as W,y as K}from"./chunk-FUUASHDU.js";import{Ba as N,Bb as D,Ha as v,Na as u,Qa as y,S as O,Wb as F,X as I,Y as k,Ya as t,Za as r,_a as c,ac as f,ca as _,cc as j,d as P,da as x,gb as h,ib as E,kc as z,ub as s,uc as G,vb as T,vc as A,wb as q,xc as V,ya as p,yb as L,za as l}from"./chunk-PJQ4EZIT.js";import"./chunk-5G567QLT.js";function qe(a,n){if(a&1&&(t(0,"mat-error"),s(1),r()),a&2){let C=E();p(),q(" ",C.getErrorMessage("userTypeName")," ")}}function Le(a,n){a&1&&(t(0,"mat-error"),s(1," You must enter a valid mobile number. "),r())}function De(a,n){a&1&&(t(0,"mat-error"),s(1," Mobile number should have exactly 11 digits and follow the Bangladeshi format. "),r())}function Fe(a,n){a&1&&(t(0,"div",39),_(),t(1,"svg",40),c(2,"path",41),r(),x(),t(3,"span"),s(4,"Signup"),r()())}function je(a,n){a&1&&c(0,"span",42)}var ze=()=>({length:4,allowNumbersOnly:!0});function Ge(a){let n=a.value,C=new Date().getFullYear();return!/^[1-9]\d{3}$/.test(n)||Number(n)>C?{invalidPassingYear:!0}:null}var _e=(()=>{let n=class n{constructor(i,d,o,m,g,b,xe,ye,we,Me,Se,Pe,Oe,Ie,ke,Ne,Ee){this.fb=i,this.otpService=d,this.userAccountService=o,this.doctorProfileService=m,this.patientProfileService=g,this._router=b,this.normalAuth=xe,this.doctorSpeciality=ye,this.degreeService=we,this.tosterService=Me,this.specializationService=Se,this.specialityService=Pe,this.http=Oe,this.cdRef=Ie,this.doctorProfilePicService=ke,this.TosterService=Ne,this.datePipe=Ee,this.mobile="",this.userType="",this.message={error:{text:"",loading:!1},success:{text:"",loading:!1},warning:{text:"",loading:!1}},this.subs=new he,this.isLoading=!1,this.otpModal=!1,this.userInfoModal=!1,this.titleList=[],this.genderList=[],this.specialties=[],this.doctorList=[],this.formSubmitted=!1,this.countryList=Ce,this.passwordFieldType="password",this.confirmPasswordFieldType="password",this.destroy$=new P,this.todayDate=new Date,this.maxdate=this.todayDate.year-18,this.todayDate=this.datePipe.transform(this.todayDate,"yyyy-MM-dd")}ngOnInit(){this.loadForm(),this.genderList=S.getEnumList(ce),this.doctorSpeciality.getList().subscribe(d=>this.specialties=d),this.titleList=S.getEnumList(de),this.doctorProfileService.getList().subscribe(d=>{this.doctorList=d,this.lastCount=this.doctorList.length});let i=this.normalAuth.authInfo();i!=null&&(this.userType=this.normalAuth.authInfo().userType,this.doctorId=i.id,this.specialityId=i.specialityId,this.profileStep=i.profileStep)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.subs.unsubscribe()}loadForm(){this.formGroup=this.fb.group({mobile:["",[e.required,e.pattern(/^(?:88)?[0-9]{11}$/),e.minLength(11),e.maxLength(11)]],otp:["",e.required],userTypeName:["",e.required]}),this.userInfoForm=this.fb.group({fullName:["",[e.required,be]],doctorTitle:["0",e.required],email:["",[e.required,e.pattern(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/)]],password:["",[e.required]],confirmPassword:["",e.required],gender:["0",e.required],dateOfBirth:["",e.required],city:["",[e.required,e.pattern(/^[A-Za-z]+$/)]],country:["Bangladesh",e.required],address:["",[e.required,e.pattern(/^[a-zA-Z0-9\s]+$/)]],zipCode:["",[e.required,e.pattern(/^\d{4}$/)]],bmdcRegNo:["",[e.required,e.pattern(/^\d{6,9}$/)]],bmdcRegExpiryDate:["",e.required],specialityId:["0",e.required],identityNumber:["",[e.required,e.pattern(/^[a-zA-Z0-9]{10,17}$/)]]},{validator:ve.matchValidator}),this.formDegree=this.fb.group({zipCode:["1216"],degreeId:["0",e.required],duration:["0",e.required],passingYear:["",[e.required,Ge]],instituteName:["",[e.required,e.pattern(/^[a-zA-Z\s]+$/)]],instituteCity:["",[e.required,e.pattern(/^[a-zA-Z\s]+$/)]],instituteCountry:["Bangladesh",e.required]}),this.specialityId===1?this.formSpecialization=this.fb.group({specializationId:[1,e.required],docFileName:[""]}):this.specialityId===2?this.formSpecialization=this.fb.group({specializationId:[2,e.required],docFileName:[""]}):this.formSpecialization=this.fb.group({specializationId:[0,e.required],docFileName:[""]})}passwordVisibility(i){i==="password"?this.passwordFieldType=this.passwordFieldType==="password"?"text":"password":i==="confirmPassword"&&(this.confirmPasswordFieldType=this.confirmPasswordFieldType==="password"?"text":"password")}sendOtp(){if(this.formSubmitted=!0,this.formGroup.get("mobile")?.invalid||this.formGroup.get("userTypeName")?.invalid)return;let i=this.formGroup?.value;this.mobile=i.mobile,this.isLoading=!0,this.subs.sink=this.otpService.applyOtpByClientKeyAndMobileNo("SoowGood_App",i.mobile).subscribe({next:d=>{this.otpModal=d,this.isLoading=!1,this.formSubmitted=!1}})}back(){this.otpModal=!1}verify(){let i=this.otp;i&&(this.subs.sink=this.otpService.varifyOtp(Number(i)).subscribe(d=>{d&&this._router.navigate(["/complete-profile"])}))}onOtpChange(i){i.length==4?(this.otp=i,this.verify()):console.log("Pin should be 4 character")}GenerateId(){return"_"+Math.random().toString().substring(2,9)}getErrorMessage(i){if(i=="mobile"&&this.formGroup.get("mobile")?.hasError("required"))return"You must enter a valid mobile number";if(i=="userTypeName"&&this.formGroup.get("userTypeName")?.hasError("required"))return"Select your type"}};n.\u0275fac=function(d){return new(d||n)(l(U),l(oe),l(le),l(re),l(ae),l(G),l(te),l(w),l(ie),l(M),l(se),l(w),l(z),l(N),l(ne),l(M),l(f))},n.\u0275cmp=I({type:n,selectors:[["app-signup-component"]],features:[L([f])],decls:66,vars:13,consts:[[1,"signup-form"],[1,"signup-form__left"],["src","../../../../assets/auth/Group 11185.png","alt","auth"],[1,"signup-form__right","drop-shadow-soft","relative"],[1,"max-w-lg","min-w-[500px]","mx-auto","mt-10","bg-white","p-8","rounded-xl","shadow","shadow-slate-300"],[1,"text-4xl","font-medium"],[1,"text-slate-500","mt-2"],["action","",1,"mt-6",3,"formGroup"],[1,"grid-wrapper","grid-col-auto"],["for","radio-card-1",1,"radio-card"],["autocomplete","off","type","radio","id","radio-card-1","formControlName","userTypeName","value","Doctor"],[1,"card-content-wrapper"],[1,"check-icon"],[1,"card-content"],["src","../../../../assets/auth/doctor.png","alt","doctor"],["for","radio-card-2",1,"radio-card"],["autocomplete","off","type","radio","id","radio-card-2","formControlName","userTypeName","value","Patient"],["src","../../../../assets/auth/hospitalisation.png","alt","patient"],[4,"ngIf"],[1,"flex","flex-col","space-y-5","mt-10"],["for","mobile"],[1,"font-medium","text-slate-700","pb-2"],["inputmode","numeric","matInput","","autocomplete","off","type","tel","formControlName","mobile","id","phone","placeholder","018-000-00000","required","",1,"form_input"],[1,"form_btn",3,"click"],["class","flex",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"text-center"],["routerLink","/login",1,"text-primary","font-medium","inline-flex","space-x-1","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],[1,"max-w-lg","text-center","min-w-[400px]","mx-auto","my-10","bg-white","p-5","rounded-xl","shadow","shadow-slate-300"],[1,"w-[150px]","m-auto","rounded-full","h-[150px]","bg-slate-200"],["src","../../../../assets/auth/v-code.jpg","alt",""],[1,"mt-4","text-[28px]","font-semibold"],[1,"mt-6"],["inputClass","verify-focus",3,"config","onInputChange"],[1,"flex","gap-3","mt-6"],[1,"btn-secondary","w-1/2",3,"click"],[1,"form_btn","w-1/2",3,"click"],[1,"flex"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"loading","loading-dots","loading-md"]],template:function(d,o){if(d&1&&(t(0,"div",0)(1,"div",1),c(2,"img",2),r(),t(3,"div",3)(4,"div",4)(5,"h1",5),s(6,"Signup"),r(),t(7,"p",6),s(8,"Hi, Welcome to SoowGood!"),r(),t(9,"form",7)(10,"div",8)(11,"label",9),c(12,"input",10),t(13,"div",11),c(14,"span",12),t(15,"div",13),c(16,"img",14),t(17,"h4"),s(18,"I am a Doctor"),r()()()(),t(19,"label",15),c(20,"input",16),t(21,"div",11),c(22,"span",12),t(23,"div",13),c(24,"img",17),t(25,"h4"),s(26,"I am a Patient"),r()()()(),v(27,qe,2,1,"mat-error",18),r(),t(28,"div",19)(29,"label",20)(30,"p",21),s(31,"Mobile Number"),r(),c(32,"input",22),v(33,Le,2,0,"mat-error",18)(34,De,2,0,"mat-error",18),r(),t(35,"button",23),h("click",function(){return o.sendOtp()}),v(36,Fe,5,0,"div",24)(37,je,1,0,"span",25),r(),t(38,"p",26),s(39," Already have an account? "),t(40,"a",27)(41,"span"),s(42," Login now "),r(),t(43,"span"),_(),t(44,"svg",28),c(45,"path",29),r()()()()()()(),x(),t(46,"div",30)(47,"div",31),c(48,"img",32),r(),t(49,"h1",33),s(50," Verify Your Phone "),c(51,"br"),s(52," Number"),r(),t(53,"p"),s(54," We have already sent a verification code"),c(55,"br"),s(56,"to "),t(57,"b"),s(58),r()(),t(59,"div",34)(60,"ng-otp-input",35),h("onInputChange",function(g){return o.onOtpChange(g)}),r()(),t(61,"div",36)(62,"button",37),h("click",function(){return o.back()}),s(63," Back "),r(),t(64,"button",38),h("click",function(){return o.verify()}),s(65," Continue "),r()()()()()),d&2){let m,g,b;p(4),y(o.profileStep==null&&o.otpModal==!1?"":(o.userInfoModal==!0,"display:none")),p(5),u("formGroup",o.formGroup),p(18),u("ngIf",o.formSubmitted||((m=o.formGroup.get("userTypeName"))==null?null:m.invalid)&&((m=o.formGroup.get("userTypeName"))==null?null:m.touched)),p(6),u("ngIf",o.formSubmitted&&((g=o.formGroup.get("mobile"))==null?null:g.hasError("required"))),p(),u("ngIf",o.formSubmitted&&((b=o.formGroup.get("mobile"))==null?null:b.hasError("pattern"))),p(2),u("ngIf",!o.isLoading),p(),u("ngIf",o.isLoading),p(9),y(o.otpModal==!0&&o.userInfoModal==!1?"display:block":"display:none"),p(12),T(o.mobile),p(2),u("config",D(12,ze))}},dependencies:[F,A,X,pe,ue,Y,$,H,B,R,K,Z,W],styles:[`.signup-form__left[_ngcontent-%COMP%]{width:49.3%;height:100%}.signup-form__left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.signup-form_bottom[_ngcontent-%COMP%]{background:#1f2949;height:100px;width:100%}hr[_ngcontent-%COMP%]{margin:20px 0;border:none;border-bottom:1px solid #d9d9d9}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{max-width:100%;display:block;vertical-align:middle}.container[_ngcontent-%COMP%]{max-width:99vw;margin:15px auto;padding:0 15px}.top-text-wrapper[_ngcontent-%COMP%]{margin:20px 0 30px}.top-text-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.top-text-wrapper[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.85em;background:linear-gradient(90deg,#fce3ec,#ffe8cc);color:#f20;padding:.1rem .3rem .2rem;border-radius:.2rem}.tab-section-wrapper[_ngcontent-%COMP%]{padding:30px 0}.grid-wrapper[_ngcontent-%COMP%]{display:flex;column-gap:30px;flex-wrap:wrap}.grid-col-auto[_ngcontent-%COMP%]{grid-auto-flow:column;grid-template-columns:auto auto auto}label.radio-card[_ngcontent-%COMP%]{cursor:pointer;position:relative}label.radio-card[_ngcontent-%COMP%]   .card-content-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:5px;min-width:200px;padding-right:10px;display:flex;align-items:center;box-shadow:0 2px 4px #dbd7d70a;transition:.2s linear;border:1px solid rgb(230,230,230)}label.radio-card[_ngcontent-%COMP%]   .card-content-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:500}label.radio-card[_ngcontent-%COMP%]   .card-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px #dbd7d780,0 0 0 2px #3057d5}label.radio-card[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{width:15px;height:15px;display:inline-block;border:solid 2px #e3e3e3;border-radius:50%;transition:.2s linear;position:absolute;right:-5px;top:18px;background:#fff}label.radio-card[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url("data:image/svg+xml,%3Csvg width='12' height='9' viewBox='0 0 12 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.93552 4.58423C0.890286 4.53718 0.854262 4.48209 0.829309 4.42179C0.779553 4.28741 0.779553 4.13965 0.829309 4.00527C0.853759 3.94471 0.889842 3.88952 0.93552 3.84283L1.68941 3.12018C1.73378 3.06821 1.7893 3.02692 1.85185 2.99939C1.91206 2.97215 1.97736 2.95796 2.04345 2.95774C2.11507 2.95635 2.18613 2.97056 2.2517 2.99939C2.31652 3.02822 2.3752 3.06922 2.42456 3.12018L4.69872 5.39851L9.58026 0.516971C9.62828 0.466328 9.68554 0.42533 9.74895 0.396182C9.81468 0.367844 9.88563 0.353653 9.95721 0.354531C10.0244 0.354903 10.0907 0.369582 10.1517 0.397592C10.2128 0.425602 10.2672 0.466298 10.3112 0.516971L11.0651 1.25003C11.1108 1.29672 11.1469 1.35191 11.1713 1.41247C11.2211 1.54686 11.2211 1.69461 11.1713 1.82899C11.1464 1.88929 11.1104 1.94439 11.0651 1.99143L5.06525 7.96007C5.02054 8.0122 4.96514 8.0541 4.90281 8.08294C4.76944 8.13802 4.61967 8.13802 4.4863 8.08294C4.42397 8.0541 4.36857 8.0122 4.32386 7.96007L0.93552 4.58423Z' fill='white'/%3E%3C/svg%3E%0A");background-repeat:no-repeat;background-size:12px;background-position:center center;transform:scale(1.6);transition:.2s linear;opacity:0}label.radio-card[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none}label.radio-card[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .card-content-wrapper[_ngcontent-%COMP%]{box-shadow:0 2px 4px #dbd7d780,0 0 0 2px #3057d5}label.radio-card[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .card-content-wrapper[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{background:#3057d5;border-color:#3057d5;transform:scale(1.2)}label.radio-card[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .card-content-wrapper[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]:before{transform:scale(1);opacity:1}label.radio-card[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:focus + .card-content-wrapper[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 4px #3056d533;border-color:#3056d5}label.radio-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}label.radio-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}label.radio-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;text-align:center;color:#1f2949}label.radio-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;line-height:1.4;text-align:center;color:#686d73}.verify-focus[_ngcontent-%COMP%]:focus{border:1px solid #3056d5}  .mat-mdc-form-field-error{font-size:14px;margin-top:5px;display:inline-block}a.disabled[_ngcontent-%COMP%]{color:#999;cursor:not-allowed;pointer-events:none}`]});let a=n;return a})();var Ae=[{path:"",component:_e}],gt=(()=>{let n=class n{};n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=k({type:n}),n.\u0275inj=O({providers:[f],imports:[j,V.forChild(Ae),ee,me,ge,Q,J,fe]});let a=n;return a})();export{gt as SignupModule};
