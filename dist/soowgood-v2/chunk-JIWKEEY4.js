import{a as It}from"./chunk-YBAE6PYR.js";import{a as Tt}from"./chunk-UKGGZ2RA.js";import{a as St,b as Dt,c as wt,d as At}from"./chunk-NJT2CX5W.js";import{b as Ct}from"./chunk-ZAD4PLLB.js";import{a as ut,b as vt}from"./chunk-X6SVO7OM.js";import{a as yt}from"./chunk-7NGZH4SF.js";import{j as _t}from"./chunk-EOAKK2OL.js";import{a as dt}from"./chunk-DIK5M47G.js";import{h as xt,k as bt}from"./chunk-JN5TIQFO.js";import{b as gt,g as ht}from"./chunk-KXUW234Y.js";import{a as mt,b as Y,c as ct}from"./chunk-KZ73FH3X.js";import{L as st}from"./chunk-QYZGMTSF.js";import{e as T,z as G}from"./chunk-B6XPZLTG.js";import{a as ft}from"./chunk-6E6ZED7T.js";import{C as pt,E as lt}from"./chunk-FUUASHDU.js";import{$a as Q,Bb as Z,Eb as B,Fb as W,Ha as b,Ma as E,Na as m,R as H,Ra as D,S as R,U as K,Ub as tt,Vb as et,Wb as I,X as w,Y as U,Ya as r,Za as o,_a as f,aa as v,ab as X,ac as it,ba as y,cb as S,cc as $,fc as J,gb as g,i as F,ib as d,kc as nt,m as V,n as L,ra as q,rc as ot,ub as p,uc as at,vb as N,wb as u,xb as O,xc as rt,y as z,ya as l,za as x}from"./chunk-PJQ4EZIT.js";var Ft=(()=>{let a=class a{constructor(n){this.AppointmentService=n,this.appointmentList=[],this.cache={}}getAllAppointmentList(n,i){let s=`${i}-${n}`;return i==="patient"?this.AppointmentService.getAppointmentListByPatientId(n,"patient").pipe(V(c=>(this.appointmentList=c,c)),z(c=>F(null))):i==="agent"?this.AppointmentService.getAppointmentListByPatientId(n,"agent").pipe(V(c=>(this.appointmentList=c,c)),z(c=>F(null))):i==="doctor"?this.AppointmentService.getAppointmentListByDoctorId(n).pipe(V(c=>(this.appointmentList=c,c)),z(c=>F(null))):F(null)}};a.\u0275fac=function(i){return new(i||a)(K(T))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();var Et=(()=>{let a=class a{constructor(n){this.editData=n}};a.\u0275fac=function(i){return new(i||a)(x(Y))},a.\u0275cmp=w({type:a,selectors:[["app-appointment-dialog"]],decls:5,vars:1,consts:[[1,"w-full","p-4","text-center","bg-white","border","border-gray-200","rounded-lg","shadow","sm:p-8"],[1,"mb-2","text-3xl","font-bold","text-gray-900"],[1,"mb-5","text-base","text-gray-500","sm:text-lg"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"h5",1),p(2),o(),r(3,"p",2),p(4," Your appointment is approaching; make sure you're ready and confident for the event. Double-check details and prepare accordingly. "),o()()),i&2&&(l(2),u(" ",s.editData," "))}});let e=a;return e})();function Ot(e,a){e&1&&f(0,"img",16)}function Bt(e,a){if(e&1&&f(0,"iframe",19),e&2){let t=d(2);m("src",t.selectedFileContent,q)}}function Wt(e,a){if(e&1&&f(0,"img",20),e&2){let t=d(2);m("ngSrc",t.selectedFileContent)}}function $t(e,a){if(e&1&&(Q(0),b(1,Bt,1,1,"iframe",17)(2,Wt,1,1,"img",18),X()),e&2){let t=d();l(),m("ngIf",t.isPdf(t.selectedFileName)),l(),m("ngIf",!t.isPdf(t.selectedFileName))}}function Jt(e,a){if(e&1&&(r(0,"span",21),p(1),o()),e&2){let t=d();l(),N(t.selectedFileName)}}function Yt(e,a){e&1&&(r(0,"span"),p(1,"Click here to select your file!"),o())}function Gt(e,a){if(e&1){let t=S();r(0,"button",22),g("click",function(){v(t);let i=d();return y(i.onDeleteFile())}),p(1," Change "),o()}}var Mt=(()=>{let a=class a{constructor(n,i,s,c,h){this.sanitizer=n,this.dialogRef=i,this.TosterService=s,this.http=c,this.patientId=h,this.apiUrl=`${dt.apis.default.url}/api`,this.loading={status:!1,message:"Send to Doctor"}}onFileChanged(n){let i=n.target.files[0];if(this.fileInfo=i,i){this.selectedFileName=i.name;let s=new FileReader;s.onload=c=>{if(i.type==="application/pdf"){let h=c.target?.result,M=new Blob([h],{type:"application/pdf"});this.selectedFileContent=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(M)),console.log(this.selectedFileContent)}else this.selectedFileContent=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(i)),console.log(this.selectedFileContent)},s.readAsArrayBuffer(i)}}savePreviousDocument(){if(!this.fileInfo){this.TosterService.customToast("Please select a file!","warning");return}this.loading={status:!0,message:"Sending..."},this.selectedFileName&&(this.fileData=new FormData,this.fileData.append("entityId",this.patientId.toString()),this.fileData.append("entityType","Patient"),this.fileData.append("attachmentType","PatientPreviousDocuments"),this.fileData.append("directoryName","PatientPreviousDocuments\\"+this.patientId.toString()),this.fileData.append(this.selectedFileName,this.fileInfo),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(n=>{this.loading={status:!1,message:"Sent"},this.selectedFileName="",this.selectedFileContent="",this.TosterService.customToast("Your previous document sucessfully send your doctor.","success")},n=>{console.log(n)}))}onDeleteFile(){this.selectedFileName="",this.selectedFileContent=""}isPdf(n){return n.toLowerCase().endsWith(".pdf")}};a.\u0275fac=function(i){return new(i||a)(x(ot),x(mt),x(G),x(nt),x(Y))},a.\u0275cmp=w({type:a,selectors:[["app-upload-appointment-doc-dialog"]],decls:21,vars:6,consts:[[1,"grid","space-y-2","w-full","p-8","sm:w-full"],[1,"flex","justify-between"],[1,"text-md","font-bold","mb-3","text-gray-500","tracking-wide"],[3,"click"],[1,"flex","items-center","flex-col","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","mx-auto","-mt-10"],["class","has-mask h-36 object-center","src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",4,"ngIf"],[4,"ngIf"],[1,"pointer-none","text-gray-500"],["class","text-sm",4,"ngIf"],["ngClass","mt-3",3,"click",4,"ngIf"],["type","file","accept",".jpg,.jpeg,.png,.pdf",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"btn-secondary","border","border-transparent","mt-5",3,"click"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],["width","100%","height","100%",3,"src",4,"ngIf"],["alt","selected file","width","300","height","300","class","has-mask h-36 object-center",3,"ngSrc",4,"ngIf"],["width","100%","height","100%",3,"src"],["alt","selected file","width","300","height","300",1,"has-mask","h-36","object-center",3,"ngSrc"],[1,"text-sm"],["ngClass","mt-3",3,"click"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"label",2),p(3,"Upload your previous documents."),o(),r(4,"button",3),g("click",function(){return s.dialogRef.close()}),p(5,"Close"),o()(),r(6,"div",4)(7,"label",5)(8,"div",6)(9,"div",7),b(10,Ot,1,0,"img",8)(11,$t,3,2,"ng-container",9),o(),r(12,"p",10),b(13,Jt,2,1,"span",11)(14,Yt,2,0,"span",9),o(),b(15,Gt,2,0,"button",12),o(),r(16,"input",13,14),g("change",function(h){return s.onFileChanged(h)}),o()(),r(19,"button",15),g("click",function(){return s.savePreviousDocument()}),p(20),o()()()),i&2&&(l(10),m("ngIf",!s.selectedFileContent),l(),m("ngIf",s.selectedFileContent),l(2),m("ngIf",s.selectedFileName),l(),m("ngIf",!s.selectedFileName),l(),m("ngIf",s.selectedFileName),l(5),u(" ",s.loading.message," "))},dependencies:[tt,I,J]});let e=a;return e})();function Ht(e,a){e&1&&f(0,"i",16)}function Kt(e,a){if(e&1){let t=S();r(0,"button",17),g("click",function(){v(t);let i=d(2);return y(i.cancellAppointment(i.appointment.id))}),f(1,"i",18),p(2," Cancel "),o()}if(e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12 hover:text-white hover:bg-primary/30 bg-primary/90 text-white  mr-0"),E("data-tip",t.btnDisable&&"Not acceptable!")}}function qt(e,a){if(e&1){let t=S();r(0,"button",19),g("click",function(){v(t);let i=d(2);return y(i.openPdfDialog(i.appointment.id))}),f(1,"i",20),p(2," Prescription "),o()}}function Qt(e,a){if(e&1){let t=S();r(0,"button",21),g("click",function(){v(t);let i=d(2);return y(i.goToJoinCall(i.appointment,"patient"))}),f(1,"i",22),p(2," Join Call "),o()}if(e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary py-2 flex-1 basis-5/12 mr-0 hover:text-white hover:bg-primary border-secondary-dark/30 border"),m("disabled",t.btnDisable),E("data-tip",t.btnDisable&&"Appointment day is over!")}}function Xt(e,a){if(e&1){let t=S();r(0,"button",23),g("click",function(){v(t);let i=d(2);return y(i.uploadDocuments(i.appointment))}),f(1,"i",24),p(2," Upload Documents "),o()}}function Zt(e,a){if(e&1&&(r(0,"div")(1,"div",1)(2,"div")(3,"h2",2),p(4),o()(),r(5,"div",3),f(6,"img",4),o()(),r(7,"div",5)(8,"p",6)(9,"b"),p(10,"Patient Name : "),o(),r(11,"b"),p(12),o()(),r(13,"p",7)(14,"b"),p(15,"Code : "),o(),p(16),o(),r(17,"p",7)(18,"b"),p(19,"Date & Time : "),o(),r(20,"b"),p(21),B(22,"date"),o()(),r(23,"p",7)(24,"b"),p(25,"Doctor Fee :"),o(),r(26,"span",8),p(27),o()(),r(28,"p",7)(29,"b"),p(30," Appointment Type : "),o(),p(31),o(),r(32,"p",7)(33,"b"),p(34,"Consultancy Type : "),o(),r(35,"span",9),b(36,Ht,1,0,"i",10),p(37),o()(),r(38,"p",7)(39,"b"),p(40," Appointment Serial: "),o(),p(41),o(),r(42,"p",7)(43,"b"),p(44,"Status : "),o(),r(45,"span"),p(46),o()()(),r(47,"div",11),b(48,Kt,3,3,"button",12)(49,qt,3,0,"button",13)(50,Qt,3,4,"button",14)(51,Xt,3,0,"button",15),o()()),e&2){let t=d();l(4),u(" Dr. ",t.appointment.doctorName," "),l(8),N(t.appointment.patientName),l(4),u(" ",t.appointment.appointmentCode," "),l(5),O(" ",W(22,17,t.appointment.appointmentDate)," - ",t.appointment.appointmentTime," "),l(6),u("",t.appointment.totalAppointmentFee," tk. "),l(4),u("",t.appointment.appointmentTypeName," "),l(5),m("ngIf",t.appointment.consultancyTypeName=="online"),l(),u("",t.appointment.consultancyTypeName," "),l(4),u("",t.appointment.appointmentSerial," no. "),l(4),D(t.appointment.appointmentStatus==4?"bg-green-100 text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3  text-yellow-800 rounded-lg"),l(),u(" ",t.appointment.appointmentStatus==2?"Confirmed":t.appointment.appointmentStatus==4?"Completed":t.appointment.appointmentStatus==5?"Cancelled":"Progress"," "),l(2),m("ngIf",t.appointment.appointmentStatus==2&&t.appointment.appointmentStatus!==4),l(),m("ngIf",t.appointment.appointmentStatus==4),l(),m("ngIf",t.appointment.appointmentStatus==2),l(),m("ngIf",t.appointment.appointmentStatus==2&&t.uploadPrescriptiion)}}function te(e,a){e&1&&f(0,"i",16)}function ee(e,a){if(e&1&&(r(0,"button"),f(1,"i",18),p(2," Cancel "),o()),e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12  hover:text-white hover:bg-secondary bg-primary/90 text-white  mr-0")}}function ie(e,a){if(e&1){let t=S();r(0,"button",17),g("click",function(){v(t);let i=d(2);return y(i.goToJoinCall(i.appointment,"doctor"))}),f(1,"i",22),p(2," Join Call "),o()}if(e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12   mr-0 hover:text-white hover:bg-secondary border-secondary-dark/30 border")}}function ne(e,a){if(e&1){let t=S();r(0,"div")(1,"div",1)(2,"div")(3,"h2",25),g("click",function(){v(t);let i=d();return y(i.goToPatientProfile(i.appointment))}),p(4),o()(),r(5,"div",3),f(6,"img",4),o()(),r(7,"div",5)(8,"p",26)(9,"b"),p(10,"Date & Time : "),o(),r(11,"b"),p(12),B(13,"date"),o()(),r(14,"p",7)(15,"b"),p(16,"Doctor Fee :"),o(),p(17),o(),r(18,"p",7)(19,"b"),p(20," Appointment Type : "),o(),p(21),o(),r(22,"p",7)(23,"b"),p(24,"Consultancy Type : "),o(),r(25,"span",27),b(26,te,1,0,"i",10),p(27),o()(),r(28,"p",7)(29,"b"),p(30," Appointment Serial: "),o(),p(31),o(),r(32,"p",7)(33,"b"),p(34,"Status : "),o(),r(35,"span"),p(36),o()()(),r(37,"div",28),b(38,ee,3,2,"button",29)(39,ie,3,2,"button",12),r(40,"button",30),g("click",function(){v(t);let i=d();return y(i.goToBuildPrescription(i.appointment.id))}),f(41,"i",20),p(42,"Create Prescription "),o()()()}if(e&2){let t=d();l(4),u(" ",t.appointment.patientName," "),l(8),O(" ",W(13,13,t.appointment.appointmentDate)," - ",t.appointment.appointmentTime," "),l(5),u(" ",t.appointment.totalAppointmentFee," tk. "),l(4),u("",t.appointment.appointmentTypeName," "),l(5),m("ngIf",t.appointment.consultancyTypeName=="online"),l(),u("",t.appointment.consultancyTypeName," "),l(4),u("",t.appointment.appointmentSerial," no. "),l(4),D(t.appointment.appointmentStatus==4?"bg-green-100 text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3  text-yellow-800 rounded-lg"),l(),u(" ",t.appointment.appointmentStatus==2?"Confirmed":t.appointment.appointmentStatus==4?"Completed":t.appointment.appointmentStatus==5?"Cancelled":"Progress"," "),l(2),m("ngIf",t.appointment.appointmentStatus!==4&&t.appointment.appointmentStatus==2),l(),m("ngIf",t.appointment.appointmentStatus==2)}}function oe(e,a){e&1&&f(0,"i",16)}function ae(e,a){if(e&1){let t=S();r(0,"button",17),g("click",function(){v(t);let i=d(2);return y(i.cancellAppointment(i.appointment.id))}),f(1,"i",18),p(2," Cancel "),o()}if(e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12 hover:text-white hover:bg-primary/30 bg-primary/90 text-white  mr-0"),E("data-tip",t.btnDisable&&"Not acceptable!")}}function re(e,a){if(e&1){let t=S();r(0,"button",19),g("click",function(){v(t);let i=d(2);return y(i.openPdfDialog(i.appointment.id))}),f(1,"i",20),p(2," Prescription "),o()}}function pe(e,a){if(e&1){let t=S();r(0,"button",21),g("click",function(){v(t);let i=d(2);return y(i.goToJoinCall(i.appointment,"patient"))}),f(1,"i",22),p(2," Join Call "),o()}if(e&2){let t=d(2);D(t.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary py-2 flex-1 basis-5/12 mr-0 hover:text-white hover:bg-primary border-secondary-dark/30 border"),m("disabled",t.btnDisable),E("data-tip",t.btnDisable&&"Appointment day is over!")}}function le(e,a){if(e&1){let t=S();r(0,"button",23),g("click",function(){v(t);let i=d(2);return y(i.uploadDocuments(i.appointment))}),f(1,"i",24),p(2," Upload Documents "),o()}}function se(e,a){if(e&1&&(r(0,"div")(1,"div",1)(2,"div")(3,"h2",2),p(4),o()(),r(5,"div",3),f(6,"img",4),o()(),r(7,"div",5)(8,"p",6)(9,"b"),p(10,"Patient : "),o(),r(11,"b",31),p(12),o()(),r(13,"p",7)(14,"b"),p(15,"Code : "),o(),p(16),o(),r(17,"p",7)(18,"b"),p(19,"Date & Time : "),o(),r(20,"b"),p(21),B(22,"date"),o()(),r(23,"p",7)(24,"b"),p(25,"Doctor Fee :"),o(),r(26,"span",8),p(27),o()(),r(28,"p",7)(29,"b"),p(30," Appointment Type : "),o(),p(31),o(),r(32,"p",7)(33,"b"),p(34,"Consultancy Type : "),o(),r(35,"span",32),b(36,oe,1,0,"i",10),p(37),o()(),r(38,"p",7)(39,"b"),p(40," Appointment Serial: "),o(),r(41,"span",33),p(42),o()(),r(43,"p",7)(44,"b"),p(45,"Status : "),o(),r(46,"span"),p(47),o()()(),r(48,"div",11),b(49,ae,3,3,"button",12)(50,re,3,0,"button",13)(51,pe,3,4,"button",14)(52,le,3,0,"button",15),o()()),e&2){let t=d();l(4),u(" Dr. ",t.appointment.doctorName," "),l(8),N(t.appointment.patientName),l(4),u(" ",t.appointment.appointmentCode," "),l(5),O(" ",W(22,17,t.appointment.appointmentDate)," - ",t.appointment.appointmentTime," "),l(6),u(" ",t.appointment.totalAppointmentFee," tk. "),l(4),u("",t.appointment.appointmentTypeName," "),l(5),m("ngIf",t.appointment.consultancyTypeName=="online"),l(),u("",t.appointment.consultancyTypeName," "),l(5),u("",t.appointment.appointmentSerial," no."),l(4),D(t.appointment.appointmentStatus==4?"bg-green-100 font-Roboto text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3 font-Roboto text-yellow-800 rounded-lg"),l(),u(" ",t.appointment.appointmentStatus==2?"Confirmed":t.appointment.appointmentStatus==4?"Completed":t.appointment.appointmentStatus==5?"Cancelled":"Progress"," "),l(2),m("ngIf",t.appointment.appointmentStatus==2&&t.appointment.appointmentStatus!==4),l(),m("ngIf",t.appointment.appointmentStatus==4),l(),m("ngIf",t.appointment.appointmentStatus==2),l(),m("ngIf",t.appointment.appointmentStatus==2&&t.uploadPrescriptiion)}}var Pt=(()=>{let a=class a{constructor(n,i,s,c,h){this.Router=n,this.dialog=i,this.AppointmentService=s,this.tosterService=c,this.NormalAuth=h,this.uploadPrescriptiion=!0,this.btnDisable=!1,this.btnDisable=!1}ngAfterViewInit(){console.log(this.appointment);let n=new Date,i=new Date(this.appointment.appointmentDate);n.setHours(0,0,0,0),i.setHours(0,0,0,0),i.getTime()>=n.getTime()?this.uploadPrescriptiion=!0:this.uploadPrescriptiion=!1,i.getTime()<n.getTime()?this.btnDisable=!0:this.btnDisable=!1}goToBuildPrescription(n){if(n!=null&&n!==void 0){let i="/#/doctor/build-prescription/"+n;window.open(i,"_blank")}else console.log("Appointment not found")}goToPatientProfile(n){this.Router.navigate(["/doctor/patients/patient-details/",n.patientProfileId,n.doctorProfileId])}openPdfDialog(n){this.dialog.open(It,{minWidth:"820px",maxWidth:"100%",height:"1000px",data:{appointmentId:n}})}goToJoinCall(n,i){if(n){let s=new Date,c=new Date(n.appointmentDate),h={hour:+n.appointmentTime.split(":")[0],minute:+n.appointmentTime.split(":")[1]};if(s.getFullYear()<=c.getFullYear()&&s.getMonth()<=c.getMonth()&&s.getDate()<=c.getDate())if(s.getFullYear()===c.getFullYear()&&s.getMonth()===c.getMonth()&&s.getDate()===c.getDate()){let _=((C,A,P,j)=>{console.log({aptMinute:A,aptHour:C,currentHour:P,currentMinute:j}),A<15&&(A+=60,C-=1);let Vt=C-P,Lt=A-j;return Vt*60+Lt})(h.hour,h.minute,s.getHours(),s.getMinutes());if(_<15&&_>-30){console.log("Appointment will start soon!");let C=n.doctorName,A=i,P=n.appointmentCode;A=="doctor"?C=n.doctorName:C=n.patientName;let j=`https://agora-video-call-eight.vercel.app/?username=${C}&aptCode=${P}&c=${A}`;window.open(j,"_blank")}else _>15?this.openDialog("Appointment time is not here yet!"):(this.openDialog("Appointment time is over!"),this.uploadPrescriptiion=!1)}else this.openDialog("Appointment date is coming soon!");else this.openDialog("Appointment date is over!"),this.uploadPrescriptiion=!1}}uploadDocuments(n){this.dialog.open(Mt,{width:"40vw",data:n?.patientProfileId}).afterClosed().subscribe(s=>{})}openDialog(n){this.dialog.open(Et,{width:"40vw",data:n}).afterClosed().subscribe(s=>{})}cancellAppointment(n){let i=this.NormalAuth.authInfo();n&&confirm("Are you Sure, to canel this appointment?")&&this.AppointmentService.cancellAppointment(n,i.id,i.userType).subscribe(c=>{c&&this.tosterService.customToast("Appointment Cancelled!!","success")})}};a.\u0275fac=function(i){return new(i||a)(x(at),x(ct),x(T),x(G),x(ft))},a.\u0275cmp=w({type:a,selectors:[["app-appointment-card"]],inputs:{appointment:"appointment",user:"user"},decls:3,vars:3,consts:[[4,"ngIf"],[1,"border-b-[1px]","flex","justify-between","p-5","bg-primary/90"],[1,"text-[22px]","font-Roboto","text-gray-50","mt-2","capitalize"],[1,"w-[60px]","h-[60px]","overflow-hidden","rounded-full","border-secondary","border-[2px]"],["ngSrc","/assets/doctor/dr.jpeg","alt","img","width","50","height","50",1,"w-full","h-full","object-cover"],[1,"px-6"],[1,"py-1","text-[18px]","text-gray-500","mt-5","flex","justify-between"],[1,"py-1","text-[14px]","text-gray-500","flex","justify-between"],[1,"font-Roboto","text-[18px]"],[1,"badge","text-primary","bg-green-200","font-Roboto"],["class","fa-solid fa-video",4,"ngIf"],[1,"flex","w-full","justify-between","gap-3","flex-wrap","p-4","items-end","h-full"],[3,"class","click",4,"ngIf"],["class","btn-secondary-light flex-1 basis-5/12 mr-0 border-secondary-dark/30 border",3,"click",4,"ngIf"],[3,"disabled","class","click",4,"ngIf"],["class","btn-secondary-light flex-1 tooltip-warning basis-5/12 mr-0 border-secondary-dark/30 border",3,"click",4,"ngIf"],[1,"fa-solid","fa-video"],[3,"click"],[1,"fa-solid","fa-ban","mr-1"],[1,"btn-secondary-light","flex-1","basis-5/12","mr-0","border-secondary-dark/30","border",3,"click"],[1,"fa-solid","fa-prescription","mr-1"],[3,"disabled","click"],[1,"fa-solid","fa-phone-volume","mr-1"],[1,"btn-secondary-light","flex-1","tooltip-warning","basis-5/12","mr-0","border-secondary-dark/30","border",3,"click"],[1,"fa-solid","fa-upload","mr-1"],[1,"cursor-pointer","text-[22px]","font-Roboto","text-gray-50","mt-2","capitalize",3,"click"],[1,"py-1","text-[14px]","text-gray-500","mt-3","flex","justify-between"],[1,"badge","text-primary"],[1,"grid","grid-cols-2","flex-wrap","w-full","justify-between","gap-4","p-4"],[3,"class",4,"ngIf"],[1,"btn-secondary-light","col-span-2","flex-1","active:scale-90","transition-all","duration-75","mr-0","hover:text-white","hover:bg-secondary","border-secondary-dark/30","border",3,"click"],[1,"text-[18px]","capitalize"],[1,"badge","bg-green-200","text-primary"],[1,"font-Roboto"]],template:function(i,s){i&1&&b(0,Zt,52,19,"div",0)(1,ne,43,15,"div",0)(2,se,53,19,"div",0),i&2&&(m("ngIf",s.user=="patient"),l(),m("ngIf",s.user=="doctor"),l(),m("ngIf",s.user=="agent"))},dependencies:[I,J,it]});let e=a;return e})();function ce(e,a){e&1&&(r(0,"div",8),f(1,"app-skeleton")(2,"app-skeleton")(3,"app-skeleton")(4,"app-skeleton")(5,"app-skeleton")(6,"app-skeleton")(7,"app-skeleton")(8,"app-skeleton"),o())}function de(e,a){e&1&&(r(0,"div",9)(1,"div"),p(2,"No records has been found!"),o()())}function fe(e,a){if(e&1&&(r(0,"div",10),f(1,"app-appointment-card",11),o()),e&2){let t=a.$implicit,n=d();l(),m("appointment",t)("user",n.user)}}var ue=()=>[5,10,25,100],Ve=(()=>{let a=class a{constructor(n,i,s){this.DoctorPatientAppointmentService=n,this.fb=i,this.AppointmentService=s,this.animationDirection="bottom",this.dataLoading=!1,this.appointmentList=[],this.skelton=!1,this.consultancyType=[],this.specialityList=[],this.specializationList=[],this.totalCount=0,this.filterModel={offset:0,limit:0,pageNo:0,pageSize:10,sortBy:"name",sortOrder:"asc",isDesc:!1},this.subs=new yt,this.doctorFilterDto={},this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancyType",options:ht.getEnumList(gt)},{label:"start date",fieldType:"date-range",formControlName:{startDate:"startDate",endDate:"endDate"}}]}},this.filter=this.fb.group({})}ngOnInit(){this.id&&this.user?(this.dataLoading=!0,this.skelton=!0,this.DoctorPatientAppointmentService.getAllAppointmentList(this.id,this.user).subscribe({next:n=>{n.length===0?(this.appointmentList=[],this.skelton=!1,this.noDataAvailable=!0):(this.appointmentList=n,this.skelton=!1,this.noDataAvailable=!1)},error:n=>{this.skelton=!0}}).add(()=>{this.dataLoading=!1})):console.log("Doctor ID not found")}loadData(n){let{consultancyType:i,startDate:s,endDate:c}=n,h=new Date(s).toLocaleDateString(),M=new Date(c).toLocaleDateString();this.doctorFilterDto.consultancyType=i,this.doctorFilterDto.fromDate=h,this.doctorFilterDto.toDate=M,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,this.user=="doctor"&&(this.subs.sink=L([this.AppointmentService.getAppointmentListForDoctorWithSearchFilter(this.id,this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForDoctorWithSearchFilter(this.id,this.doctorFilterDto)]).subscribe(([_,C])=>{this.totalCount=C,this.appointmentList=_},_=>{console.log(_)})),this.user=="patient"&&(this.subs.sink=L([this.AppointmentService.getAppointmentListForPatientWithSearchFilter(this.id,"patient",this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForPatientWithSearchFilter(this.id,"patient",this.doctorFilterDto)]).subscribe(([_,C])=>{this.totalCount=C,this.appointmentList=_},_=>{console.log(_)})),this.user=="agent"&&(this.subs.sink=L([this.AppointmentService.getAppointmentListForPatientWithSearchFilter(this.id,"agent",this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForPatientWithSearchFilter(this.id,"agent",this.doctorFilterDto)]).subscribe(([_,C])=>{this.totalCount=C,this.appointmentList=_},_=>{console.log(_)}))}getSpecializations(n){}searchData(n){}searchChanged(n){console.log(n)}};a.\u0275fac=function(i){return new(i||a)(x(Ft),x(pt),x(T))},a.\u0275cmp=w({type:a,selectors:[["app-all-appointments"]],inputs:{id:"id",user:"user"},decls:8,vars:9,consts:[[1,"py-4","w-full","relative"],[3,"filterInput","filterForm","selectedValueForFilter","getSpecializations","searchValue"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-10 flex-wrap ",4,"ngIf"],["class","flex justify-center items-center h-[500px] w-full",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-10","3xl:grid-cols-4"],["class"," border-[1px] h-fit  rounded-md bg-white overflow-hidden",4,"ngFor","ngForOf"],[1,"flex","w-full","justify-center","py-10"],["aria-label","Select page",1,"bg-primary/5","py-2","px-2.5","rounded-xl","shadow-2xl","shadow-secondary/10",3,"length","pageSize","pageSizeOptions"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","2xl:grid-cols-4","gap-10","flex-wrap"],[1,"flex","justify-center","items-center","h-[500px]","w-full"],[1,"border-[1px]","h-fit","rounded-md","bg-white","overflow-hidden"],[3,"appointment","user"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"app-filter",1),g("selectedValueForFilter",function(h){return s.loadData(h)})("getSpecializations",function(h){return s.getSpecializations(h)})("searchValue",function(h){return s.searchData(h)}),o(),b(2,ce,9,0,"div",2)(3,de,3,0,"div",3),r(4,"div",4),b(5,fe,2,2,"div",5),o(),r(6,"div",6),f(7,"mat-paginator",7),o()()),i&2&&(l(),m("filterInput",s.filterInput)("filterForm",s.filter),l(),m("ngIf",s.skelton),l(),m("ngIf",s.noDataAvailable),l(2),m("ngForOf",s.appointmentList),l(2),m("length",100)("pageSize",10)("pageSizeOptions",Z(8,ue)))},dependencies:[et,I,ut,St,wt,Pt],styles:[".mdc-line-ripple{display:none}  .mat-mdc-text-field-wrapper{border:1px solid rgb(211,211,211);height:45px!important}  .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:30px}  .mat-mdc-select-arrow svg{top:0}  .mat-mdc-form-field{margin-left:15px}  .mat-mdc-paginator-page-size-select{height:40px}  .mat-mdc-paginator-container{background:#fff;border-radius:10px}  .mat-mdc-form-field-infix{padding-top:9px!important;padding-bottom:0}"]});let e=a;return e})();var jt=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=U({type:a}),a.\u0275inj=R({imports:[$,Tt]});let e=a;return e})();var ci=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=U({type:a}),a.\u0275inj=R({imports:[$,rt.forChild([]),vt,jt,lt,xt,Ct,Dt,_t,bt,st,At]});let e=a;return e})();export{Ve as a,ci as b};
