"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[3129],{3129:(A,g,a)=>{a.r(g),a.d(g,{AgentSignupModule:()=>U});var m=a(6895),s=a(4006),l=a(8745),e=a(4650),d=a(5654),c=a(7999);let n=(()=>{class i{constructor(r){this.restService=r,this.apiName="Default",this.create=(t,o)=>this.restService.request({method:"POST",url:"/api/app/agent-master",body:t},{apiName:this.apiName,...o}),this.get=(t,o)=>this.restService.request({method:"GET",url:`/api/app/agent-master/${t}`},{apiName:this.apiName,...o}),this.getAllAgentMasterList=t=>this.restService.request({method:"GET",url:"/api/app/agent-master/agent-master-list"},{apiName:this.apiName,...t}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/agent-master"},{apiName:this.apiName,...t}),this.update=(t,o)=>this.restService.request({method:"PUT",url:"/api/app/agent-master",body:t},{apiName:this.apiName,...o})}}return i.\u0275fac=function(r){return new(r||i)(e.LFG(c.vgb))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),u=(()=>{class i{constructor(r){this.restService=r,this.apiName="Default",this.create=(t,o)=>this.restService.request({method:"POST",url:"/api/app/agent-supervisor",body:t},{apiName:this.apiName,...o}),this.get=(t,o)=>this.restService.request({method:"GET",url:`/api/app/agent-supervisor/${t}`},{apiName:this.apiName,...o}),this.getAgentSupervisorsByAgentMasterList=(t,o)=>this.restService.request({method:"GET",url:`/api/app/agent-supervisor/agent-supervisors-by-agent-master-list/${t}`},{apiName:this.apiName,...o}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/agent-supervisor"},{apiName:this.apiName,...t}),this.update=(t,o)=>this.restService.request({method:"PUT",url:"/api/app/agent-supervisor",body:t},{apiName:this.apiName,...o})}}return i.\u0275fac=function(r){return new(r||i)(e.LFG(c.vgb))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=a(629),f=a(5374),N=a(2381),S=a(2510);function Z(i,p){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const r=p.$implicit;e.s9C("value",r.id),e.xp6(1),e.hij(" ",r.displayName," ")}}function T(i,p){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const r=p.$implicit;e.s9C("value",r.id),e.xp6(1),e.hij(" ",r.displayName," ")}}function y(i,p){1&i&&e._UZ(0,"span",37)}const q=[{path:"",component:(()=>{class i{constructor(r,t,o,h,b,_,x,w){this.fb=r,this.AgentProfileService=t,this.AgentMasterService=o,this.AgentSupervisorService=h,this.NormalAuth=b,this.UserAccountsService=_,this.TosterService=x,this._router=w,this.subs=new l.Y}ngOnInit(){this.loadForm(),this.AgentMasterService.getAllAgentMasterList().subscribe(r=>this.agenetMasterList=r)}loadForm(){this.signupForm=this.fb.group({fullName:["",s.kI.required],organizationName:["0",s.kI.required],agentSuperVisor:["0",s.kI.required],address:["",s.kI.required],city:["Dhaka",s.kI.required],zipCode:["1212",s.kI.required],country:["Bangladesh",s.kI.required],mobileNo:["",[s.kI.required,s.kI.minLength(11),s.kI.maxLength(11)]],email:["",s.kI.required],password:["",s.kI.required],isActive:["true",s.kI.required]})}onSubmit(){if(this.isLoading=!0,!this.signupForm.valid)return this.isLoading=!1,void this.TosterService.customToast("Please filed all required field","warning");this.UserAccountsService.signupUserByUserDtoAndPasswordAndRole({tenantId:"",userName:this.signupForm.value.mobileNo,name:this.signupForm?.value.fullName,surname:"",email:this.signupForm.value.email,emailConfirmed:!0,phoneNumber:this.signupForm.value.mobileNo,phoneNumberConfirmed:!0,address:this.signupForm.value.address,city:this.signupForm.value.city,zipCode:this.signupForm.value.zipCode,country:this.signupForm.value.country,isActive:!0,lockoutEnabled:!1,lockoutEnd:"2023-07-16T07:38:44.382Z",concurrencyStamp:"",agentMasterId:this.signupForm.value.organizationName,agentSupervisorId:this.signupForm.value.agentSuperVisor},this.signupForm.value?.password,"Agent").subscribe(t=>{t.success?this.AgentProfileService.create({...this.signupForm.value,agentMasterId:this.signupForm.value?.organizationName,agentSupervisorId:this.signupForm.value?.agentSuperVisor,userId:t.userId}).subscribe(o=>{this.subs.sink=this.AgentProfileService.getByUserId(o.userId).subscribe(h=>{this.agentProfileDto=h,this.agentId=h.id,this.NormalAuth.signOut(),this._router.navigate(["/agent/login"],{state:{data:t}}).then(b=>this.TosterService.customToast(String(t.message),"success"))})}):(this.isLoading=!1,this.TosterService.customToast(String(t.message),"error"))})}loadAgentSupervisors(r){this.AgentSupervisorService.getAgentSupervisorsByAgentMasterList(r.target.value).subscribe(t=>{this.agentSupervisorList=t})}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(s.qu),e.Y36(d.j),e.Y36(n),e.Y36(u),e.Y36(v.e),e.Y36(f.V),e.Y36(N.G),e.Y36(S.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-agent-signup"]],decls:69,vars:6,consts:[[1,"signup-form"],[1,"signup-form__left"],["src","../../../../assets/auth/Repeat Grid 3.png","alt","auth",1,"w-full","h-full"],[1,"signup-form__right","drop-shadow-soft","relative"],[1,"max-w-lg","min-w-[650px]","mx-auto","mt-10","bg-white","p-8","rounded-xl","shadow","shadow-slate-300"],[1,"text-4xl","font-medium"],[1,"text-slate-500","mt-2"],[1,"mt-6",3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2","mb-5"],["for","agentOrganization"],[1,"font-medium","text-slate-700","pb-2"],["formControlName","organizationName","name","select","id","organizationName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md",3,"change"],["value","0",1,"font-semibold","text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["formControlName","agentSuperVisor","name","select","id","agentSuperVisor",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","agentName"],["type","text","formControlName","fullName","id","agentName","placeholder","Name","required","",1,"form_input"],["for","email"],["type","email","formControlName","email","id","email","placeholder","example@mail.com","required","",1,"form_input"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password","required","",1,"form_input"],["for","mobile"],[1,"form_input","flex","h-[40px]"],["matPrefix","",1,"h-fit","font-Roboto","font-semibold"],["matInput","","maxlength","11","type","tel","formControlName","mobileNo","id","mobileNo","placeholder","018-000-00000","required","","inputmode","numeric",1,"w-full","border-none","outline-none","h-fit"],["for","Address"],["type","text","formControlName","address","id","address","placeholder","Address","required","",1,"form_input"],[1,"form_btn",3,"click"],[1,"flex","items-center"],[1,"fa-solid","ml-2","fa-right-to-bracket"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"text-center","w-full","mt-5"],["routerLink","/agent/login",1,"text-primary","font-medium","inline-flex","space-x-1","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],[1,"font-semibold","text-gray-500",3,"value"],[1,"loading","loading-dots","loading-md"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Agent Signup"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Hi, Welcome to SoowGood \u{1f44b}"),e.qZA(),e.TgZ(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10)(13,"p",11),e._uU(14,"Agent Master"),e.qZA(),e.TgZ(15,"select",12),e.NdJ("change",function(h){return t.loadAgentSupervisors(h)}),e.TgZ(16,"option",13),e._uU(17," Select "),e.qZA(),e.YNc(18,Z,2,2,"option",14),e.qZA()()(),e.TgZ(19,"div",9)(20,"label",10)(21,"p",11),e._uU(22,"Supervisor"),e.qZA(),e.TgZ(23,"select",15)(24,"option",13),e._uU(25," Select "),e.qZA(),e.YNc(26,T,2,2,"option",14),e.qZA()()(),e.TgZ(27,"div",9)(28,"label",16)(29,"p",11),e._uU(30,"Agent Name"),e.qZA(),e._UZ(31,"input",17),e.qZA()(),e.TgZ(32,"div",9)(33,"label",18)(34,"p",11),e._uU(35,"Email"),e.qZA(),e._UZ(36,"input",19),e.qZA()(),e.TgZ(37,"div",9)(38,"label",20)(39,"p",11),e._uU(40,"Password"),e.qZA(),e._UZ(41,"input",21),e.qZA()(),e.TgZ(42,"div",9)(43,"label",22)(44,"p",11),e._uU(45,"Mobile Number"),e.qZA(),e.TgZ(46,"div",23)(47,"span",24),e._uU(48,"+88 \xa0"),e.qZA(),e._UZ(49,"input",25),e.qZA()()(),e.TgZ(50,"div",9)(51,"label",26)(52,"p",11),e._uU(53,"Address"),e.qZA(),e._UZ(54,"input",27),e.qZA()(),e.TgZ(55,"button",28),e.NdJ("click",function(){return t.onSubmit()}),e.TgZ(56,"div",29)(57,"span"),e._uU(58,"Signup"),e.qZA(),e._UZ(59,"i",30),e.qZA(),e.YNc(60,y,1,0,"span",31),e.qZA(),e.TgZ(61,"p",32),e._uU(62," Already have an account? "),e.TgZ(63,"a",33)(64,"span"),e._uU(65," Login "),e.qZA(),e.TgZ(66,"span"),e.O4$(),e.TgZ(67,"svg",34),e._UZ(68,"path",35),e.qZA()()()()()()()()()),2&r){let o;e.xp6(9),e.Q6J("formGroup",t.signupForm),e.xp6(9),e.Q6J("ngForOf",t.agenetMasterList),e.xp6(8),e.Q6J("ngForOf",t.agentSupervisorList),e.xp6(23),e.Tol(null!=(o=t.signupForm.get("mobileNo"))&&o.invalid?"border-red-600 border-[1px]":""),e.xp6(11),e.Q6J("ngIf",t.isLoading)}},dependencies:[m.sg,m.O5,S.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.nD,s.sg,s.u]}),i})()}];let U=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,S.Bz.forChild(q),s.u5,s.UX]}),i})()},5374:(A,g,a)=>{a.d(g,{V:()=>l});var m=a(4650),s=a(7999);let l=(()=>{class e{constructor(c){this.restService=c,this.apiName="Default",this.delete=(n,u,v)=>this.restService.request({method:"DELETE",url:"/api/app/user-accounts",params:{mobile:n,role:u}},{apiName:this.apiName,...v}),this.isUserExistsByUserName=(n,u)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/is-user-exists",params:{userName:n}},{apiName:this.apiName,...u}),this.loginByUserDto=(n,u)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/login",body:n},{apiName:this.apiName,...u}),this.refreshAccessTokenByUser=(n,u)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/refresh-access-token",body:n},{apiName:this.apiName,...u}),this.resetPasswordByInputDto=(n,u)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/reset-password",body:n},{apiName:this.apiName,...u}),this.resetPassword_AppByInputDto=(n,u)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/reset-password_App",body:n},{apiName:this.apiName,...u}),this.signupUserByUserDtoAndPasswordAndRole=(n,u,v,f)=>this.restService.request({method:"POST",url:"/api/app/user-accounts/signup-user",params:{password:u,role:v},body:n},{apiName:this.apiName,...f})}}return e.\u0275fac=function(c){return new(c||e)(m.LFG(s.vgb))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8745:(A,g,a)=>{a.d(g,{Y:()=>s});var s=function(){function l(){this._subs=[]}return l.prototype.add=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];this._subs=this._subs.concat(e)},Object.defineProperty(l.prototype,"sink",{set:function(e){this._subs.push(e)},enumerable:!0,configurable:!0}),l.prototype.unsubscribe=function(){this._subs.forEach(function(e){return e&&function(l){return"function"==typeof l}(e.unsubscribe)&&e.unsubscribe()}),this._subs=[]},l}()}}]);