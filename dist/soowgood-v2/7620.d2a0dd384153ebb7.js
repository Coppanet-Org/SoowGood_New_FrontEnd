"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[7620],{8814:(E,A,r)=>{r.d(A,{z:()=>D});var t=r(4650),C=r(7999);let D=(()=>{class f{constructor(d){this.restService=d,this.apiName="Default",this.create=(l,s)=>this.restService.request({method:"POST",url:"/api/app/doctor-chamber",body:l},{apiName:this.apiName,...s}),this.get=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-chamber/${l}`},{apiName:this.apiName,...s}),this.getDoctorChamberListByDoctorId=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-chamber/doctor-chamber-list-by-doctor-id/${l}`},{apiName:this.apiName,...s}),this.getList=l=>this.restService.request({method:"GET",url:"/api/app/doctor-chamber"},{apiName:this.apiName,...l}),this.update=(l,s)=>this.restService.request({method:"PUT",url:"/api/app/doctor-chamber",body:l},{apiName:this.apiName,...s})}}return f.\u0275fac=function(d){return new(d||f)(t.LFG(C.vgb))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},5318:(E,A,r)=>{r.d(A,{P:()=>D});var t=r(4650),C=r(7999);let D=(()=>{class f{constructor(d){this.restService=d,this.apiName="Default",this.create=(l,s)=>this.restService.request({method:"POST",url:"/api/app/doctor-schedule",body:l},{apiName:this.apiName,...s}),this.createFromMobileApp=(l,s)=>this.restService.request({method:"POST",url:"/api/app/doctor-schedule/from-mobile-app",body:l},{apiName:this.apiName,...s}),this.deleteSession=(l,s)=>this.restService.request({method:"DELETE",url:`/api/app/doctor-schedule/${l}/session`},{apiName:this.apiName,...s}),this.get=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-schedule/${l}`},{apiName:this.apiName,...s}),this.getDetailsScheduleListByDoctorId=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-schedule/details-schedule-list-by-doctor-id/${l}`},{apiName:this.apiName,...s}),this.getList=l=>this.restService.request({method:"GET",url:"/api/app/doctor-schedule"},{apiName:this.apiName,...l}),this.getListByDoctorIdList=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-schedule/by-doctor-id-list/${l}`},{apiName:this.apiName,...s}),this.getScheduleListByDoctorId=(l,s)=>this.restService.request({method:"GET",url:`/api/app/doctor-schedule/schedule-list-by-doctor-id/${l}`},{apiName:this.apiName,...s}),this.update=(l,s)=>this.restService.request({method:"PUT",url:"/api/app/doctor-schedule",body:l},{apiName:this.apiName,...s}),this.updateFromMobileApp=(l,s)=>this.restService.request({method:"PUT",url:"/api/app/doctor-schedule/from-mobile-app",body:l},{apiName:this.apiName,...s})}}return f.\u0275fac=function(d){return new(d||f)(t.LFG(C.vgb))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9805:(E,A,r)=>{r.d(A,{I:()=>D});var t=r(4650),C=r(7999);let D=(()=>{class f{constructor(d){this.restService=d,this.apiName="Default",this.create=(l,s)=>this.restService.request({method:"POST",url:"/api/app/financial-setup",body:l},{apiName:this.apiName,...s}),this.delete=(l,s)=>this.restService.request({method:"DELETE",url:`/api/app/financial-setup/${l}`},{apiName:this.apiName,...s}),this.get=(l,s)=>this.restService.request({method:"GET",url:`/api/app/financial-setup/${l}`},{apiName:this.apiName,...s}),this.getList=l=>this.restService.request({method:"GET",url:"/api/app/financial-setup"},{apiName:this.apiName,...l}),this.update=(l,s)=>this.restService.request({method:"PUT",url:"/api/app/financial-setup",body:l},{apiName:this.apiName,...s})}}return f.\u0275fac=function(d){return new(d||f)(t.LFG(C.vgb))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7450:(E,A,r)=>{r.d(A,{R:()=>qe});var t=r(4006),C=r(5649),D=r(3900),f=r(4004),S=r(9646),d=r(8675),l=r(9841),s=r(4482),N=r(5797),u=r(3268),P=r(9635),h=r(3269);function c(...n){const p=(0,h.jO)(n);return p?(0,P.z)(c(...n),(0,u.Z)(p)):(0,s.e)((o,i)=>{(0,l.l)([o,...(0,N.k)(n)])(i)})}function T(...n){return c(...n)}var B=r(5412),U=r(4473),q=r(8745),M=r(1873),Y=r(6516),$=r(2537),e=r(4650),H=r(427),z=r(6084),V=r(9805),X=r(2381),K=r(1135),ee=r(7579);let Q=(()=>{class n{constructor(){this.doctorSlotList=new K.X([]),this.doctorScheduleList=new K.X([]),this.selectedSlot=new ee.x}sendDoctorAvailableSlotData(o){this.doctorSlotList.next(o)}getDoctorAvailableSlotData(){return this.doctorSlotList.asObservable()}sendDoctorScheduleData(o){this.doctorScheduleList.next(o)}getDoctorScheduleData(){return this.doctorScheduleList.asObservable()}sendSelectedSlot(o){this.selectedSlot.next(o)}getSelectedSlot(){return this.selectedSlot.asObservable()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var te=r(629),R=r(6895),oe=r(2510),W=r(8824),ie=r(9300);let ne=(()=>{class n{constructor(o){this.DoctorScheduleStateService=o}selectSlot(o){this.DoctorScheduleStateService.sendSelectedSlot(o)}formatTime(o){return new Date(`1970-01-01T${o}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-slot-item"]],inputs:{item:"item"},decls:10,vars:6,consts:[[1,"flex","items-center"],["hidden","","type","radio","name","default-radio",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","focus:ring-blue-500","focus:ring-2",3,"id","value"],[1,"radio-card","flex","py-2","px-3","border-[1px]","border-secondary-dark/20","bg-secondary-light","text-secondary-dark","cursor-pointer",3,"for","click"],[1,"card-content-wrapper"],[1,"check-icon"],[1,"card-content","tooltip"],[1,"text-[14px]"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2),e.NdJ("click",function(){return i.selectSlot(i.item)}),e.TgZ(3,"div",3),e._UZ(4,"span",4),e.TgZ(5,"div",5)(6,"p",6),e._uU(7),e.qZA()(),e.TgZ(8,"p",6),e._uU(9),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("id",i.item.id)("value",i.item.id),e.xp6(1),e.Q6J("for",i.item.id),e.xp6(5),e.AsE("",i.formatTime(i.item.startTime)," - ",i.formatTime(i.item.endTime),""),e.xp6(2),e.hij("(",i.item.leftPatient," slot available)"))},styles:["input[type=radio][_ngcontent-%COMP%]:checked + .radio-card[_ngcontent-%COMP%]{background:#006c93;color:#fff}"]}),n})();function ae(n,p){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-slot-item",2),e.qZA()),2&n){const o=p.$implicit;e.xp6(1),e.Q6J("item",o)}}let re=(()=>{class n{constructor(o){this.DoctorScheduleStateService=o,this.slotList=[],this.DoctorScheduleStateService.getDoctorAvailableSlotData().pipe((0,ie.h)(i=>i)).subscribe(i=>{this.slotList=i})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-slots"]],decls:2,vars:1,consts:[[1,"grid","grid-cols-3","gap-3"],[4,"ngFor","ngForOf"],[3,"item"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ae,2,1,"div",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",i.slotList))},dependencies:[R.sg,ne]}),n})();var le=r(470);let se=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-booking-payment"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"booking-payment works!"),e.qZA())}}),n})();const pe=["buttonMyself"],de=["buttonOthers"];function ce(n,p){if(1&n){const o=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"img",4),e.TgZ(3,"h1",5),e._uU(4,"Welcome to Soowgood."),e.qZA()(),e.TgZ(5,"div",6)(6,"p"),e._uU(7,"You must be "),e.TgZ(8,"a",7),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.dialogRef.close())}),e._uU(9,"Login! "),e.qZA(),e._uU(10," to continue!"),e.qZA(),e.TgZ(11,"p"),e._uU(12,"or"),e.qZA(),e.TgZ(13,"p")(14,"a",8),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.dialogRef.close())}),e._uU(15,"Register"),e.qZA(),e._uU(16," a new account."),e.qZA()()()}}function ue(n,p){if(1&n){const o=e.EpF();e.TgZ(0,"li",20),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.onStepChange(1))}),e._UZ(1,"input",72),e.TgZ(2,"label",73)(3,"div",23),e._UZ(4,"i",74),e.TgZ(5,"div")(6,"div",25),e._uU(7,"Book for Self"),e.qZA(),e.TgZ(8,"div",26),e._uU(9,"If you are patient!"),e.qZA()()(),e.O4$(),e.TgZ(10,"svg",27),e._UZ(11,"path",28),e.qZA()()()}}function me(n,p){1&n&&(e.TgZ(0,"p",92),e._uU(1," Please select appointment date. "),e.qZA())}function fe(n,p){if(1&n&&(e.TgZ(0,"option",93),e._uU(1),e.qZA()),2&n){const o=p.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function ge(n,p){1&n&&(e.TgZ(0,"p",92),e._uU(1," Please select a hospital/chamber "),e.qZA())}function he(n,p){if(1&n&&(e.TgZ(0,"option",93),e._uU(1),e.qZA()),2&n){const o=p.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name," ")}}function be(n,p){1&n&&(e.TgZ(0,"p",92),e._uU(1," Please select appointment type "),e.qZA())}function _e(n,p){1&n&&(e.TgZ(0,"div",94)(1,"label",95),e._uU(2," Available Slots"),e.qZA(),e.TgZ(3,"div",96),e._UZ(4,"app-slots"),e.qZA()())}function ve(n,p){if(1&n&&(e.TgZ(0,"div",94)(1,"p"),e._uU(2),e.qZA()()),2&n){const o=e.oxw(3);e.xp6(2),e.Oqu(o.showEmptySlot)}}function ye(n,p){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"form",17)(2,"div",75)(3,"div",32)(4,"div",76),e._UZ(5,"img",77),e.qZA(),e.TgZ(6,"div")(7,"h2",78),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10,"General Medicine"),e.qZA()()(),e.TgZ(11,"div",79)(12,"div",80)(13,"div",81),e._uU(14,"Total Fee"),e.qZA(),e.TgZ(15,"div",82),e._uU(16),e.qZA()()()(),e._UZ(17,"hr",83),e.TgZ(18,"div",40)(19,"div",41)(20,"div",42)(21,"label",50),e._uU(22," Appointment Date "),e.qZA(),e._UZ(23,"input",84),e.YNc(24,me,2,0,"p",54),e.qZA()(),e.TgZ(25,"div",41)(26,"div",42)(27,"label",50),e._uU(28," Select place "),e.qZA(),e.TgZ(29,"select",85)(30,"option",52),e._uU(31," Select hospital/chamber "),e.qZA(),e.YNc(32,fe,2,2,"option",86),e.qZA(),e.YNc(33,ge,2,0,"p",54),e.qZA()(),e.TgZ(34,"div",41)(35,"div",42)(36,"label",50),e._uU(37," Select appointment type "),e.qZA(),e.TgZ(38,"select",87)(39,"option",52),e._uU(40," Select appointment type "),e.qZA(),e.YNc(41,he,2,2,"option",86),e.qZA(),e.YNc(42,be,2,0,"p",54),e.qZA()()()(),e.YNc(43,_e,5,0,"div",88),e.YNc(44,ve,3,1,"div",88),e.TgZ(45,"div",89)(46,"button",90),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.onStepChange(0))}),e._uU(47,"Back"),e.qZA(),e.TgZ(48,"button",91),e.NdJ("click",function(){e.CHM(o);const a=e.oxw(2);return e.KtG(a.onStepChange(3))}),e._uU(49),e.qZA()()()}if(2&n){const o=e.oxw(2);let i,a,x;e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.Oqu(null==o.doctorData?null:o.doctorData.doctorDetails.fullName),e.xp6(8),e.hij(" ",o.totalFee?o.totalFee:"00",".0 tk. "),e.xp6(8),e.Q6J("ngIf",o.formSubmitted&&(null==(i=o.form.get("appointmentDate"))?null:i.hasError("required"))),e.xp6(8),e.Q6J("ngForOf",o.hospitalList),e.xp6(1),e.Q6J("ngIf",o.formSubmitted&&"0"===(null==(a=o.form.get("doctorScheduleType"))?null:a.value)),e.xp6(8),e.Q6J("ngForOf",o.appointmentType),e.xp6(1),e.Q6J("ngIf",o.formSubmitted&&"0"===(null==(x=o.form.get("appointmentType"))?null:x.value)),e.xp6(1),e.Q6J("ngIf",(null==o.filterData?null:o.filterData.length)>0),e.xp6(1),e.Q6J("ngIf",(null==o.filterData?null:o.filterData.length)<=0&&""!==o.showEmptySlot),e.xp6(5),e.Oqu(o.isLoading?"Loading...":"Next")}}function xe(n,p){1&n&&e._uU(0," Data is loading... ")}function Se(n,p){if(1&n&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&n){const o=p.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Te(n,p){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"label",97),e._uU(2,"Select your patient"),e.qZA(),e.ynx(3),e.TgZ(4,"select",98),e.NdJ("input",function(a){e.CHM(o);const x=e.oxw(2);return e.KtG(x.getSinglePatientData(a))}),e.TgZ(5,"option",99),e._uU(6,"--Select Patient--"),e.qZA(),e.YNc(7,Se,2,2,"option",53),e.qZA(),e.BQk(),e.qZA()}if(2&n){const o=e.oxw(2);e.xp6(4),e.Q6J("value",o.value),e.xp6(3),e.Q6J("ngForOf",o.userPatientList)}}function Ie(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Please enter patient name. "),e.qZA())}function Ce(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Patient name should contain only letters and numbers at the end (optional). "),e.qZA())}function Ne(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Patient name should be at least 3 characters long "),e.qZA())}function Ze(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Please enter patient age. "),e.qZA())}function ke(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Age should be a number. "),e.qZA())}function Ae(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," You must enter a valid mobile number! "),e.qZA())}function De(n,p){1&n&&(e.TgZ(0,"p",101),e._uU(1," Mobile number should have exactly 11 digits and follow the Bangladeshi format! "),e.qZA())}function Pe(n,p){if(1&n&&(e.TgZ(0,"option",100),e._uU(1),e.qZA()),2&n){const o=p.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Fe(n,p){1&n&&(e.TgZ(0,"p",92),e._uU(1," Please select gender! "),e.qZA())}function Ue(n,p){1&n&&(e.TgZ(0,"p",92),e._uU(1," Please select blood group! "),e.qZA())}function we(n,p){1&n&&(e.TgZ(0,"div",102)(1,"span"),e._uU(2,"Continue"),e.qZA()())}function Ee(n,p){1&n&&e._UZ(0,"span",103)}function Be(n,p){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"h1",10),e._UZ(3,"i",11),e._uU(4),e.qZA(),e.TgZ(5,"button",12),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.closeDialogs())}),e._uU(6,"Close"),e.qZA()(),e.TgZ(7,"div",13)(8,"mat-stepper",14,15)(10,"mat-step",16)(11,"form",17)(12,"ul",18),e.YNc(13,ue,12,0,"li",19),e.TgZ(14,"li",20),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onStepChange(2))}),e._UZ(15,"input",21),e.TgZ(16,"label",22)(17,"div",23),e._UZ(18,"i",24),e.TgZ(19,"div")(20,"div",25),e._uU(21,"Book for Other"),e.qZA(),e.TgZ(22,"div",26),e._uU(23,"If you are not patient!"),e.qZA()()(),e.O4$(),e.TgZ(24,"svg",27),e._UZ(25,"path",28),e.qZA()()()()()(),e.kcU(),e.TgZ(26,"mat-step",29),e.YNc(27,ye,50,11,"div",30),e.YNc(28,xe,1,0,"ng-template",null,31,e.W1O),e.qZA(),e.TgZ(30,"mat-step",16)(31,"div",32)(32,"div",33)(33,"input",34),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.userExistCheck("exist-user"))}),e.qZA(),e.TgZ(34,"label",35),e._uU(35," Already Exist "),e.qZA()(),e.TgZ(36,"div",33)(37,"input",36),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.userExistCheck("new-user"))}),e.qZA(),e.TgZ(38,"label",37),e._uU(39," New Patient "),e.qZA()()(),e.TgZ(40,"div",38),e.YNc(41,Te,8,2,"div",1),e.TgZ(42,"div",38)(43,"form",39)(44,"div",40)(45,"div",41)(46,"div",42)(47,"label",43),e._uU(48," Full Name "),e.qZA(),e._UZ(49,"input",44),e.YNc(50,Ie,2,0,"p",45),e.YNc(51,Ce,2,0,"p",45),e.YNc(52,Ne,2,0,"p",45),e.qZA()(),e.TgZ(53,"div",41)(54,"div",42)(55,"label",46),e._uU(56," Age "),e.qZA(),e._UZ(57,"input",47),e.YNc(58,Ze,2,0,"p",45),e.YNc(59,ke,2,0,"p",45),e.qZA()(),e.TgZ(60,"div",41)(61,"div",42)(62,"label",48),e._uU(63," Patient Mobile No "),e.qZA(),e._UZ(64,"input",49),e.YNc(65,Ae,2,0,"p",45),e.YNc(66,De,2,0,"p",45),e.qZA()(),e.TgZ(67,"div",41)(68,"div",42)(69,"label",50),e._uU(70," Select gender "),e.qZA(),e.TgZ(71,"select",51)(72,"option",52),e._uU(73,"Select gender "),e.qZA(),e.YNc(74,Pe,2,2,"option",53),e.qZA(),e.YNc(75,Fe,2,0,"p",54),e.qZA()(),e.TgZ(76,"div",41)(77,"div",42)(78,"label",55),e._uU(79," Select blood group "),e.qZA(),e.TgZ(80,"select",56)(81,"option",52),e._uU(82,"Select blood group "),e.qZA(),e.TgZ(83,"option",57),e._uU(84,"A+ "),e.qZA(),e.TgZ(85,"option",58),e._uU(86,"A- "),e.qZA(),e.TgZ(87,"option",59),e._uU(88,"B+ "),e.qZA(),e.TgZ(89,"option",60),e._uU(90,"B- "),e.qZA(),e.TgZ(91,"option",61),e._uU(92,"o+ "),e.qZA(),e.TgZ(93,"option",62),e._uU(94,"o- "),e.qZA(),e.TgZ(95,"option",63),e._uU(96,"Ab+ "),e.qZA(),e.TgZ(97,"option",64),e._uU(98,"Ab- "),e.qZA(),e.TgZ(99,"option",65),e._uU(100,"others "),e.qZA()(),e.YNc(101,Ue,2,0,"p",54),e.qZA()()()()()(),e.TgZ(102,"div",66)(103,"button",67),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onStepChange(0))}),e._uU(104,"Back"),e.qZA(),e.TgZ(105,"button",68),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.createNewPatient())}),e.YNc(106,we,3,0,"div",69),e.YNc(107,Ee,1,0,"span",70),e.qZA()()(),e.TgZ(108,"mat-step",16)(109,"app-booking-review",71),e.NdJ("gotToBack",function(a){e.CHM(o);const x=e.oxw();return e.KtG(x.onStepChange(a))}),e.qZA()(),e.TgZ(110,"mat-step",16),e._UZ(111,"app-booking-payment"),e.qZA()()()()}if(2&n){const o=e.MAs(29),i=e.oxw();let a,x,y,g,_,m,b,I,Z;e.xp6(4),e.hij(" Booking ",i.stepHeading," "),e.xp6(4),e.Q6J("selectedIndex",i.activeTab),e.xp6(2),e.Q6J("stepControl",i.firstFormGroup),e.xp6(1),e.Q6J("formGroup",i.bookingForm),e.xp6(2),e.Q6J("ngIf","patient"==i.sessionRole),e.xp6(13),e.Q6J("stepControl",i.secondFormGroup)("ariaSelected",i.activeTab),e.xp6(1),e.Q6J("ngIf",!i.dataLoader)("ngIfElse",o),e.xp6(3),e.Q6J("stepControl",i.thirdFormGroup),e.xp6(11),e.Q6J("ngIf",i.isExistUser),e.xp6(2),e.Q6J("formGroup",i.createPatientForm),e.xp6(7),e.Q6J("ngIf",i.formSubmitted&&(null==(a=i.createPatientForm.get("patientName"))?null:a.touched)&&(null==(a=i.createPatientForm.get("patientName"))?null:a.hasError("required"))),e.xp6(1),e.Q6J("ngIf",i.formSubmitted&&(null==(x=i.createPatientForm.get("patientName"))?null:x.touched)&&(null==(x=i.createPatientForm.get("patientName"))?null:x.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",i.formSubmitted&&(null==(y=i.createPatientForm.get("patientName"))?null:y.touched)&&(null==(y=i.createPatientForm.get("patientName"))?null:y.hasError("invalidName"))),e.xp6(6),e.Q6J("ngIf",i.formSubmitted&&(null==(g=i.createPatientForm.get("age"))?null:g.touched)&&(null==(g=i.createPatientForm.get("age"))?null:g.hasError("required"))),e.xp6(1),e.Q6J("ngIf",i.formSubmitted&&(null==(_=i.createPatientForm.get("age"))?null:_.touched)&&(null==(_=i.createPatientForm.get("age"))?null:_.hasError("pattern"))),e.xp6(6),e.Q6J("ngIf",i.formSubmitted&&(null==(m=i.createPatientForm.get("patientMobileNo"))?null:m.touched)&&(null==(m=i.createPatientForm.get("patientMobileNo"))?null:m.hasError("required"))),e.xp6(1),e.Q6J("ngIf",i.formSubmitted&&(null==(b=i.createPatientForm.get("patientMobileNo"))?null:b.touched)&&(null==(b=i.createPatientForm.get("patientMobileNo"))?null:b.hasError("pattern"))),e.xp6(8),e.Q6J("ngForOf",i.genderList),e.xp6(1),e.Q6J("ngIf",i.formSubmitted&&(null==(I=i.createPatientForm.get("gender"))?null:I.touched)&&"0"===(null==(I=i.createPatientForm.get("gender"))?null:I.value)),e.xp6(26),e.Q6J("ngIf",i.formSubmitted&&(null==(Z=i.createPatientForm.get("bloodGroup"))?null:Z.touched)&&"0"===(null==(Z=i.createPatientForm.get("bloodGroup"))?null:Z.value)),e.xp6(5),e.Q6J("ngIf",0==i.btnLoader),e.xp6(1),e.Q6J("ngIf",1==i.btnLoader),e.xp6(1),e.Q6J("stepControl",i.fourFormGroup),e.xp6(1),e.Q6J("bookingInfo",i.bookingInfo),e.xp6(1),e.Q6J("stepControl",i.fiveFormGroup)}}let qe=(()=>{class n{constructor(o,i,a,x,y,g,_,m,b){this.fb=o,this.UserinfoStateService=i,this.PatientProfileService=a,this.FinancialSetupService=x,this.TosterService=y,this.DoctorScheduleStateService=g,this.NormalAuth=_,this.dialogRef=m,this.doctorData=b,this.isBookMyselfClick=!1,this.isBookOther=!1,this.isNewUser=!1,this.isExistUser=!0,this.btnLoader=!1,this.userPatientList=[],this.serviceFeeList=[],this.showAppointmentTypeSelectBox=!0,this.stepHeading="",this.hasValidCode=!1,this.createNewPatientInfo={},this.alreadyExistPatient={},this.subs=new q.Y,this.formSubmitted=!1,this.showEmptySlot="",this.filteredChamber=[],this.isLoading=!1,this.inputForCreatePatient=C.cv,this.firstFormGroup=this.fb.group({firstCtrl:["",t.kI.required]}),this.secondFormGroup=this.fb.group({secondCtrl:["",t.kI.required]})}ngOnInit(){this.sessionRole=this.NormalAuth.authInfo()?.userType,this.selectedSlotInfo="",this.dataLoader=!0,this.appointmentType=M.v.getEnumList(Y.Vn),this.genderList=M.v.getEnumList(Y.Y0),this.FinancialSetupService.getList().subscribe(m=>{this.serviceFeeList=m}),this.DoctorScheduleStateService.getSelectedSlot().pipe().subscribe(m=>{this.selectedSlotInfo=m});let o=this.doctorData.doctorScheduleInfo;o?(this.hospitalList=this.doctorData.doctorScheduleInfo.map(m=>({name:m.scheduleName,id:m.scheduleName})),this.dataLoader=!1):this.dataLoader=!1;let i=this.NormalAuth.authInfo()?.id;i&&("patient"==this.sessionRole?this.UserinfoStateService.getUserPatientInfo(i,"patient"):"agent"==this.sessionRole&&this.UserinfoStateService.getUserPatientInfo(i,"agent"),this.UserinfoStateService.getData().pipe((0,D.w)(m=>(this.profileInfo=m,this.loadForm(),m?this.UserinfoStateService.getUserPatientData().pipe((0,f.U)(b=>b.map(I=>({name:I.patientName,id:I.id})))):(0,S.of)([])))).subscribe(m=>{this.userPatientList=m}));const a=this.form.get("appointmentDate")?.valueChanges.pipe((0,d.O)(this.form.get("appointmentDate")?.value)),x=this.form.get("doctorScheduleType")?.valueChanges.pipe((0,d.O)(this.form.get("doctorScheduleType"))),y=this.form.get("consultancyType")?.valueChanges.pipe((0,d.O)(this.form.get("consultancyType")?.value)),g=this.form.get("appointmentType")?.valueChanges.pipe((0,d.O)(this.form.get("appointmentType")?.value));let _=0;a.pipe(T([x,y,g])).subscribe(m=>{let b=[],I=!1;const Z=(0,C.is)(String(m[0]));if(0==m[3])return this.showAppointmentTypeSelectBox=!0,this.filterData=b,void this.DoctorScheduleStateService.sendDoctorAvailableSlotData(b);if(m[0]&&m[1]){this.showAppointmentTypeSelectBox=!1,_=3;const F=new Map;o.forEach(O=>{this.filterDoctorId=O.doctorProfileId;const w=`${O.scheduleName}`;F.has(w)||F.set(w,[]),F.get(w).push(O)});const L=`${m[1]}`;F.has(L)&&F.get(L).forEach(w=>{const J=this.isDayAvailable(w.doctorScheduleDaySession,Z);if(J.length>0)return b=J.map(G=>{let k=this.getLeftSlotForBooking(w,m[0])[G.id];return{...G,leftPatient:k}}),void(I=!0);this.showEmptySlot="No slot is available! Please change appointment date or hospital/chamber."})}this.showAppointmentTypeSelectBox=!0,this.filterData=b,console.log(b),this.selectedSlotInfo={},this.DoctorScheduleStateService.sendDoctorAvailableSlotData(b)}),x.pipe(T(g)).subscribe(m=>{const b=o.filter(I=>I.scheduleName===m[0]);b?b.map(I=>{let Z=I.doctorFeesSetup.find(F=>F.appointmentType==m[1]?F.totalFee:"");this.totalFee=Z?.totalFee,this.selectedFeesInfo=Z}):console.log("Fee not found for the given schedule and appointment type.")})}getLeftSlotForBooking(o,i){const a={};o.appointments.forEach(y=>{const g=y.doctorScheduleDaySessionId,_=y.appointmentDate.split("T")[0];a[g]||(a[g]={}),a[g][_]?a[g][_]++:a[g][_]=1});const x={};return o.doctorScheduleDaySession.forEach(y=>{const g=y.id,_=i.split("T")[0];x[g]=y.noOfPatients-(a[g]&&a[g][_]||0)}),x}isDayAvailable(o,i){return o.filter(a=>a.scheduleDayofWeek===i)}loadForm(){this.bookingForm=this.fb.group({bookMyself:[""],bookOther:[""],patientName:[""],age:[""],mobile:[""]}),this.form=this.fb.group({consultancyType:[""],doctorScheduleType:["0",t.kI.required],appointmentDate:["",t.kI.required],appointmentType:["0",t.kI.required]}),this.createPatientForm=this.fb.group({isSelf:[!1,t.kI.required],patientName:["",[t.kI.required,t.kI.minLength(3),$.AG]],patientProfileId:[""],age:["",[t.kI.required,t.kI.pattern(/^[1-9][0-9]{0,2}$/)]],gender:["0",t.kI.required],bloodGroup:["0",t.kI.required],patientMobileNo:["",[t.kI.required,t.kI.pattern(/^(?:88)?[0-9]{11}$/),t.kI.minLength(11),t.kI.maxLength(11)]],patientEmail:[this.profileInfo?.email||"admin@gmail.com",t.kI.required],createdBy:[this.profileInfo.fullName,t.kI.required],creatorEntityId:[this.profileInfo.id,t.kI.required],creatorRole:["patient"==this.sessionRole?"patient":"agent",t.kI.required]})}onStepChange(o){if(o>=0&&o<3&&(this.activeTab=o),3===o&&this.form.valid){if(this.isLoading=!0,this.formSubmitted=!0,this.filterData.length<=0&&!this.selectedSlotInfo?.doctorScheduleId)return void this.TosterService.customToast("No slot found your selected options!","warning");const{doctorScheduleId:i,id:a,scheduleDayofWeek:x}=this.selectedSlotInfo,y=this.doctorData.doctorScheduleInfo.find(g=>g.id===i);if(y&&y.consultancyType){let g="",_="",m=0,b=0,I=0,Z=0;"agent"==this.sessionRole&&(1==y.consultancyType?(_=this.serviceFeeList.find(v=>4==v.platformFacilityId)?.externalAmountIn,b=this.serviceFeeList.find(v=>4==v.platformFacilityId&&v.externalAmountIn==_)?.externalAmount,"Percentage"==_?Z=this.selectedFeesInfo.totalFee*(b/100):"Flat"==_&&(Z=b)):2==y.consultancyType&&(_=this.serviceFeeList.find(v=>5==v.platformFacilityId)?.externalAmountIn,b=this.serviceFeeList.find(v=>5==v.platformFacilityId&&v.externalAmountIn==_)?.externalAmount,"Percentage"==_?Z=this.selectedFeesInfo.totalFee*(b/100):"Flat"==_&&(Z=b))),1==y.consultancyType?(g=this.serviceFeeList.find(v=>1==v.platformFacilityId)?.amountIn,m=this.serviceFeeList.find(v=>1==v.platformFacilityId&&v.amountIn==g)?.amount,"Percentage"==g?I=this.selectedFeesInfo.totalFee*(m/100):"Flat"==g&&(I=m)):2==y.consultancyType&&(g=this.serviceFeeList.find(v=>2==v.platformFacilityId)?.amountIn,m=this.serviceFeeList.find(v=>2==v.platformFacilityId&&v.amountIn==g)?.amount,"Percentage"==g?I=this.selectedFeesInfo.totalFee*(m/100):"Flat"==g&&(I=m)),this.formSubmitted=!0;const{consultancyType:F,doctorChamberId:L,doctorProfileId:O,scheduleType:w}=y,{appointmentType:J,appointmentDate:G}=this.form.value;let k="";this.UserinfoStateService.getData().subscribe(v=>k=v);const j={doctorScheduleId:i,doctorProfileId:O,doctorName:this.doctorData?.doctorDetails.fullName,doctorCode:this.doctorData?.doctorDetails.doctorCode,patientProfileId:this.alreadyExistPatient?.id?this.alreadyExistPatient?.id:this.createNewPatientInfo.id?this.createNewPatientInfo?.id:k?.id,patientName:this.alreadyExistPatient?.patientName?this.alreadyExistPatient?.patientName:this.createNewPatientInfo?.patientName?this.createNewPatientInfo?.patientName:k?.fullName,patientCode:this.alreadyExistPatient?.patientCode?this.alreadyExistPatient?.patientCode:this.createNewPatientInfo?.patientCode?this.createNewPatientInfo?.patientCode:k?.patientCode,patientMobileNo:this.alreadyExistPatient?.patientMobileNo?this.alreadyExistPatient?.patientMobileNo:this.createNewPatientInfo?.patientMobileNo?this.createNewPatientInfo?.patientMobileNo:k?.mobileNo,patientEmail:this.alreadyExistPatient?.patientEmail?this.alreadyExistPatient?.patientEmail:this.createNewPatientInfo?.patientEmail?this.createNewPatientInfo?.patientEmail:k.email||"admin@gmail.com",consultancyType:F,doctorChamberId:L,scheduleType:w,doctorScheduleDaySessionId:a,scheduleDayofWeek:x,appointmentType:J,appointmentDate:G,appointmentTime:"",doctorFeesSetupId:this.selectedFeesInfo.id,doctorFee:this.selectedFeesInfo.totalFee,agentFee:Z,platformFee:I,totalAppointmentFee:this.selectedFeesInfo.totalFee+I+Z,appointmentStatus:1,appointmentPaymentStatus:2,appointmentCreatorId:k?.id,appointmentCreatorRole:"patient"==this.sessionRole?"patient":"agent"};if(j&&k)return this.bookingInfo=j,this.formSubmitted=!0,"bookMyself"==this.bookingForm.get("bookMyself")?.value&&this.PatientProfileService.update({id:k?.id,patientName:k.fullName,patientCode:k.patientCode,patientEmail:k.email?k.email:"admin@gmail.com",patientMobileNo:k.mobileNo}).subscribe(Me=>{this.activeTab=o,this.isLoading=!1}),void("bookOther"==this.bookingForm.get("bookOther")?.value&&(this.activeTab=o,this.isLoading=!1))}else this.formSubmitted=!0,this.TosterService.customToast("Please select a slot","warning"),this.isLoading=!1}else{if(3!==o||this.form.valid)return;this.formSubmitted=!0,this.TosterService.customToast("Please select all the required fields","warning"),this.isLoading=!1}}userExistCheck(o){switch(this.createPatientForm.get("patientName")?.reset(),this.createPatientForm.get("age")?.reset(),this.createPatientForm.get("gender")?.reset(),this.createPatientForm.get("bloodGroup")?.reset(),this.createPatientForm.get("patientMobileNo")?.reset(),o){case"new-user":return this.isNewUser=!0,void(this.isExistUser=!1);case"exist-user":return this.isNewUser=!1,void(this.isExistUser=!0)}}createNewPatient(){if(this.formSubmitted=!0,this.createPatientForm.valid)if(this.isNewUser)try{this.btnLoader=!0,this.PatientProfileService.create(this.createPatientForm.value).subscribe(o=>{o.patientCode&&o.patientMobileNo&&this.PatientProfileService.getByPhoneAndCode(o.patientCode,o.patientMobileNo).subscribe(i=>{this.createNewPatientInfo=i}),this.btnLoader=!1,this.TosterService.customToast("Your patient is created!","success"),this.UserinfoStateService.getUserPatientInfo(this.profileInfo.id,"patient"),this.onStepChange(1)})}catch{this.TosterService.customToast("Something wrong! Please retry","error")}else this.onStepChange(1);else this.TosterService.customToast("Please field all the required fields","warning")}getSinglePatientData(o){o.target.value&&this.UserinfoStateService.getUserPatientData().subscribe(i=>i.find(a=>{a.id==o.target.value&&(this.alreadyExistPatient=a,this.createPatientForm.patchValue({patientProfileId:a.id,age:a.age,gender:a.gender,bloodGroup:a.bloodGroup,patientMobileNo:a.patientMobileNo,patientEmail:a.patientEmail,patientName:a.patientName,createdBy:a.createdBy,creatorEntityId:a.creatorEntityId,creatorRole:a.creatorRole}))}))}closeDialogs(){this.selectedSlotInfo="",this.dialogRef.close(!1)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(t.qu),e.Y36(H.Z),e.Y36(z.j),e.Y36(V.I),e.Y36(X.G),e.Y36(Q),e.Y36(te.e),e.Y36(B.so),e.Y36(B.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-booking-dialog"]],viewQuery:function(o,i){if(1&o&&(e.Gf(pe,5),e.Gf(de,5),e.Gf(U.a,5)),2&o){let a;e.iGM(a=e.CRH())&&(i.buttonMyself=a.first),e.iGM(a=e.CRH())&&(i.buttonOthers=a.first),e.iGM(a=e.CRH())&&(i.customInputs=a)}},decls:2,vars:2,consts:[["class","bg-white h-[300px] ",4,"ngIf"],[4,"ngIf"],[1,"bg-white","h-[300px]"],[1,"bg-primary","h-[100px]","w-full","flex","flex-col","justify-center","items-center"],["src","assets/logo.svg","alt","logo"],[1,"text-white","text-[24px]","font-roboto"],[1,"p-8","flex","justify-center","items-center","flex-col"],["routerLink","/login",1,"text-blue-500","font-bold",3,"click"],["routerLink","/signup",1,"text-blue-500","font-bold",3,"click"],[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"mr-1","text-[18px]","fa-solid","fa-calendar"],[1,"btn-secondary-light",3,"click"],[1,"w-full","px-12","pt-5","pb-10"],[1,"mx-auto",3,"selectedIndex"],["stepper",""],[3,"stepControl"],[3,"formGroup"],[1,"grid","grid-row-2","w-full","gap-6"],[3,"click",4,"ngIf"],[3,"click"],["type","radio","formControlName","bookOther","id","bookOther","value","bookOther",1,"hidden","peer"],["for","bookOther",1,"inline-flex","items-center","justify-between","w-full","p-5","text-gray-500","bg-white","border","border-gray-200","rounded-lg","cursor-pointer","dark:hover:text-gray-300","dark:border-gray-700","dark:peer-checked:text-blue-500","peer-checked:border-blue-600","peer-checked:text-blue-600","hover:text-gray-600","hover:bg-gray-100","dark:text-gray-400","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"flex","items-center","gap-3"],[1,"fa-solid","fa-people-robbery","text-[44px]"],[1,"w-full","text-lg","font-semibold"],[1,"w-full"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"w-5","h-5","ml-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"],[3,"stepControl","ariaSelected"],[4,"ngIf","ngIfElse"],["loader",""],[1,"flex","gap-4"],[1,"flex","items-center","px-4","border","border-gray-200","rounded","dark:border-gray-700"],["checked","","id","bordered-radio-2","type","radio","value","","name","bordered-radio",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","focus:ring-0","dark:bg-gray-700","dark:border-gray-600",3,"click"],["for","bordered-radio-2",1,"w-full","py-2","ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","bordered-radio-1","type","radio","value","","name","bordered-radio",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","focus:ring-0","dark:bg-gray-700","dark:border-gray-600",3,"click"],["for","bordered-radio-1",1,"w-full","py-2","ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"pt-5"],[1,"w-full",3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","patientName","type","text","name","patientName","id","patientName","placeholder","Full Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","text-red-600 text-sm",4,"ngIf"],["for","age",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","maxlength","3","minlength","1","formControlName","age","id","age","placeholder","Age",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","patientMobileNo",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","maxlength","11","minlength","11","formControlName","patientMobileNo","id","patientMobileNo","placeholder","Patient Mobile No",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","gender","name","gender","id","gender",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"font-semibold","text-gray-500"],[3,"value",4,"ngFor","ngForOf"],["class","text-[14px] text-red-600",4,"ngIf"],["for","bloodGroup",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","bloodGroup","name","bloodGroup","id","bloodGroup",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","A+",1,"font-semibold","text-gray-500"],["value","A-",1,"font-semibold","text-gray-500"],["value","B+",1,"font-semibold","text-gray-500"],["value","B-",1,"font-semibold","text-gray-500"],["value","o+",1,"font-semibold","text-gray-500"],["value","o-",1,"font-semibold","text-gray-500"],["value","Ab+",1,"font-semibold","text-gray-500"],["value","Ab-",1,"font-semibold","text-gray-500"],["value","others",1,"font-semibold","text-gray-500"],[1,"flex","gap-5"],[1,"btn-secondary","py-2","mt-6",3,"click"],[1,"btn-secondary","bg-primary","py-2","mt-6",3,"click"],["class","flex items-center gap-1 tetx-white",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[3,"bookingInfo","gotToBack"],["type","radio","formControlName","bookMyself","id","bookMyself","value","bookMyself","required","",1,"hidden","peer"],["for","bookMyself",1,"inline-flex","items-center","justify-between","w-full","p-5","text-gray-500","bg-white","border","border-gray-200","rounded-lg","cursor-pointer","dark:hover:text-gray-300","dark:border-gray-700","dark:peer-checked:text-blue-500","peer-checked:border-blue-600","peer-checked:text-blue-600","hover:text-gray-600","hover:bg-gray-100","dark:text-gray-400","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"fa-solid","fa-person","text-[44px]"],[1,"flex","justify-between"],[1,"rounded-full","w-[50px]","h-[50px]","overflow-hidden","border-secondary","border-2"],["src","assets/doctor/dr.jpeg","alt","",1,"w-full","h-full","object-cover"],[1,"heading","text-[20px]"],[1,"py-0","px-3"],[1,"leading-0"],[1,"stat-title"],[1,"stat-value","text-secondary","text[24px]"],[1,"h-px","my-8","bg-gray-200","border-0","dark:bg-gray-700"],["autocomplete","off","required","","formControlName","appointmentDate","type","date","name","appointmentDate","id","appointmentDate",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","doctorScheduleType","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["formControlName","appointmentType","name","appointmentType","id","appointmentType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","py-3",4,"ngIf"],[1,"flex","gap-5","mt-10","w-full"],[1,"btn-secondary","py-2","bg-primary/90",3,"click"],[1,"btn-secondary","py-2",3,"click"],[1,"text-[14px]","text-red-600"],[1,"font-semibold","text-gray-500",3,"value"],[1,"py-3"],[1,"font-Roboto","text-[16px]","font-semibold","text-primary/90"],[1,"mt-2"],["for","",1,"label"],[1,"form_input",3,"value","input"],["value",""],[3,"value"],[1,"text-red-600","text-sm"],[1,"flex","items-center","gap-1","tetx-white"],[1,"loading","loading-dots","loading-md"]],template:function(o,i){1&o&&(e.YNc(0,ce,17,0,"div",0),e.YNc(1,Be,112,27,"div",1)),2&o&&(e.Q6J("ngIf",!i.doctorData.isAuthUser),e.xp6(1),e.Q6J("ngIf",i.doctorData.isAuthUser))},dependencies:[R.sg,R.O5,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t._,t.JJ,t.JL,t.Q7,t.wO,t.nD,t.sg,t.u,oe.rH,W.C0,W.Vq,re,le.p,se],styles:[".mat-horizontal-stepper-header-container{display:none!important}  .mat-horizontal-content-container{padding:0!important}input[type=radio][_ngcontent-%COMP%]:checked + .radio-card[_ngcontent-%COMP%]{background:#006c93;color:#fff}"]}),n})()},470:(E,A,r)=>{r.d(A,{p:()=>N});var t=r(4650),C=r(1873),D=r(6516),f=r(2381),S=r(9466),d=r(8814),l=r(3472),s=r(6895);let N=(()=>{class u{constructor(h,c,T,B){this.ToasterService=h,this.AppointmentService=c,this.DoctorChamberService=T,this.sslCommerzService=B,this.gotToBack=new t.vpe,this.sslInputDto={applicantCode:"",examFee:100,serviceCharge:0,customAmount:10,isCustomAmount:!1},this.hasValidCode=!1,this.sslCInputDto={},this.loading=!1,this.appointmentType=C.v.getEnumList(D.Vn)}getTitle(h,c){if("appointmentType"==c)return this.appointmentType.find(T=>T.id==h)}createAppointmentAndPayment(){this.loading=!0,console.log(this.bookingInfo);try{this.AppointmentService.create(this.bookingInfo).subscribe({next:h=>{this.payWithSslCommerz(h.appointmentCode),localStorage.setItem("patientAppointmentCode",JSON.stringify(h.appointmentCode))},error:h=>{console.log(h),this.ToasterService.customToast(String(h.error.error.message),"error"),this.loading=!1}})}catch(h){console.log(h)}}payWithSslCommerz(h){if(this.bookingInfo){const c={};c.applicationCode=h,c.totalAmount=String(this.bookingInfo.totalAppointmentFee),c.transactionId="",this.sslCommerzService.initiatePayment(c).subscribe({next:T=>{T&&"SUCCESS"===T.status&&T.gatewayPageURL?(window.location.href=T.gatewayPageURL,this.loading=!1):this.ToasterService.customToast("Unable to initiate your payment request. Please contact our support team.","error")},error:T=>{this.ToasterService.customToast(String(T.error.error.message),"error"),this.loading=!1}})}else this.ToasterService.customToast("Booking info not found","error")}}return u.\u0275fac=function(h){return new(h||u)(t.Y36(f.G),t.Y36(S.H),t.Y36(d.z),t.Y36(l.r))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-booking-review"]],inputs:{bookingInfo:"bookingInfo"},outputs:{gotToBack:"gotToBack"},decls:60,vars:13,consts:[[1,"w-full","my-5","p-4","bg-white","border","border-gray-200","rounded-lg","shadow","sm:p-6","dark:bg-gray-800","dark:border-gray-700","m-auto"],[1,"text-base","font-semibold","text-gray-900","md:text-xl","dark:text-white"],[1,"text-sm","font-normal","text-gray-500","dark:text-gray-400"],[1,"relative","overflow-x-auto"],[1,"w-full","mt-6","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"py-2","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"py-2"],[1,"bg-white","dark:bg-gray-800"],[1,"flex","gap-5"],[1,"btn-secondary","bg-primary","mt-6","text-[15px]","tracking-[1px]","py-1","w-full",3,"click"],[1,"btn-secondary","mt-6","text-[16px]","tracking-[1px]","py-2","w-full",3,"click"]],template:function(h,c){if(1&h&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"General Medicine"),t.qZA(),t.TgZ(5,"div")(6,"div",3)(7,"table",4)(8,"tbody")(9,"tr",5)(10,"th",6),t._uU(11," Patient name: "),t.qZA(),t.TgZ(12,"td",7),t._uU(13),t.qZA()(),t.TgZ(14,"tr",5)(15,"th",6),t._uU(16," Appointment Day : "),t.qZA(),t.TgZ(17,"td",7),t._uU(18),t.qZA()(),t.TgZ(19,"tr",5)(20,"th",6),t._uU(21," Appointment Date : "),t.qZA(),t.TgZ(22,"td",7),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"tr",5)(26,"th",6),t._uU(27," Appointment Type : "),t.qZA(),t.TgZ(28,"td",7),t._uU(29),t.qZA()(),t.TgZ(30,"tr",5)(31,"th",6),t._uU(32," Hospital name : "),t.qZA(),t.TgZ(33,"td",7),t._uU(34),t.qZA()(),t.TgZ(35,"tr",8)(36,"th",6),t._uU(37," Doctor Fee : "),t.qZA(),t.TgZ(38,"td",7),t._uU(39),t.qZA()(),t.TgZ(40,"tr",8)(41,"th",6),t._uU(42," Booth Fee : "),t.qZA(),t.TgZ(43,"td",7),t._uU(44),t.qZA()(),t.TgZ(45,"tr",8)(46,"th",6),t._uU(47," Platform Fee : "),t.qZA(),t.TgZ(48,"td",7),t._uU(49),t.qZA()(),t.TgZ(50,"tr",8)(51,"th",6),t._uU(52," Total Fee : "),t.qZA(),t.TgZ(53,"td",7),t._uU(54),t.qZA()()()(),t.TgZ(55,"div",9)(56,"button",10),t.NdJ("click",function(){return c.gotToBack.emit(1)}),t._uU(57,"Back"),t.qZA(),t.TgZ(58,"button",11),t.NdJ("click",function(){return c.createAppointmentAndPayment()}),t._uU(59),t.qZA()()()()()),2&h){let T;t.xp6(2),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.doctorName," "),t.xp6(11),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.patientName," "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.scheduleDayofWeek," "),t.xp6(5),t.hij(" ",t.lcZ(24,11,null==c.bookingInfo?null:c.bookingInfo.appointmentDate)," "),t.xp6(6),t.hij(" ",null==(T=c.getTitle(null==c.bookingInfo?null:c.bookingInfo.appointmentType,"appointmentType"))?null:T.name," "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.doctorChamberId," "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.doctorFee," tk. "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.agentFee," tk. "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.platformFee," tk. "),t.xp6(5),t.hij(" ",null==c.bookingInfo?null:c.bookingInfo.totalAppointmentFee," tk. "),t.xp6(5),t.Oqu(c.loading?"Loading...":"Confirm & Pay")}},dependencies:[s.uU]}),u})()},4473:(E,A,r)=>{r.d(A,{a:()=>l});var t=r(4650),C=r(4006),D=r(6895);function f(s,N){if(1&s&&(t.TgZ(0,"option",8),t._uU(1),t.qZA()),2&s){const u=N.$implicit;t.Q6J("value",u.id),t.xp6(1),t.Oqu(u.name)}}function S(s,N){if(1&s){const u=t.EpF();t.ynx(0),t.TgZ(1,"select",5),t.NdJ("input",function(h){t.CHM(u);const c=t.oxw();return t.KtG(c.updateValue(h))}),t.TgZ(2,"option",6),t._uU(3,"--Select--"),t.qZA(),t.YNc(4,f,2,2,"option",7),t.qZA(),t.BQk()}if(2&s){const u=t.oxw();t.xp6(1),t.Q6J("disabled",u.disabled)("id",u.inputId)("value",u.value),t.xp6(3),t.Q6J("ngForOf",u.options)}}function d(s,N){if(1&s){const u=t.EpF();t.TgZ(0,"input",9),t.NdJ("input",function(h){t.CHM(u);const c=t.oxw();return t.KtG(c.updateValue(h))}),t.qZA()}if(2&s){const u=t.oxw();t.Q6J("id",u.inputId)("type",u.type)("placeholder",u.placeholder)("readonly",u.readonly)("value",u.value)}}let l=(()=>{class s{constructor(){this.isSelectInput=!1,this.readonly=!1,this.disabled=!1,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(u){this.value=u}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}updateValue(u){this.value=u.target?.value,this.onChange(u.target?.value),this.onTouched()}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-input"]],inputs:{label:"label",inputId:"inputId",defaultOption:"defaultOption",className:"className",options:"options",isSelectInput:"isSelectInput",readonly:"readonly",disabled:"disabled",type:"type",placeholder:"placeholder",formControlName:"formControlName",errorMessage:"errorMessage",formGroup:"formGroup",submit:"submit"},features:[t._Bn([{provide:C.JU,useExisting:(0,t.Gpc)(()=>s),multi:!0}])],decls:7,vars:4,consts:[[1,"w-full","px-3"],[1,"mb-5"],[1,"label",3,"for"],[4,"ngIf","ngIfElse"],["textInput",""],[1,"form_input",3,"disabled","id","value","input"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","",1,"form_input",3,"id","type","placeholder","readonly","value","input"]],template:function(u,P){if(1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3),t.qZA(),t.YNc(4,S,5,4,"ng-container",3),t.YNc(5,d,1,5,"ng-template",null,4,t.W1O),t.qZA()()),2&u){const h=t.MAs(6);t.xp6(2),t.Q6J("for",P.inputId),t.xp6(1),t.hij(" ",P.label," "),t.xp6(1),t.Q6J("ngIf",P.isSelectInput)("ngIfElse",h)}},dependencies:[D.sg,D.O5],styles:[".ng-dirty[_ngcontent-%COMP%]{border:1px solid red}"]}),s})()},2537:(E,A,r)=>{function D(S){const d=S.value;return d&&(!/^[-\w\s]+$/.test(d)||d.length<3)?{invalidName:!0}:null}r.d(A,{AG:()=>D,dN:()=>f});class f{static isAtLeast6Characters(d){const l=d.value;return l&&l.length<6?{isAtLeast6Characters:!0}:null}static includesSpecialCharacter(d){const l=d.value;return l&&!/.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\\-=/|]/.test(l)?{includesSpecialCharacter:!0}:null}static includesNumber(d){const l=d.value;return l&&!/.*[0-9]/.test(l)?{includesNumber:!0}:null}static matchValidator(d){const l=d.get("password")?.value,s=d.get("confirmPassword")?.value;if(!s?.length)return null;if(s.length<6)d.get("confirmPassword")?.setErrors({minLength:!0});else{if(l===s)return null;d.get("confirmPassword")?.setErrors({mismatch:!0})}}}},5649:(E,A,r)=>{r.d(A,{Ap:()=>s,JK:()=>N,cv:()=>T,is:()=>B,ry:()=>h});var t=r(6516),C=r(1873);C.v.getEnumList(t.Is);const f=C.v.getEnumList(t.Y0),S=C.v.getEnumList(t.UE),d=C.v.getEnumList(t.vs),s=(C.v.getEnumList(t.Vn),[{label:"Your Title",inputId:"doctorTitle",defaultOption:"Select Title",options:d,formControlName:"doctorTitle",isSelect:!0,type:"select"},{label:"Full Name",inputId:"fullName",formControlName:"fullName",isSelect:!1,type:"text"},{label:"Email",inputId:"email",formControlName:"email",isSelect:!1,readonly:!0,type:"email"},{label:"Gender",inputId:"gender",formControlName:"gender",options:f,isSelect:!0,type:"select"},{label:"Martial Status",inputId:"maritalStatus",formControlName:"maritalStatus",options:S,isSelect:!0,type:"select"},{label:"Date of Birth",inputId:"dateOfBirth",formControlName:"dateOfBirth",isSelect:!1,type:"date"},{label:"Identity Number",inputId:"identityNumber",formControlName:"identityNumber",isSelect:!1,type:"number"},{label:"BMDC Reg Number",inputId:"bmdcRegNo",formControlName:"bmdcRegNo",isSelect:!1,type:"number"},{label:"BMDC Exp. Date",inputId:"bmdcRegExpiryDate",formControlName:"bmdcRegExpiryDate",isSelect:!1,type:"date"},{label:"Address",inputId:"address",formControlName:"address",isSelect:!1,type:"text"},{label:"Country",inputId:"country",formControlName:"country",isSelect:!1},{label:"City",inputId:"city",formControlName:"city",isSelect:!1,type:"text"},{label:"Zip Code",inputId:"zipCode",formControlName:"zipCode",isSelect:!1,type:"number"},{label:"Specialties",inputId:"specialityId",formControlName:"specialityId",isSelect:!1,type:"select"}]),N=[{label:"Full Name",inputId:"fullName",formControlName:"fullName",isSelect:!1,type:"text"},{label:"Email",inputId:"email",formControlName:"email",isSelect:!1,readonly:!0,type:"email"},{label:"Date of Birth",inputId:"dateOfBirth",formControlName:"dateOfBirth",isSelect:!1,type:"date"},{label:"Address",inputId:"address",formControlName:"address",isSelect:!1,type:"text"},{label:"Country",inputId:"country",formControlName:"country",isSelect:!1},{label:"City",inputId:"city",formControlName:"city",isSelect:!1,type:"text"},{label:"Zip Code",inputId:"zipCode",formControlName:"zipCode",isSelect:!1,type:"number"}],h=[{label:"Agent Name",inputId:"fullName",formControlName:"fullName",isSelect:!1,type:"text"},{label:"Agent Id",inputId:"agentCode",formControlName:"agentCode",isSelect:!1,type:"text"},{label:"Mobile",inputId:"mobileNo",formControlName:"mobileNo",isSelect:!1,type:"tel"},{label:"Agent Organization",inputId:"organizationName",formControlName:"organizationName",isSelect:!1,type:"text"},{label:"Email",inputId:"email",formControlName:"email",isSelect:!1,readonly:!0,type:"email"},{label:"Address",inputId:"address",formControlName:"address",isSelect:!1,type:"text"}],T=[{label:"Patient Name",inputId:"patientName",defaultOption:"Write patient name",formControlName:"patientName",isSelect:!1,type:"text"},{label:"Age",inputId:"age",formControlName:"age",isSelect:!1,type:"text"},{label:"Patient Mobile No",inputId:"patientMobileNo",formControlName:"patientMobileNo",isSelect:!1,type:"tel"},{label:"Gender",inputId:"gender",formControlName:"gender",options:f,isSelect:!0,type:"select"},{label:"Blood Group",inputId:"bloodGroup",formControlName:"bloodGroup",isSelect:!1,type:"text"}],B=U=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(U).getDay()]}}]);