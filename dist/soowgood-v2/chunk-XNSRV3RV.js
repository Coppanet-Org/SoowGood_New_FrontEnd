import{a as Je}from"./chunk-JBYXCWIV.js";import{a as Ye}from"./chunk-52QPGV7H.js";import{a as We}from"./chunk-TF6FA6WV.js";import"./chunk-C5DKR6R2.js";import"./chunk-COTZLZB7.js";import{h as Ge,k as Ue}from"./chunk-BIUPZTC3.js";import{a as $e,b as Be,c as ze,d as Ze}from"./chunk-VMILKJKQ.js";import{a as ne,b as Re,c as Ve,g as qe}from"./chunk-J72HFQF2.js";import{a as q,b as G,c as U}from"./chunk-IFRORO75.js";import"./chunk-GW5CRMW3.js";import"./chunk-VDRRQV5J.js";import"./chunk-32I7GZXL.js";import{h as ie,j as he,l as oe,y as $}from"./chunk-MSMBLCDC.js";import{a as D}from"./chunk-Y6SRJCZB.js";import{A as Le,C as V,c as Q,e as g,h as j,i as P,k as Pe,n as H,o as fe,r as L,s as He,t as Me,u as R,v as X,w as ee,x as te,y as Oe,z as je}from"./chunk-MTAS266H.js";import{Ba as Ee,Ca as W,Ha as u,Ma as p,Na as we,Oa as Te,Qa as k,R as De,S as de,Sb as ce,Tb as _,Ub as A,Wa as l,X as b,Xa as t,Y as me,Ya as f,Za as Y,_a as J,_b as ke,aa as E,ab as T,ac as ue,ba as w,d as se,e as ge,eb as h,gb as x,jb as K,kb as pe,m as Ie,sb as a,tb as C,ub as S,vb as Ne,vc as Ae,ya as s,za as c}from"./chunk-BMLH63KZ.js";import{a as N,b as O}from"./chunk-5G567QLT.js";function at(n,o){n&1&&(l(0,"p",23),a(1," Hospital/Chamber name is required!"),t())}function st(n,o){n&1&&(l(0,"p",23),a(1,"Address is required!"),t())}function dt(n,o){n&1&&(l(0,"p",23),a(1," Address should only contain alphanumeric characters and spaces. "),t())}function mt(n,o){n&1&&(l(0,"p",23),a(1,"City name is required!"),t())}function pt(n,o){n&1&&(l(0,"p",23),a(1," city name should contain only letters (no numbers or special characters). "),t())}function ct(n,o){if(n&1&&(l(0,"option",24),a(1),t()),n&2){let d=o.$implicit;K("value",d),s(),S(" ",d,"")}}function ut(n,o){n&1&&(l(0,"p",23),a(1," Please select your country! "),t())}function ft(n,o){n&1&&(l(0,"p",23),a(1," Zip code should be a 4-digit number. "),t())}function ht(n,o){n&1&&(l(0,"p",23),a(1," Zip code should be a 4-digit number. "),t())}var be=(()=>{let o=class o{constructor(e,r,i,m,v,y){this.fb=e,this.dialogRef=r,this.DoctorChamberService=i,this.normalAuth=m,this.tosterService=v,this.editData=y,this.formSubmitted=!1,this.countryList=Je,this.isLoading=!1}ngOnInit(){let e=this.normalAuth.authInfo();e&&e.id&&(this.loadForm(e.id),this.doctorId=e.id),this.editData&&this.form.patchValue(this.editData)}loadForm(e){this.form=this.fb.group({doctorProfileId:[e,g.required],chamberName:["",g.required],city:["",[g.required,g.pattern(/^[A-Za-z]+$/)]],country:["Bangladesh",g.required],address:["",[g.required,g.pattern(/^[a-zA-Z0-9\s]+$/)]],zipCode:["",[g.required,g.pattern(/^\d{4}$/)]]})}submit(){if(this.formSubmitted=!0,!this.form.valid){this.tosterService.customToast("Please fill all the required fields!","warning");return}this.isLoading=!0,this.editData?this.DoctorChamberService.update(O(N({},this.form.value),{id:this.editData.id})).subscribe({next:e=>{this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0),this.isLoading=!1},error:()=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.isLoading=!1,this.dialogRef.close(!1)}}):this.DoctorChamberService.create(this.form.value).subscribe({next:e=>{this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0),this.isLoading=!1},error:()=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.isLoading=!1,this.dialogRef.close(!1)}})}};o.\u0275fac=function(r){return new(r||o)(c(V),c(q),c(ie),c(D),c($),c(G))},o.\u0275cmp=b({type:o,selectors:[["app-hospital-dialog"]],decls:45,vars:12,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-full"],[1,"mb-5"],["for","chamberName",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","chamberName","type","text","name","chamberName","id","chamberName","placeholder","Hospital Name","required","",1,"form_input"],["class","text-red-500 text-sm",4,"ngIf"],[1,"w-full","px-3","sm:w-1/2"],["for","address",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","Address","formControlName","address","type","text","name","address","id","address",1,"form_input"],["for","city",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","City","formControlName","city","type","text","name","city","id","city","placeholder","City",1,"form_input"],["for","country",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","country","id","country","placeholder","Enter Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["for","zipCode",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","placeholder","Zip Code","formControlName","zipCode","minlength","4","maxlength","5","type","text","name","zipCode","id","zipCode","placeholder","zipCode",1,"form_input"],[1,"btn-secondary",3,"click"],[1,"text-red-500","text-sm"],[1,"font-semibold","text-gray-500",3,"value"]],template:function(r,i){if(r&1&&(l(0,"div",0)(1,"h1",1),f(2,"i",2),a(3),t(),l(4,"button",3),h("click",function(){return i.dialogRef.close(!0)}),a(5,"Close"),t()(),l(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),a(12," Hospital/Chamber Name "),t(),f(13,"input",10),u(14,at,2,0,"p",11),t()(),l(15,"div",12)(16,"div",8)(17,"label",13),a(18," Address "),t(),f(19,"input",14),u(20,st,2,0,"p",11)(21,dt,2,0,"p",11),t()(),l(22,"div",12)(23,"div",8)(24,"label",15),a(25," City "),t(),f(26,"input",16),u(27,mt,2,0,"p",11)(28,pt,2,0,"p",11),t()(),l(29,"div",12)(30,"div",8)(31,"label",17),a(32," Country "),t(),l(33,"select",18),u(34,ct,2,2,"option",19),t(),u(35,ut,2,0,"p",11),t()(),l(36,"div",12)(37,"div",8)(38,"label",20),a(39," Zip Code "),t(),f(40,"input",21),u(41,ft,2,0,"p",11)(42,ht,2,0,"p",11),t()()(),l(43,"button",22),h("click",function(){return i.submit()}),a(44),t()()()),r&2){let m,v,y,I,B,_e,Ce,Fe;s(3),S(" ",i.editData?"Update":"Add"," Hospital/Chamber "),s(4),p("formGroup",i.form),s(7),p("ngIf",i.formSubmitted&&((m=i.form.get("chamberName"))==null?null:m.hasError("required"))),s(6),p("ngIf",i.formSubmitted&&((v=i.form.get("address"))==null?null:v.invalid)),s(),p("ngIf",i.formSubmitted&&((y=i.form.get("address"))==null?null:y.hasError("required"))),s(6),p("ngIf",i.formSubmitted&&((I=i.form.get("city"))==null?null:I.invalid)),s(),p("ngIf",i.formSubmitted&&((B=i.form.get("city"))==null?null:B.hasError("required"))),s(6),p("ngForOf",i.countryList),s(),p("ngIf",i.formSubmitted&&((_e=i.form.get("country"))==null?null:_e.hasError("required"))),s(6),p("ngIf",i.formSubmitted&&((Ce=i.form.get("zipCode"))==null?null:Ce.hasError("required"))),s(),p("ngIf",i.formSubmitted&&((Fe=i.form.get("zipCode"))==null?null:Fe.hasError("required"))),s(2),S(" ",i.isLoading?"Loading...":"Submit","")}},dependencies:[_,A,H,ee,te,Q,X,j,P,Oe,je,Le,L,R]});let n=o;return n})();var M=(()=>{let o=class o{constructor(){this.sharedDataSubject=new se,this.individualScheduleInfo=new se,this.individualScheduleInfoForEdit=new se,this.hospitalScheduleFormEvent=new ge(!1),this.doctorScheduleList=new ge([])}sendData(e){this.sharedDataSubject.next(e)}getData(){return this.sharedDataSubject.asObservable()}setHospitalScheduleFormEvent(e){this.hospitalScheduleFormEvent.next(e)}getHospitalScheduleFormEvent(){return this.hospitalScheduleFormEvent.asObservable()}setIndividualScheduleInfo(e){this.individualScheduleInfo.next(e)}getIndividualScheduleInfo(){return this.individualScheduleInfo.asObservable()}getIndividualScheduleInfoForEdit(){return this.individualScheduleInfoForEdit.asObservable()}setIndividualScheduleInfoForEdit(e){this.individualScheduleInfoForEdit.next(e)}getDoctorScheduleList(){return this.doctorScheduleList.asObservable()}setDoctorScheduleList(e){this.doctorScheduleList.next(e)}};o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function St(n,o){n&1&&f(0,"i",6)}function gt(n,o){n&1&&f(0,"i",7)}var re=(()=>{let o=class o{constructor(e){this.HospitalStateService=e,this.openForm=new W,this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(r=>this.buttonStatus=r)}};o.\u0275fac=function(r){return new(r||o)(c(M))},o.\u0275cmp=b({type:o,selectors:[["app-section-header"]],inputs:{headingText:"headingText",buttonText:"buttonText",iconClass:"iconClass"},outputs:{openForm:"openForm"},decls:8,vars:6,consts:[[1,"py-2","pl-5","mt-7","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"text-primary","mr-1","text-[18px]"],[1,"btn-secondary-light",3,"click"],["class","fa-solid fa-arrow-down mr-1 rotate-50",4,"ngIf"],["class","fa-solid fa-arrow-up mr-1 rotate-50",4,"ngIf"],[1,"fa-solid","fa-arrow-down","mr-1","rotate-50"],[1,"fa-solid","fa-arrow-up","mr-1","rotate-50"]],template:function(r,i){r&1&&(l(0,"div",0)(1,"h1",1),f(2,"i",2),a(3),t(),l(4,"button",3),h("click",function(){return i.openForm.emit()}),u(5,St,1,0,"i",4)(6,gt,1,0,"i",5),a(7),t()()),r&2&&(s(2),k(i.iconClass),s(),S(" ",i.headingText," "),s(2),p("ngIf",!i.buttonStatus),s(),p("ngIf",i.buttonStatus),s(),S(" ",i.buttonText," "))},dependencies:[A]});let n=o;return n})();function vt(n,o){if(n&1){let d=T();l(0,"tr")(1,"td",11),a(2),t(),l(3,"td",11),a(4),t(),l(5,"td",11),a(6),t(),l(7,"td",11),a(8),t(),l(9,"td",11)(10,"a",12),h("click",function(){let i=E(d).$implicit,m=x();return w(m.onPlaceEdit(i))}),a(11,"Edit"),t()()()}if(n&2){let d=o.$implicit,e=o.index;s(2),C(e+1),s(2),C(d.chamberName),s(2),C(d.city),s(2),C(d.address)}}var Ke=(()=>{let o=class o{constructor(e,r,i,m){this.dialog=e,this.normalAuth=r,this.doctorChamberService=i,this.HospitalStateService=m,this.chamberList=[]}ngOnInit(){let e=this.normalAuth.authInfo().id;e&&(this.doctorId=e,this.getChamberList(e))}getChamberList(e){this.doctorChamberService.getDoctorChamberListByDoctorId(e).subscribe(r=>{this.chamberList=r,this.HospitalStateService.sendData(r)})}onPlaceEdit(e){console.log(e),this.dialog.open(be,{width:"40vw",data:e}).afterClosed().subscribe(i=>{i&&this.getChamberList(this.doctorId)})}openDialog(){this.dialog.open(be,{width:"40vw"}).afterClosed().subscribe(r=>{r&&this.getChamberList(this.doctorId)})}};o.\u0275fac=function(r){return new(r||o)(c(U),c(D),c(ie),c(M))},o.\u0275cmp=b({type:o,selectors:[["app-hospital-info"]],decls:20,vars:4,consts:[[3,"headingText","iconClass","buttonText","openForm"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden","dark:border-gray-700","dark:shadow-gray-900"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-700"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[1,"td"],[1,"text-blue-500","hover:text-blue-700",3,"click"]],template:function(r,i){r&1&&(l(0,"app-section-header",0),h("openForm",function(){return i.openDialog()}),t(),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),a(9,"Id"),t(),l(10,"th",7),a(11,"Hospital Name"),t(),l(12,"th",7),a(13,"City"),t(),l(14,"th",7),a(15,"Address"),t(),l(16,"th",8),a(17,"Action"),t()()(),l(18,"tbody",9),u(19,vt,12,4,"tr",10),t()()()()()()),r&2&&(p("headingText","Your Hospital/Chamber")("iconClass","fa-solid fa-hospital")("buttonText","Add New"),s(19),p("ngForOf",i.chamberList))},dependencies:[_,re]});let n=o;return n})();var Qe=(()=>{let o=class o{constructor(){this.closeDialog=new W}closeDialogs(){this.closeDialog.emit()}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=b({type:o,selectors:[["app-dialog-header"]],inputs:{headingText:"headingText",buttonText:"buttonText",iconClass:"iconClass"},outputs:{closeDialog:"closeDialog"},decls:6,vars:3,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"mr-1","text-[18px]"],[1,"btn-secondary-light",3,"click"]],template:function(r,i){r&1&&(l(0,"div",0)(1,"h1",1),f(2,"i",2),a(3),t(),l(4,"button",3),h("click",function(){return i.closeDialogs()}),a(5,"Close"),t()()),r&2&&(s(2),k(i.iconClass),s(),S(" ",i.headingText.title?i.headingText.title:i.headingText," "))}});let n=o;return n})();function yt(n,o){n&1&&(l(0,"p",20),a(1," Start time is required! "),t())}function _t(n,o){n&1&&(l(0,"p",20),a(1," End time is required! "),t())}function Ct(n,o){n&1&&(l(0,"p",20),a(1," Number of patients is required! "),t())}function Ft(n,o){if(n&1){let d=T();l(0,"div",8),Y(1,9),l(2,"div",10)(3,"div",11)(4,"label",12),a(5," Start time "),t(),f(6,"input",13),u(7,yt,2,0,"p",14),t()(),l(8,"div",10)(9,"div",11)(10,"label",12),a(11," End time "),t(),f(12,"input",15),u(13,_t,2,0,"p",14),t()(),l(14,"div",10)(15,"div",11)(16,"label",12),a(17," Number of patients "),t(),f(18,"input",16),u(19,Ct,2,0,"p",14),t()(),l(20,"div",17)(21,"button",18),h("click",function(){let i=E(d).index,m=x();return w(m.removeAppointmentRow(i))}),f(22,"i",19),t()(),J(),t()}if(n&2){let d=o.index,e=x(),r,i,m;s(),p("formGroupName",d),s(),p("ngClass",d==0?"sm:w-[33%]":"sm:w-[28%]"),s(2),pe("for","startTime",d,""),s(2),p("id","startTime"+d),s(),p("ngIf",e.formSubmitted&&((r=e.form.get("appointments."+d+".startTime"))==null?null:r.hasError("required"))),s(),p("ngClass",d==0?"sm:w-[33%]":"sm:w-[28%]"),s(2),pe("for","endTime",d,""),s(2),p("id","endTime"+d),s(),p("ngIf",e.formSubmitted&&((i=e.form.get("appointments."+d+".endTime"))==null?null:i.hasError("required"))),s(),p("ngClass",d==0?"sm:w-[33%]":"sm:w-[28%]"),s(2),pe("for","numberOfPatients",d,""),s(2),p("id","noOfPatients"+d),s(),p("ngIf",e.formSubmitted&&((m=e.form.get("appointments."+d+".noOfPatients"))==null?null:m.value)=="0"),s(),p("ngClass",d>0?"sm:w-[10%]":"hidden ")}}var Xe=(()=>{let o=class o{constructor(e,r,i,m){this.fb=e,this.dialogRef=r,this.TosterService=i,this.editData=m,this.sId=0,this.formSubmitted=!1}ngOnInit(){this.form=this.fb.group({appointments:this.fb.array([this.createAppointmentGroup()])})}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}get days(){return this.form.get("appointments")}addAppointmentRow(){this.days.push(this.createAppointmentGroup())}createAppointmentGroup(){return this.sId=this.sId+1,this.fb.group({scheduleDayofWeek:[this.editData?.selectedDay,g.required],startTime:["",g.required],endTime:["",g.required],noOfPatients:["0",g.required],id:[this.uuidv4()]})}removeAppointmentRow(e){this.days.removeAt(e)}submit(){if(this.formSubmitted=!0,!this.form.valid){this.TosterService.customToast("Please field all required field","warning");return}this.TosterService.customToast("Session added","success"),this.dialogRef.close(N({},this.form.value))}};o.\u0275fac=function(r){return new(r||o)(c(V),c(q),c($),c(G))},o.\u0275cmp=b({type:o,selectors:[["app-schedule-dialog"]],decls:10,vars:4,consts:[[3,"headingText","iconClass","closeDialog"],[1,"px-10","py-6"],[1,"flex",3,"formGroup"],["formArrayName","appointments",1,"form-row"],["class","-mx-3 flex flex-wrap form-row-item",4,"ngFor","ngForOf"],[1,"flex","w-full","mt-5"],["type","button",1,"btn-secondary","mr-4",3,"click"],["type","button",1,"btn-secondary-light","p-4","border","border-secondary-dark",3,"click"],[1,"-mx-3","flex","flex-wrap","form-row-item"],[3,"formGroupName"],[1,"w-full","px-3",3,"ngClass"],[1,"mb-5"],[1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]",3,"for"],["formControlName","startTime","type","time",1,"form_input",3,"id"],["class","text-red-600 text-sm",4,"ngIf"],["formControlName","endTime","type","time",1,"form_input",3,"id"],["formControlName","noOfPatients","type","number",1,"form_input",3,"id"],[1,"flex","items-center",3,"ngClass"],["type","button",1,"btn-secondary",3,"click"],[1,"fa-solid","fa-xmark"],[1,"text-red-600","text-sm"]],template:function(r,i){r&1&&(l(0,"app-dialog-header",0),h("closeDialog",function(){return i.dialogRef.close(!0)}),t(),l(1,"div",1)(2,"form",2)(3,"div",3),u(4,Ft,23,14,"div",4),t()(),l(5,"div",5)(6,"button",6),h("click",function(){return i.submit()}),a(7,"Save Session"),t(),l(8,"button",7),h("click",function(){return i.addAppointmentRow()}),a(9," Add more"),t()()()),r&2&&(p("headingText",i.editData)("iconClass","fa-solid fa-business-time"),s(2),p("formGroup",i.form),s(2),p("ngForOf",i.days.controls))},dependencies:[ce,_,A,H,Q,fe,j,P,L,R,He,Me,Qe]});let n=o;return n})();function Et(n,o){if(n&1&&(l(0,"option",23),a(1),t()),n&2){let d=o.$implicit;K("value",d.id),s(),S(" ",d.name,"")}}function wt(n,o){n&1&&(l(0,"p",24),a(1," Please select consultancy type! "),t())}function Tt(n,o){if(n&1&&(l(0,"option",23),a(1),t()),n&2){let d=o.$implicit;K("value",d.id),s(),S(" ",d.name,"")}}function Nt(n,o){n&1&&(l(0,"p",24),a(1," Please select hospital/chamber! "),t())}function kt(n,o){if(n&1&&(l(0,"option",23),a(1),t()),n&2){let d=o.$implicit;K("value",d.id),s(),S(" ",d.name,"")}}function At(n,o){n&1&&(l(0,"p",24),a(1," Please select schedule type! "),t())}function Pt(n,o){if(n&1){let d=T();l(0,"div",28)(1,"div",29),a(2),l(3,"i",30),h("click",function(){let i=E(d).$implicit,m=x(2);return w(m.onSessionRemove(i.id))}),t()()()}if(n&2){let d=o.$implicit;s(2),Ne(" ",d.startTime," - ",d.endTime," ")}}function Ht(n,o){if(n&1){let d=T();l(0,"div",25)(1,"th",26),h("click",function(){let i=E(d).$implicit,m=x();return w(m.toggleDaySelection(i))}),a(2),t(),u(3,Pt,4,2,"div",27),t()}if(n&2){let d=o.$implicit,e=x();s(),we("box-shadow",e.getDaySessions(d).length>0?"none":"")("background-color",e.getDaySessions(d).length>0?"#eefaff":"white")("color",e.getDaySessions(d).length>0?"#006c93":""),Te("active",e.getDaySessions(d).length>0),s(),S(" ",d," "),s(),p("ngForOf",e.getDaySessions(d))}}function Mt(n,o){n&1&&(l(0,"p",31),a(1,"Please select at least one slot"),t())}var et=(()=>{let o=class o{constructor(e,r,i,m,v,y,I,B){this.fb=e,this.DoctorChamberService=r,this.DoctorScheduleService=i,this.HospitalStateService=m,this.normalAuth=v,this.TosterService=y,this.dialog=I,this.cdr=B,this.rerenderDoctorSchedule=new W,this.hospitalOptions=[],this.DoctorScheduleDt=[],this.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.selectedDays=[],this.consultancyType=[],this.scheduleType=[],this.allSelectedSession=[],this.isDisable=!1,this.isRequired=!1,this.inputConfigs=[],this.formSubmitted=!1,this.slotError=!1}ngOnInit(){this.consultancyType=ne.getEnumList(Ve),this.scheduleType=ne.getEnumList(qe),this.loadForm();let e=this.normalAuth.authInfo();e&&e.id&&(this.doctorId=e.id,this.HospitalStateService.getData().pipe(Ie(r=>r.map(i=>({name:i.chamberName,id:i.id})))).subscribe(r=>{this.hospitalList=r})),this.HospitalStateService.getIndividualScheduleInfo().subscribe(r=>{this.form.patchValue(r),this.allSelectedSession=r.doctorScheduleDaySession}),this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(r=>{this.form.reset(),this.allSelectedSession=[]}),this.HospitalStateService.getIndividualScheduleInfoForEdit().subscribe(r=>{r.edit&&r.id?(this.editData=!0,this.editScheduleId=r.id):(this.editData=!1,this.editScheduleId=0)}),this.form.get("consultancyType")?.valueChanges.subscribe(r=>{r==2||r==3||r==4?(this.isDisable=!0,this.form.get("doctorChamberId")?.setValue("0")):this.isDisable=!1})}loadForm(){this.form=this.fb.group({scheduleType:[0,g.required],consultancyType:[0,g.required],doctorChamberId:[0,g.required],isSlotSelected:[""]})}toggleDaySelection(e){this.openDialog(e)}submit(){let e=Number(this.form.value.consultancyType),r=Number(this.form.value.doctorChamberId);this.formSubmitted=!0;let i=Number(this.form.value.scheduleType);if((e===2||e===3||e===4)&&!i){this.TosterService.customToast("Please select a schedule type","warning");return}if(e===1&&!r){this.TosterService.customToast("Please select a doctor chamber","warning");return}if(this.allSelectedSession.length<=0){this.TosterService.customToast("Please add your session","warning");return}let m={doctorProfileId:this.doctorId,scheduleType:i,consultancyType:e,doctorChamberId:r,isActive:!0,offDayFrom:"2023-08-13T08:27:02.691Z",offDayTo:"2023-08-13T08:27:02.691Z",doctorScheduleDaySession:this.allSelectedSession.map(v=>({id:typeof v.id=="string"||v.id instanceof String?0:v.id,scheduleDayofWeek:v.scheduleDayofWeek,startTime:v.startTime,endTime:v.endTime,noOfPatients:v.noOfPatients,isActive:!0})),doctorFeesSetup:[]};this.editScheduleId?this.scheduleUpdate(O(N({},m),{id:this.editScheduleId})):this.scheduleCreate(m)}scheduleCreate(e){this.DoctorScheduleService.create(e).subscribe(r=>{this.handleResponse(r)})}scheduleUpdate(e){this.DoctorScheduleService.update(e).subscribe(r=>{this.handleResponse(r)})}handleResponse(e){e.success===!0?(this.TosterService.customToast(String(e.message),"success"),this.allSelectedSession=[],this.form.reset(),this.HospitalStateService.setHospitalScheduleFormEvent(!1),this.rerenderDoctorSchedule.emit(!0)):e.success===!1?this.TosterService.customToast(String(e.message),"error"):this.TosterService.customToast(String(e.message),"warning")}getDaySessions(e){return this.allSelectedSession.filter(r=>r.scheduleDayofWeek===e)}openDialog(e){this.dialog.open(Xe,{data:{selectedDay:e,title:"Select Your Session Time"}}).afterClosed().subscribe(i=>{this.form.get("isSlotSelected")?.setValue(!0),i?.appointments.map(m=>this.allSelectedSession=[...this.allSelectedSession,m])})}onSessionRemove(e){this.DoctorScheduleService.deleteSession(e).subscribe(r=>{this.allSelectedSession=this.allSelectedSession.filter(i=>i.id!==e)},r=>{this.allSelectedSession=this.allSelectedSession.filter(i=>i.id!==e)})}};o.\u0275fac=function(r){return new(r||o)(c(V),c(ie),c(oe),c(M),c(D),c($),c(U),c(Ee))},o.\u0275cmp=b({type:o,selectors:[["app-schedule-form"]],inputs:{openFormComponent:"openFormComponent"},outputs:{rerenderDoctorSchedule:"rerenderDoctorSchedule"},decls:41,vars:13,consts:[[1,"px-10","py-6","border-[1px]","rounded-md","mt-3","transition-all","ease-in-out","duration-1000"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/3"],[1,"mb-5"],["for","consultancyType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","consultancyType","id","consultancyType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm",4,"ngIf"],[1,"w-full","px-3","sm:w-1/3",3,"ngClass"],["for","doctorChamberId",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","doctorChamberId","id","doctorChamberId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"py-1","text-gray-500"],["for","scheduleType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","scheduleType","id","scheduleType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"w-full","px-3","sm:w-full"],["for","appointmentType",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"flex","flex-wrap","gap-x-2"],["class","flex flex-1 flex-col",4,"ngFor","ngForOf"],["class","text-red-600 font-sm mb-6 ml-4",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"font-semibold","text-gray-500",3,"value"],[1,"text-red-500","text-sm"],[1,"flex","flex-1","flex-col"],[1,"btn-secondary","text-secondary-dark","border-gray-300","cursor-pointer",3,"click"],["class","mt-2  min-w-[105px]",4,"ngFor","ngForOf"],[1,"mt-2","min-w-[105px]"],[1,"bg-primary-light","w-full","flex","gap-3","justify-center","items-center","rounded-[5px]","text-[14px]","font-Roboto","font-medium","text-center","text-primary","py-2","px-2"],[1,"fa-solid","fa-xmark","cursor-pointer",3,"click"],[1,"text-red-600","font-sm","mb-6","ml-4"]],template:function(r,i){if(r&1&&(l(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),a(6," Consultancy Type "),t(),l(7,"select",6)(8,"option",7),a(9,"--Select--"),t(),u(10,Et,2,2,"option",8),t(),u(11,wt,2,0,"p",9),t()(),l(12,"div",10)(13,"div",4)(14,"label",11),a(15," Hospital/Chamber "),t(),l(16,"select",12)(17,"option",13),a(18,"--Select--"),t(),u(19,Tt,2,2,"option",8),t(),u(20,Nt,2,0,"p",9),t()(),l(21,"div",3)(22,"div",4)(23,"label",14),a(24," Schedule Type "),t(),l(25,"select",15)(26,"option",13),a(27,"--Select--"),t(),u(28,kt,2,2,"option",8),t(),u(29,At,2,0,"p",9),t()(),l(30,"div",16)(31,"div",4)(32,"label",17),a(33," Select your days "),t(),l(34,"table",18)(35,"thead")(36,"tr",19),u(37,Ht,4,10,"div",20),t()(),u(38,Mt,2,0,"p",21),t()()()()(),l(39,"button",22),h("click",function(){return i.submit()}),a(40),t()()),r&2){let m,v,y,I;k(i.openFormComponent?"block ":" hidden "),s(),p("formGroup",i.form),s(9),p("ngForOf",i.consultancyType),s(),p("ngIf",i.formSubmitted&&((m=i.form.get("consultancyType"))==null?null:m.hasError("required"))&&((m=i.form.get("doctorChamberId"))==null?null:m.value)!=0),s(),p("ngClass",i.isDisable?"hidden":"block"),s(7),p("ngForOf",i.hospitalList),s(),p("ngIf",i.formSubmitted&&((v=i.form.get("doctorChamberId"))==null?null:v.hasError("required"))&&((v=i.form.get("doctorChamberId"))==null?null:v.value)!=0),s(8),p("ngForOf",i.scheduleType),s(),p("ngIf",i.formSubmitted&&((y=i.form.get("scheduleType"))==null?null:y.hasError("required"))&&((y=i.form.get("doctorChamberId"))==null?null:y.value)!=0),s(8),p("ngForOf",i.days),s(),p("ngIf",i.formSubmitted&&((I=i.form.get("isSlotSelected"))==null?null:I.hasError("required"))),s(2),S(" ",i.editData==!0?"Update":"Submit","")}},dependencies:[ce,_,A,H,ee,te,X,j,P,L,R]});let n=o;return n})();function jt(n,o){if(n&1){let d=T();l(0,"tr")(1,"td",12),a(2),t(),l(3,"td",12),a(4),t(),l(5,"td",12),a(6),t(),l(7,"td",12),a(8),t(),l(9,"td",12)(10,"span"),a(11),t()(),l(12,"td",12),a(13),t(),l(14,"td",12)(15,"a",13),h("click",function(){let i=E(d).$implicit,m=x();return w(m.onViewDetails(i))}),a(16,"View Details"),t()()()}if(n&2){let d=o.$implicit,e=o.index,r=x();k(d.id==r.clickView?"bg-secondary-light":""),s(2),C(e+1),s(2),C(d.chamber),s(2),C(d.scheduleTypeName),s(2),C(d.consultancyTypeName),s(2),k(d.status=="Open"?"bg-green-100 text-green-800 py-1 rounded-md px-4":"bg-red-50 text-red-800 p-2"),s(),S(" ",d.status," "),s(2),C(d.remarks),s(2),k(d.id==r.clickView?"text-white bg-primary rounded-sm":"text-primary bg-secondary-light rounded-sm")}}var tt=(()=>{let o=class o{constructor(e,r,i,m){this.dialog=e,this.DoctorScheduleService=r,this.NormalAuth=i,this.HospitalStateService=m,this.scheduleList=[]}ngOnInit(){let e=this.NormalAuth.authInfo();e&&e.id&&(this.doctorId=e.id,this.getScheduleList(e.id)),this.getScheduleFormEventStatus()}getScheduleList(e){this.DoctorScheduleService.getListByDoctorIdList(e).subscribe(r=>{if(r){this.scheduleList=r;let i=r.map(m=>({name:m.scheduleTypeName,id:m.id}));this.HospitalStateService.setDoctorScheduleList(i)}})}getScheduleFormEventStatus(){this.HospitalStateService.getHospitalScheduleFormEvent().subscribe(e=>this.openFormComponent=e),this.HospitalStateService.getIndividualScheduleInfoForEdit().subscribe(e=>this.editFormComponent=e.edit)}openForm(){if(this.editFormComponent){this.HospitalStateService.setHospitalScheduleFormEvent(!0),this.HospitalStateService.setIndividualScheduleInfoForEdit({edit:!1});return}this.HospitalStateService.setHospitalScheduleFormEvent(!this.openFormComponent)}onViewDetails(e){this.clickView=e.id,this.HospitalStateService.setHospitalScheduleFormEvent(!0),this.HospitalStateService.setIndividualScheduleInfoForEdit({edit:!0,id:e.id}),this.DoctorScheduleService.get(e.id).subscribe(r=>this.HospitalStateService.setIndividualScheduleInfo(r))}};o.\u0275fac=function(r){return new(r||o)(c(U),c(oe),c(D),c(M))},o.\u0275cmp=b({type:o,selectors:[["app-schedule-info"]],decls:25,vars:5,consts:[[3,"headingText","iconClass","buttonText","openForm"],[3,"openFormComponent","rerenderDoctorSchedule"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden","dark:border-gray-700","dark:shadow-gray-900"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-700"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],[3,"class",4,"ngFor","ngForOf"],[1,"td"],[1,"border","border-secondary-light","p-2","mr-2","cursor-pointer",3,"click"]],template:function(r,i){r&1&&(l(0,"app-section-header",0),h("openForm",function(){return i.openForm()}),t(),l(1,"app-schedule-form",1),h("rerenderDoctorSchedule",function(){return i.getScheduleList(i.doctorId)}),t(),l(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"table",6)(7,"thead",7)(8,"tr")(9,"th",8),a(10,"Id"),t(),l(11,"th",8),a(12,"Hospital Name"),t(),l(13,"th",8),a(14,"Schedule Type"),t(),l(15,"th",8),a(16,"Consultancy Type"),t(),l(17,"th",8),a(18,"Status"),t(),l(19,"th",8),a(20,"Remarks"),t(),l(21,"th",9),a(22,"Action"),t()()(),l(23,"tbody",10),u(24,jt,17,12,"tr",11),t()()()()()()),r&2&&(p("headingText","Your Schedule")("iconClass","fa-solid fa-calendar-days")("buttonText","Add Schedule"),s(),p("openFormComponent",i.openFormComponent),s(23),p("ngForOf",i.scheduleList))},dependencies:[_,re,et]});let n=o;return n})();function Vt(n,o){if(n&1&&(l(0,"option",31),a(1),t()),n&2){let d=o.$implicit;p("value",d.id),s(),S(" ",d.name," ")}}function qt(n,o){n&1&&(l(0,"p",32),a(1," Appointment type is required! "),t())}function Gt(n,o){if(n&1&&(l(0,"option",31),a(1),t()),n&2){let d=o.$implicit;p("value",d.id),s(),S(" ",d.name," ")}}function Ut(n,o){n&1&&(l(0,"p",32),a(1," Doctor scheduleId is required! "),t())}function $t(n,o){n&1&&(l(0,"p",32),a(1," Current fee is required! "),t())}function Bt(n,o){n&1&&(l(0,"p",32),a(1," Previous fee fee is required! "),t())}function zt(n,o){n&1&&(l(0,"p",32),a(1," Fee Applied from is required! "),t())}function Zt(n,o){n&1&&(l(0,"p",32),a(1," Follow up period from is required! "),t())}function Wt(n,o){if(n&1&&(l(0,"div",7)(1,"label",33),a(2,"FollowUp Period"),t(),f(3,"input",34),u(4,Zt,2,0,"p",12),t()),n&2){let d=x(),e;s(4),p("ngIf",d.formSubmitted&&((e=d.form.get("followUpPeriod"))==null?null:e.hasError("pattern")))}}function Yt(n,o){n&1&&(l(0,"p",32),a(1," Follow up period from is required! "),t())}function Jt(n,o){if(n&1&&(l(0,"div",7)(1,"label",35),a(2,"Report Show Period"),t(),f(3,"input",36),u(4,Yt,2,0,"p",12),t()),n&2){let d=x(),e;s(4),p("ngIf",d.formSubmitted&&((e=d.form.get("reportShowPeriod"))==null?null:e.hasError("pattern")))}}var ye=(()=>{let o=class o{constructor(e,r,i,m,v,y,I){this.fb=e,this.dialogRef=r,this.normalAuth=i,this.tosterService=m,this.DoctorScheduleService=v,this.DoctorFeeSetupService=y,this.editData=I,this.formSubmitted=!1,this.appointmentType=[],this.doctorSchedule=[],this.showFollowUpPeriod=!0,this.showReportShowPeriod=!0}ngOnInit(){let e=this.normalAuth.authInfo();e&&e.id&&(this.doctorId=e.id),this.loadForm(e.id),this.appointmentType=ne.getEnumList(Re),this.DoctorScheduleService.getScheduleListByDoctorId(this.doctorId).subscribe(r=>{r&&(this.doctorSchedule=r.map(i=>({name:i.scheduleName,id:i.id})),this.editData.id&&this.DoctorFeeSetupService.get(this.editData.id).subscribe(i=>{this.form.patchValue(O(N({},this.editData),{feeAppliedFrom:""}))}))}),this.form.get("discount")?.valueChanges.subscribe(r=>{this.calculateTotalFee()}),this.form.get("currentFee")?.valueChanges.subscribe(r=>{this.calculateTotalFee()}),this.form.get("appointmentType")?.valueChanges.subscribe(r=>{r==1?(this.showFollowUpPeriod=!1,this.showReportShowPeriod=!1):r==2?(this.showReportShowPeriod=!1,this.showFollowUpPeriod=!0):r==3?(this.showFollowUpPeriod=!1,this.showReportShowPeriod=!0):(this.showFollowUpPeriod=!0,this.showReportShowPeriod=!0)})}loadForm(e){this.form=this.fb.group({doctorProfileId:[e,g.required],doctorScheduleId:["",g.required],appointmentType:["",g.required],currentFee:["",g.required],discount:[""],discountPeriod:[""],previousFee:[""],feeAppliedFrom:[""],followUpPeriod:[""],reportShowPeriod:[""],discountAppliedFrom:[""],totalFee:["",g.required]})}submit(){this.formSubmitted=!0;let e=this.form.get("followUpPeriod")?.value==""?0:this.form.get("followUpPeriod")?.value,r=this.form.get("reportShowPeriod")?.value==""?0:this.form.get("reportShowPeriod")?.value,i=O(N({},this.form.value),{followUpPeriod:e,reportShowPeriod:r});this.editData?this.DoctorFeeSetupService.update(O(N({},i),{id:this.editData.id})).subscribe({next:m=>{this.tosterService.customToast(String(m.message),m.success==!0?"success":"error"),this.dialogRef.close(!0),this.formSubmitted=!1},error:m=>{console.log(m),this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1),this.formSubmitted=!1}}):this.DoctorFeeSetupService.create(i).subscribe({next:m=>{this.tosterService.customToast(String(m.message),m.success==!0?"success":"error"),this.dialogRef.close(!0),this.formSubmitted=!1},error:m=>{this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1),this.formSubmitted=!1}})}calculateTotalFee(){let e=this.form.get("currentFee")?.value,r=this.form.get("discount")?.value,i=e-r;this.form.patchValue({totalFee:i})}};o.\u0275fac=function(r){return new(r||o)(c(V),c(q),c(D),c($),c(oe),c(he),c(G))},o.\u0275cmp=b({type:o,selectors:[["app-fee-dialog"]],decls:60,vars:11,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],[1,"w-full","px-3","sm:w-full"],["for","appointmentType",1,"mb-2"],["id","appointmentType","formControlName","appointmentType",1,"form_input","mt-1"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm",4,"ngIf"],["for","doctorSchedule",1,"mb-2"],["id","doctorScheduleId","formControlName","doctorScheduleId",1,"form_input","mt-1"],["for","currrentFee",1,"mb-2"],["autocomplete","off","formControlName","currentFee","type","number","inputmode","numeric","placeholder","Currrent Fee",1,"form_input","mt-1"],["for","previousFee",1,"mb-2"],["autocomplete","off","formControlName","previousFee","type","number","inputmode","numeric","placeholder","Previous Fee",1,"form_input","mt-1"],["for","feeAppliedFrom",1,"mb-2"],["autocomplete","off","formControlName","feeAppliedFrom","type","date","placeholder","Fee Applied From",1,"form_input","mt-1"],["class","w-full px-3 sm:w-full",4,"ngIf"],["for","discount",1,"mb-2"],["autocomplete","off","formControlName","discount","type","number","placeholder","Discount",1,"form_input","mt-1"],["for","discountAppliedFrom",1,"mb-2"],["autocomplete","off","formControlName","discountAppliedFrom","type","date","placeholder","Discount Applied From",1,"form_input","mt-1"],["for","discountPeriod",1,"mb-2"],["autocomplete","off","formControlName","discountPeriod","type","number","placeholder","Discount Period",1,"form_input"],["for","totalFee",1,"mb-2"],["autocomplete","off","formControlName","totalFee","placeholder","Total Fee",1,"form_input","mt-1"],[1,"btn-secondary","mt-5",3,"click"],[3,"value"],[1,"text-red-500","text-sm"],["for","followUpPeriod",1,"mb-2"],["autocomplete","off","formControlName","followUpPeriod","type","number","placeholder","FollowUp Period",1,"form_input","mt-1"],["for","reportShowPeriod",1,"mb-2"],["autocomplete","off","formControlName","reportShowPeriod","type","number","placeholder","Report Show Period",1,"form_input","mt-1"]],template:function(r,i){if(r&1&&(l(0,"div",0)(1,"h1",1),f(2,"i",2),a(3),t(),l(4,"button",3),h("click",function(){return i.dialogRef.close(!0)}),a(5," Close "),t()(),l(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),a(11," AppointmentType "),t(),l(12,"select",9)(13,"option",10),a(14,"--Select--"),t(),u(15,Vt,2,2,"option",11),t(),u(16,qt,2,0,"p",12),t(),l(17,"div",7)(18,"label",13),a(19," Doctor Schedule "),t(),l(20,"select",14)(21,"option",10),a(22,"--Select--"),t(),u(23,Gt,2,2,"option",11),t(),u(24,Ut,2,0,"p",12),t(),l(25,"div",7)(26,"label",15),a(27," Currrent Fee "),t(),f(28,"input",16),u(29,$t,2,0,"p",12),t(),l(30,"div",7)(31,"label",17),a(32," Previous Fee "),t(),f(33,"input",18),u(34,Bt,2,0,"p",12),t(),l(35,"div",7)(36,"label",19),a(37,"Fee Applied From"),t(),f(38,"input",20),u(39,zt,2,0,"p",12),t(),u(40,Wt,5,1,"div",21)(41,Jt,5,1,"div",21),l(42,"div",7)(43,"label",22),a(44,"Discount"),t(),f(45,"input",23),t(),l(46,"div",7)(47,"label",24),a(48,"Discount Applied From"),t(),f(49,"input",25),t(),l(50,"div",7)(51,"label",26),a(52,"Discount Period"),t(),f(53,"input",27),t(),l(54,"div",7)(55,"label",28),a(56,"Total Fee"),t(),f(57,"input",29),t()()(),l(58,"button",30),h("click",function(){return i.submit()}),a(59,"Submit"),t()()),r&2){let m,v,y,I,B;s(3),S(" ",i.editData?"Update":"Add"," Fees Options "),s(4),p("formGroup",i.form),s(8),p("ngForOf",i.appointmentType),s(),p("ngIf",i.formSubmitted&&((m=i.form.get("appointmentType"))==null?null:m.invalid)&&((m=i.form.get("appointmentType"))==null?null:m.value)==0),s(7),p("ngForOf",i.doctorSchedule),s(),p("ngIf",i.formSubmitted&&((v=i.form.get("doctorScheduleId"))==null?null:v.hasError("pattern"))),s(5),p("ngIf",i.formSubmitted&&((y=i.form.get("currentFee"))==null?null:y.hasError("pattern"))),s(5),p("ngIf",i.formSubmitted&&((I=i.form.get("previousFee"))==null?null:I.hasError("pattern"))),s(5),p("ngIf",i.formSubmitted&&((B=i.form.get("feeAppliedFrom"))==null?null:B.hasError("pattern"))),s(),p("ngIf",i.showFollowUpPeriod),s(),p("ngIf",i.showReportShowPeriod)}},dependencies:[_,A,H,ee,te,Q,fe,X,j,P,L,R]});let n=o;return n})();var it=(()=>{let o=class o{constructor(e,r){this.editData=e,this.dialogRef=r}confirmDelete(){this.dialogRef.close(!0)}};o.\u0275fac=function(r){return new(r||o)(c(G),c(q))},o.\u0275cmp=b({type:o,selectors:[["app-confirm-dialog"]],decls:7,vars:0,consts:[[1,"py-5","px-7"],[1,"pb-3","border-b-2","text-[24px]","font-Roboto","font-medium"],[1,"py-5"],[1,"btn-secondary","bg-red-100","focus:none","text-red-800",3,"click"]],template:function(r,i){r&1&&(l(0,"div",0)(1,"h1",1),a(2,"Confirm Delete?"),t(),l(3,"p",2),a(4,"Are you sure you want to delete ...."),t(),l(5,"button",3),h("click",function(){return i.confirmDelete()}),a(6,"Delete"),t()())}});let n=o;return n})();function Kt(n,o){if(n&1){let d=T();l(0,"tr")(1,"td",11),a(2),t(),l(3,"td",11),a(4),t(),l(5,"td",11),a(6),t(),l(7,"td",11),a(8),t(),l(9,"td",11),a(10),t(),l(11,"td",11),a(12),t(),l(13,"td",11)(14,"a",12),h("click",function(){let i=E(d).$implicit,m=x();return w(m.handleFeeEdit(i))}),a(15,"Edit"),t()()()}if(n&2){let d=o.$implicit;s(2),C(d.doctorScheduleName),s(2),S("",d.currentFee,".00 tk"),s(2),S("",d.discount,".00 tk"),s(2),S("",d.discountPeriod," Days"),s(2),S("",d.reportShowPeriod," Days"),s(2),S("",d.totalFee,".00 tk")}}var ot=(()=>{let o=class o{constructor(e,r,i){this.dialog=e,this.normalAuth=r,this.DoctorFeeSetupService=i,this.feeList=[]}ngOnInit(){let e=this.normalAuth.authInfo().id;e&&(this.doctorId=e,this.getFeeList(e))}getFeeList(e){this.DoctorFeeSetupService.getListByDoctorIdList(e).subscribe(r=>{this.feeList=r})}openDialog(){this.dialog.open(ye,{width:"40vw"}).afterClosed().subscribe(r=>{this.getFeeList(this.doctorId)})}handleFeeEdit(e){this.dialog.open(ye,{data:e,width:"40vw"}).afterClosed().subscribe(r=>{r===!0&&this.getFeeList(this.doctorId)})}handleFeeDelete(e){this.dialog.open(it,{data:e,width:"25vw"}).afterClosed().subscribe(r=>{})}};o.\u0275fac=function(r){return new(r||o)(c(U),c(D),c(he))},o.\u0275cmp=b({type:o,selectors:[["app-fee-setup"]],decls:24,vars:4,consts:[[3,"headingText","iconClass","buttonText","openForm"],[1,"flex","flex-col","mt-3"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"border","rounded-lg","shadow","overflow-hidden","dark:border-gray-700","dark:shadow-gray-900"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-700"],["scope","col",1,"th"],["scope","col",1,"text-righ","th"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[1,"td"],[1,"bg-secondary-light","border","border-secondary-light","p-2","mr-2","cursor-pointer","rounded-sm",3,"click"]],template:function(r,i){r&1&&(l(0,"app-section-header",0),h("openForm",function(){return i.openDialog()}),t(),l(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),a(9,"Schedule with Hospital"),t(),l(10,"th",7),a(11,"Current Fee"),t(),l(12,"th",7),a(13,"Discount"),t(),l(14,"th",7),a(15,"Discount Period"),t(),l(16,"th",7),a(17,"Report Show"),t(),l(18,"th",7),a(19,"Total Fee"),t(),l(20,"th",8),a(21,"Action"),t()()(),l(22,"tbody",9),u(23,Kt,16,6,"tr",10),t()()()()()()),r&2&&(p("headingText","Manage Your Fees")("iconClass","fa-solid fa-calendar-days")("buttonText","Add Fees Option"),s(23),p("ngForOf",i.feeList))},dependencies:[_,re],styles:[".activ[_ngcontent-%COMP%]{background:#00f}"]});let n=o;return n})();var rt=(()=>{let o=class o{constructor(e){this.HospitalStateService=e,this.scheduleCompleted=!1}ngOnInit(){this.HospitalStateService.getDoctorScheduleList().subscribe({next:e=>{e?.length>0?this.scheduleCompleted=!0:this.scheduleCompleted=!1}})}};o.\u0275fac=function(r){return new(r||o)(c(M))},o.\u0275cmp=b({type:o,selectors:[["app-hospital-schedule"]],decls:34,vars:3,consts:[[1,"doctor-dashboard_midcontent_container","w-ful"],[1,"flex","items-center","justify-left"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg","p-8"],[1,"flex","gap-4","items-center","justify-between"],[1,"dashbord-heading-text","text-[22px]"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"w-full","mt-6"],["linear","",1,"mt-7"],["label","Add New Place",3,"completed"],["matStepperNext","",1,"mt-5","h-fit","btn-secondary","bg-secondary-light","border-secondary-dark","text-secondary-dark","group"],[1,"fa-solid","group-hover:ml-2","ml-1","transition-all","duration-75","fa-arrow-right"],["label","Create Schedule",3,"completed"],[1,"flex","gap-5","ml-auto","mt-5"],["matStepperPrevious","",1,"btn-secondary","group","h-fit"],[1,"fa-solid","group-hover:pr-2","pr-1","box-border","transition-all","duration-75","fa-arrow-left-long"],["matStepperNext","",1,"h-fit","btn-secondary","bg-secondary-light","border-secondary-dark","text-secondary-dark","group"],["label","Fee Manage",3,"completed"],[1,"fa-solid","group-hover:mr-2","mr-1","transition-all","duration-75","fa-arrow-left-long"]],template:function(r,i){r&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),f(6,"i",6),a(7," Hospital & Schedule "),t()(),l(8,"div",7)(9,"mat-stepper",8)(10,"mat-step",9),Y(11),f(12,"app-hospital-info"),J(),l(13,"button",10),a(14," Next "),f(15,"i",11),t()(),l(16,"mat-step",12),Y(17),f(18,"app-schedule-info"),J(),l(19,"div",13)(20,"button",14),f(21,"i",15),a(22,"Previous "),t(),l(23,"button",16),a(24," Next "),f(25,"i",11),t()()(),l(26,"mat-step",17)(27,"form"),Y(28),f(29,"app-fee-setup"),J(),l(30,"div",13)(31,"button",14),f(32,"i",18),a(33,"Previous "),t()()()()()()()()()()),r&2&&(s(10),p("completed",!0),s(6),p("completed",i.scheduleCompleted),s(10),p("completed",!1))},dependencies:[$e,Be,ze,Ze,H,P,Pe,Ke,tt,ot]});let n=o;return n})();var nt=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=me({type:o}),o.\u0275inj=de({imports:[ue]});let n=o;return n})();var Xt=[{path:"",component:rt}],vo=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=me({type:o}),o.\u0275inj=de({providers:[ke],imports:[ue,Ae.forChild(Xt),We,Ye,nt,Ge,Ue]});let n=o;return n})();export{vo as HospitalScheduleModule};
