"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[509],{4509:(f,d,i)=>{i.r(d),i.d(d,{AgentSignupModule:()=>S});var m=i(6895),t=i(4006),s=i(8745),e=i(4650),u=i(5654),h=i(629),v=i(5374),A=i(2381),g=i(1951);function Z(o,l){1&o&&e._UZ(0,"span",32)}const b=[{path:"",component:(()=>{class o{constructor(r,n,p,a,c,w){this.fb=r,this.AgentProfileService=n,this.NormalAuth=p,this.UserAccountsService=a,this.TosterService=c,this._router=w,this.subs=new s.Y}ngOnInit(){this.loadForm()}loadForm(){this.signupForm=this.fb.group({fullName:["",t.kI.required],agentCode:["123456",t.kI.required],organizationName:["",t.kI.required],address:["",t.kI.required],city:["Dhaka",t.kI.required],zipCode:["1212",t.kI.required],country:["Bd",t.kI.required],mobileNo:["",t.kI.required],email:["",t.kI.required],password:["",t.kI.required],isActive:["true",t.kI.required]})}onSubmit(){if(this.isLoading=!0,!this.signupForm.valid)return this.isLoading=!1,void this.TosterService.customToast("Please filed all required field","warning");this.UserAccountsService.signupUserByUserDtoAndPasswordAndRole({tenantId:"",userName:this.signupForm.value.mobileNo,name:this.signupForm?.value.fullName,surname:"",email:this.signupForm.value.email,emailConfirmed:!0,phoneNumber:this.signupForm.value.mobileNo,phoneNumberConfirmed:!0,address:this.signupForm.value.address,city:this.signupForm.value.city,zipCode:this.signupForm.value.zipCode,country:this.signupForm.value.country,isActive:!0,lockoutEnabled:!1,lockoutEnd:"2023-07-16T07:38:44.382Z",concurrencyStamp:""},this.signupForm.value?.password,"Agent").subscribe(n=>{n.success?this.AgentProfileService.create({...this.signupForm.value,userId:n.userId}).subscribe(p=>{this.subs.sink=this.AgentProfileService.getByUserId(p.userId).subscribe(a=>{this.agentProfileDto=a,this.agentId=a.id,this.NormalAuth.setAuthInfoInLocalStorage({isActive:a.isActive,userId:n.userId,id:a.id,userType:"agent"}),this.TosterService.customToast(String(n.message),"success"),this._router.navigate(["/agent"])})}):(this.isLoading=!1,this.TosterService.customToast(String(n.message),"error"))})}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(t.qu),e.Y36(u.j),e.Y36(h.e),e.Y36(v.V),e.Y36(A.G),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agent-signup"]],decls:56,vars:2,consts:[[1,"signup-form"],[1,"signup-form__left"],["src","../../../../assets/auth/Repeat Grid 3.png","alt","auth",1,"w-full","h-full"],[1,"signup-form__right","drop-shadow-soft","relative"],[1,"max-w-lg","min-w-[650px]","mx-auto","mt-10","bg-white","p-8","rounded-xl","shadow","shadow-slate-300"],[1,"text-4xl","font-medium"],[1,"text-slate-500","mt-2"],[1,"mt-6",3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2","mb-5"],["for","agentName"],[1,"font-medium","text-slate-700","pb-2"],["type","text","formControlName","fullName","id","agentName","placeholder","Name","required","",1,"form_input"],["for","agentOrganization"],["type","text","formControlName","organizationName","id","organizationName","placeholder","Agent Organization","required","",1,"form_input"],["for","email"],["type","email","formControlName","email","id","email","placeholder","example@mail.com","required","",1,"form_input"],["for","password"],["type","password","formControlName","password","id","password","placeholder","Password","required","",1,"form_input"],["for","Contact No"],["type","tel","formControlName","mobileNo","id","mobileNo","placeholder","00-00-00-00-00","required","",1,"form_input"],["for","Address"],["type","text","formControlName","address","id","address","placeholder","Address","required","",1,"form_input"],[1,"form_btn",3,"click"],[1,"flex"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"text-center","w-full","mt-5"],["routerLink","/agent/login",1,"text-primary","font-medium","inline-flex","space-x-1","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],[1,"loading","loading-dots","loading-md"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Agent Signup"),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Hi, Welcome to SoowGood \u{1f44b}"),e.qZA(),e.TgZ(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10)(13,"p",11),e._uU(14,"Agent Name"),e.qZA(),e._UZ(15,"input",12),e.qZA()(),e.TgZ(16,"div",9)(17,"label",13)(18,"p",11),e._uU(19,"Agent Organization"),e.qZA(),e._UZ(20,"input",14),e.qZA()(),e.TgZ(21,"div",9)(22,"label",15)(23,"p",11),e._uU(24,"Email"),e.qZA(),e._UZ(25,"input",16),e.qZA()(),e.TgZ(26,"div",9)(27,"label",17)(28,"p",11),e._uU(29,"Password"),e.qZA(),e._UZ(30,"input",18),e.qZA()(),e.TgZ(31,"div",9)(32,"label",19)(33,"p",11),e._uU(34,"Contact No"),e.qZA(),e._UZ(35,"input",20),e.qZA()(),e.TgZ(36,"div",9)(37,"label",21)(38,"p",11),e._uU(39,"Address"),e.qZA(),e._UZ(40,"input",22),e.qZA()(),e.TgZ(41,"button",23),e.NdJ("click",function(){return n.onSubmit()}),e.TgZ(42,"div",24),e.O4$(),e.TgZ(43,"svg",25),e._UZ(44,"path",26),e.qZA(),e.kcU(),e.TgZ(45,"span"),e._uU(46,"Signup"),e.qZA()(),e.YNc(47,Z,1,0,"span",27),e.qZA(),e.TgZ(48,"p",28),e._uU(49," Already have an account? "),e.TgZ(50,"a",29)(51,"span"),e._uU(52,"Login "),e.qZA(),e.TgZ(53,"span"),e.O4$(),e.TgZ(54,"svg",30),e._UZ(55,"path",31),e.qZA()()()()()()()()()),2&r&&(e.xp6(9),e.Q6J("formGroup",n.signupForm),e.xp6(38),e.Q6J("ngIf",n.isLoading))},dependencies:[m.O5,g.rH,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.sg,t.u]}),o})()}];let S=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,g.Bz.forChild(b),t.u5,t.UX]}),o})()},8745:(f,d,i)=>{i.d(d,{Y:()=>t});var t=function(){function s(){this._subs=[]}return s.prototype.add=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];this._subs=this._subs.concat(e)},Object.defineProperty(s.prototype,"sink",{set:function(e){this._subs.push(e)},enumerable:!0,configurable:!0}),s.prototype.unsubscribe=function(){this._subs.forEach(function(e){return e&&function(s){return"function"==typeof s}(e.unsubscribe)&&e.unsubscribe()}),this._subs=[]},s}()}}]);