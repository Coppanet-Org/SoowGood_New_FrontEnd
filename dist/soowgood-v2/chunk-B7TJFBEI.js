import{a as ft}from"./chunk-JBYXCWIV.js";import{a as ct}from"./chunk-FCHAHHLG.js";import{a as dt}from"./chunk-XESAUNIT.js";import{a as st}from"./chunk-U4MYN3M4.js";import"./chunk-HZPAFMDX.js";import{a as mt}from"./chunk-LOJM2DH5.js";import{a as ot,b as rt}from"./chunk-JQBLBVRI.js";import{a as fe,b as ye}from"./chunk-UGVBX5RU.js";import{a as pt}from"./chunk-UKGGZ2RA.js";import"./chunk-6MXKGXAX.js";import{a as K}from"./chunk-7NGZH4SF.js";import"./chunk-EOAKK2OL.js";import{a as P}from"./chunk-DIK5M47G.js";import{a as nt,h as at,k as lt}from"./chunk-JN5TIQFO.js";import{c as Se,d as tt,e as it,g as J}from"./chunk-KXUW234Y.js";import{a as Z,b as pe,c as H}from"./chunk-KZ73FH3X.js";import"./chunk-RCDD4OPH.js";import"./chunk-FFSGEAVH.js";import"./chunk-QYZGMTSF.js";import{g as ue,i as he,k as C,m as ge,n as ve,v as be,w as xe,z as N}from"./chunk-B6XPZLTG.js";import{a as I}from"./chunk-6E6ZED7T.js";import"./chunk-U25NMAFE.js";import{A as et,C as A,c as U,e as S,h as V,i as L,k as Je,n as z,o as Ke,r as q,u as $,v as G,w as Q,x as Y,y as We,z as Xe}from"./chunk-FUUASHDU.js";import{Ca as B,Ha as g,Na as p,S as oe,Vb as E,Wb as Qe,X as y,Y as re,Ya as r,Za as i,_a as f,aa as ne,ac as me,ba as ae,cb as le,cc as de,fc as Ye,gb as b,ib as se,kc as ce,lb as w,qa as Ge,qb as M,r as $e,rb as O,sb as R,ub as l,uc as Ze,vb as k,wb as v,xc as He,ya as s,za as d}from"./chunk-PJQ4EZIT.js";import{a as _,b as F}from"./chunk-5G567QLT.js";var yt=["attachments"],ht=(()=>{let n=class n{constructor(t,o,e,m,c){this.TosterService=t,this.DoctorProfileService=o,this.http=e,this.normalAuth=m,this.dialogRef=c,this.subs=new K,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${P.apis.default.url}/api`,this.picUrl=`${P.apis.default.url}/`,this.profileInfo=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&(console.log(t),this.getProfileInfo(t))}getProfileInfo(t){t&&this.DoctorProfileService.get(t).subscribe(o=>{this.profileInfo=o})}uploadPic(){if(this.fileData.append("entityId",this.profileInfo.id.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","ProfilePicture"),this.fileData.append("directoryName","DoctorProfilePicture\\"+this.profileInfo.id.toString()),this.fileList.length>0){for(let t of this.fileList){let o=t;this.fileData.append(t.name,o)}this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(t=>{console.log(t),this.TosterService.customToast("Picture Changed Successfully","success"),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!1),console.log(t)})}}onFileChanged(t){for(var o=0;o<=t.target.files.length-1;o++){var e=t.target.files[o];this.fileList.push(e),this.fileNames.push(e.name)}this.fileList.length>0&&this.checkFileValidation(t),this.attachment.nativeElement.value=""}removeSelectedFile(t){this.fileNames.splice(t,1),this.fileList.splice(t,1)}checkFileValidation(t){let o=t.target.files.length;if(o>0){var e=["image/png","image/jpeg","image/jpg"];let m=t.target.files;this.fileList=Array.from(m);for(let c=0;c<o;c++)m[c].size>5242880&&(this.fileNames.splice(c,1),this.fileList.splice(c,1),this.TosterService.customToast("Maximum 5MB Accepted","warning")),e.indexOf(m[c].type.toLowerCase())>=0||(this.fileNames.splice(c,1),this.fileList.splice(c,1),this.TosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}};n.\u0275fac=function(o){return new(o||n)(d(N),d(C),d(ce),d(I),d(Z))},n.\u0275cmp=y({type:n,selectors:[["app-picture-dialog"]],viewQuery:function(o,e){if(o&1&&M(yt,5),o&2){let m;O(m=R())&&(e.attachment=m.first)}},decls:27,vars:0,consts:[[1,"w-full","pt-10","px-10","pb-5","bg-white","rounded-xl","z-10"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-400"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["ngSrc","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image","width","100","height","100",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary",3,"click"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Update Profile picture!"),i(),r(4,"p",3),l(5,"Lorem ipsum is placeholder text."),i()(),r(6,"form",4)(7,"div",5)(8,"label",6),l(9,"Attach Document"),i(),r(10,"div",7)(11,"label",8)(12,"div",9)(13,"div",10),f(14,"img",11),i(),r(15,"p",12)(16,"span",13),l(17,"Click here to select your file!"),i()()(),r(18,"input",14,15),b("change",function(c){return e.onFileChanged(c)}),i()()()(),r(21,"p",16)(22,"span"),l(23,"File type: jpg and jpeg of images"),i()(),r(24,"div")(25,"button",17),b("click",function(){return e.uploadPic()}),l(26," Update "),i()()()())},dependencies:[Ye]});let a=n;return a})();function Dt(a,n){if(a&1&&(r(0,"option",29),l(1),i()),a&2){let h=n.$implicit;p("value",h.id),s(),v(" ",h.name," ")}}function _t(a,n){a&1&&(r(0,"mat-error"),l(1," Please select your title. "),i())}function wt(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your full name. "),i())}function Et(a,n){a&1&&(r(0,"mat-error"),l(1," Full name should contain only letters and numbers at the end (optional). "),i())}function Ct(a,n){a&1&&(r(0,"mat-error"),l(1," Full name should be at least 3 characters long "),i())}function Nt(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your email. "),i())}function Tt(a,n){a&1&&(r(0,"mat-error"),l(1," Email should be valid. "),i())}function jt(a,n){if(a&1&&(r(0,"option",29),l(1),i()),a&2){let h=n.$implicit;w("value",h.id),s(),v(" ",h.name," ")}}function Pt(a,n){a&1&&(r(0,"mat-error"),l(1," Please select your gender. "),i())}function Ft(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your birth date. "),i())}function Lt(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your BMDC number. "),i())}function zt(a,n){a&1&&(r(0,"mat-error"),l(1," BMDC number should be a 6-9-digit number. "),i())}function At(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter the BMDC expire date. "),i())}function Bt(a,n){a&1&&(r(0,"mat-error"),l(1," Invalid date format. "),i())}function kt(a,n){a&1&&(r(0,"mat-error"),l(1," BMDC expire date should be in the current year/month or a future. "),i())}function Mt(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your city name. "),i())}function Ot(a,n){a&1&&(r(0,"mat-error"),l(1," city name should contain only letters (no numbers or special characters). "),i())}function Rt(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your zip code. "),i())}function Ut(a,n){a&1&&(r(0,"mat-error"),l(1," Zip code should be a 4-digit number. "),i())}function Vt(a,n){if(a&1&&(r(0,"option",29),l(1),i()),a&2){let h=n.$implicit;w("value",h),s(),v(" ",h," ")}}function qt(a,n){a&1&&(r(0,"mat-error"),l(1," Please select your country! "),i())}function $t(a,n){a&1&&(r(0,"mat-error"),l(1," Please enter your Identity Number (Passport/NID). "),i())}function Gt(a,n){a&1&&(r(0,"mat-error"),l(1," Identity Number (Passport/NID) should be actual format. "),i())}function Qt(a,n){if(a&1&&(r(0,"option",29),l(1),i()),a&2){let h=n.$implicit;w("value",h.id),s(),v(" ",h.specialityName," ")}}function Yt(a,n){a&1&&(r(0,"mat-error"),l(1," Please select your specialty. "),i())}function Zt(a,n){a&1&&(r(0,"div",30)(1,"span"),l(2,"Update Info"),i()())}function Ht(a,n){a&1&&f(0,"span",31)}var _e=(()=>{let n=class n{constructor(t,o,e,m,c,u,x,D){this.fb=t,this.doctorSpeciality=o,this.doctorProfileService=e,this.NormalAuth=m,this.datePipe=c,this.LoaderService=u,this.UserinfoStateService=x,this.TosterService=D,this.genderList=[],this.titleList=[],this.maritalOptions=[],this.countryList=ft,this.specialties=[],this.formSubmitted=!1,this.isLoading=!1,this.formDataEvent=new B,this.profileData=new B,this.inputConfigs=mt}ngOnInit(){this.loadForm(),this.genderList=J.getEnumList(tt),this.maritalOptions=J.getEnumList(it),this.titleList=J.getEnumList(Se),this.doctorSpeciality.getList().subscribe(o=>{this.specialties=o});let t=this.NormalAuth.authInfo().id;this.doctorId=t,this.fetchProfileInfo(t)}fetchProfileInfo(t){t&&this.UserinfoStateService.getData().subscribe(o=>{this.authInfo=o,o.dateOfBirth=this.formatDate(o.dateOfBirth),o.bmdcRegExpiryDate=this.formatDate(o.bmdcRegExpiryDate),this.form?.patchValue(o),this.profileData.emit(o),this.form.get("specialityId")?.patchValue(o.specialityId),this.LoaderService.sendLoaderState(!1)},o=>{this.LoaderService.sendLoaderState(!1),console.error("Error fetching profile information:",o)})}formatDate(t){if(!t)return"";let o=new Date(t);return this.datePipe.transform(o,"yyyy-MM-dd")||""}loadForm(){this.form=this.fb.group({doctorTitle:[""],fullName:[""],email:["",[S.pattern(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/)]],gender:[""],dateOfBirth:[""],city:[""],country:["Bangladesh"],address:[""],zipCode:[""],bmdcRegNo:[""],bmdcRegExpiryDate:[""],specialityId:["",S.required],identityNumber:[""]})}sendDataToParent(){if(this.formSubmitted=!0,this.form.invalid){this.TosterService.customToast("Fill all the requirements","warning");return}this.formDataEvent.emit(F(_({},this.form.value),{id:this.doctorId}))}};n.\u0275fac=function(o){return new(o||n)(d(A),d(be),d(C),d(I),d(me),d(fe),d(ye),d(N))},n.\u0275cmp=y({type:n,selectors:[["app-basic-info"]],inputs:{isLoading:"isLoading"},outputs:{formDataEvent:"formDataEvent",profileData:"profileData"},decls:104,vars:28,consts:[[1,"flex","items-center","justify-left","mt-10","relative"],[1,"w-full","bg-white"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/4"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","doctorTitle","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"font-semibold","text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["autocomplete","off","formControlName","fullName","type","text","name","name","id","name","placeholder","Full Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","email","type","email","placeholder","example@yourmail.com",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","gender","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","required","","formControlName","dateOfBirth","type","date","name","date","id","date",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","phone",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","bmdcRegNo","placeholder","Enter your BMDC number",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","autocomplete","off","formControlName","bmdcRegExpiryDate","type","date","name","date","id","date",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","address","id","area","placeholder","Flat No - 1346, Road no - 02, block - C, Mohakhali DOHS",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","city","id","state","placeholder","Enter city",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","maxlength","4","minlength","4","formControlName","zipCode","id","post-code","placeholder","Zip Code",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","country","id","country","placeholder","Enter Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","autocomplete","off","formControlName","identityNumber","type","text","name","identityNumber","id","identityNumber","placeholder","Identity Number (Passport/NID)",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","specialityId","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"flex","items-center","justify-end","w-fit","mt-6"],[1,"btn-secondary","px-10","hover:text-primary","border-transparent","hover:border","hover:border-secondary-border","group",3,"click"],["class","flex items-center gap-1 text-white group-hover:text-primary",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"font-semibold","text-gray-500",3,"value"],[1,"flex","items-center","gap-1","text-white","group-hover:text-primary"],[1,"loading","loading-dots","loading-md"]],template:function(o,e){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),l(7," Your Title "),i(),r(8,"select",7)(9,"option",8),l(10," Select Title "),i(),g(11,Dt,2,2,"option",9),i(),g(12,_t,2,0,"mat-error",10),i()(),r(13,"div",4)(14,"div",5)(15,"label",6),l(16," Full Name "),i(),f(17,"input",11),g(18,wt,2,0,"mat-error",10)(19,Et,2,0,"mat-error",10)(20,Ct,2,0,"mat-error",10),i()(),r(21,"div",4)(22,"div",5)(23,"label",6),l(24," Email "),i(),f(25,"input",12),g(26,Nt,2,0,"mat-error",10)(27,Tt,2,0,"mat-error",10),i()(),r(28,"div",4)(29,"div",5)(30,"label",6),l(31," Gender "),i(),r(32,"select",13)(33,"option",8),l(34," Select gender "),i(),g(35,jt,2,2,"option",9),i(),g(36,Pt,2,0,"mat-error",10),i()(),r(37,"div",4)(38,"div",5)(39,"label",14),l(40," Date of Birth "),i(),f(41,"input",15),g(42,Ft,2,0,"mat-error",10),i()(),r(43,"div",4)(44,"div",5)(45,"label",16),l(46," BMDC Reg Number "),i(),f(47,"input",17),g(48,Lt,2,0,"mat-error",10)(49,zt,2,0,"mat-error",10),i()(),r(50,"div",4)(51,"div",5)(52,"label",14),l(53," BMDC Exp. Date "),i(),f(54,"input",18),g(55,At,2,0,"mat-error",10)(56,Bt,2,0,"mat-error",10)(57,kt,2,0,"mat-error",10),i()(),r(58,"div",4)(59,"div",5)(60,"label",6),l(61," Address "),i(),f(62,"input",19),i()(),r(63,"div",4)(64,"div",5)(65,"label",6),l(66," City "),i(),f(67,"input",20),g(68,Mt,2,0,"mat-error",10)(69,Ot,2,0,"mat-error",10),i()(),r(70,"div",4)(71,"div",5)(72,"label",6),l(73," Zip Code "),i(),f(74,"input",21),g(75,Rt,2,0,"mat-error",10)(76,Ut,2,0,"mat-error",10),i()(),r(77,"div",4)(78,"div",5)(79,"label",6),l(80," Country "),i(),r(81,"select",22),g(82,Vt,2,2,"option",9),i(),g(83,qt,2,0,"mat-error",10),i()(),r(84,"div",4)(85,"div",5)(86,"label",16),l(87," Identity Number "),i(),f(88,"input",23),g(89,$t,2,0,"mat-error",10)(90,Gt,2,0,"mat-error",10),i()(),r(91,"div",4)(92,"div",5)(93,"label",6),l(94," Specialties "),i(),r(95,"select",24)(96,"option",8),l(97," Select specialty "),i(),g(98,Qt,2,2,"option",9),i(),g(99,Yt,2,0,"mat-error",10),i()()(),r(100,"div",25)(101,"button",26),b("click",function(){return e.sendDataToParent()}),g(102,Zt,3,0,"div",27)(103,Ht,1,0,"span",28),i()()()()()),o&2){let m,c,u,x,D,j,ie,je,Pe,Fe,Le,ze,Ae,Be,ke,Me,Oe,Re,Ue,Ve,qe;s(2),p("formGroup",e.form),s(9),p("ngForOf",e.titleList),s(),p("ngIf",e.formSubmitted&&((m=e.form.get("doctorTitle"))==null?null:m.value)==="0"),s(6),p("ngIf",e.formSubmitted&&((c=e.form.get("fullName"))==null?null:c.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((u=e.form.get("fullName"))==null?null:u.hasError("pattern"))),s(),p("ngIf",e.formSubmitted&&((x=e.form.get("fullName"))==null?null:x.hasError("invalidName"))),s(6),p("ngIf",e.formSubmitted&&((D=e.form.get("email"))==null?null:D.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((j=e.form.get("email"))==null?null:j.hasError("pattern"))),s(8),p("ngForOf",e.genderList),s(),p("ngIf",e.formSubmitted&&((ie=e.form.get("gender"))==null?null:ie.value)==="0"),s(6),p("ngIf",e.formSubmitted&&((je=e.form.get("dateOfBirth"))==null?null:je.hasError("required"))),s(6),p("ngIf",e.formSubmitted&&((Pe=e.form.get("bmdcRegNo"))==null?null:Pe.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((Fe=e.form.get("bmdcRegNo"))==null?null:Fe.hasError("pattern"))),s(6),p("ngIf",e.formSubmitted&&((Le=e.form.get("bmdcRegExpiryDate"))==null?null:Le.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((ze=e.form.get("bmdcRegExpiryDate"))==null?null:ze.hasError("invalidDate"))),s(),p("ngIf",e.formSubmitted&&((Ae=e.form.get("bmdcRegExpiryDate"))==null?null:Ae.hasError("expiredDate"))),s(11),p("ngIf",e.formSubmitted&&((Be=e.form.get("city"))==null?null:Be.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((ke=e.form.get("city"))==null?null:ke.hasError("pattern"))),s(6),p("ngIf",e.formSubmitted&&((Me=e.form.get("zipCode"))==null?null:Me.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((Oe=e.form.get("zipCode"))==null?null:Oe.hasError("pattern"))),s(6),p("ngForOf",e.countryList),s(),p("ngIf",e.formSubmitted&&((Re=e.form.get("country"))==null?null:Re.hasError("required"))),s(6),p("ngIf",e.formSubmitted&&((Ue=e.form.get("identityNumber"))==null?null:Ue.hasError("required"))),s(),p("ngIf",e.formSubmitted&&((Ve=e.form.get("identityNumber"))==null?null:Ve.hasError("pattern"))),s(8),p("ngForOf",e.specialties),s(),p("ngIf",e.formSubmitted&&((qe=e.form.get("specialityId"))==null?null:qe.value)==="0"),s(3),p("ngIf",!e.isLoading),s(),p("ngIf",e.isLoading)}},dependencies:[E,Qe,z,Q,Y,U,G,V,L,We,Xe,et,q,$,nt],styles:["input[_ngcontent-%COMP%]{text-transform:capitalize}input[type=email][_ngcontent-%COMP%]{text-transform:lowercase}"]});let a=n;return a})();function Kt(a,n){if(a&1&&(r(0,"option",22),l(1),i()),a&2){let h=n.$implicit;w("value",h.id),s(),k(h.degreeName)}}function Wt(a,n){if(a&1&&(r(0,"option",22),l(1),i()),a&2){let h=n.$implicit;w("value",h.id),s(),k(h.name)}}var Ne=(()=>{let n=class n{constructor(t,o,e,m,c,u,x){this.degreeService=t,this.fb=o,this.doctorDegreeService=e,this.normalAuth=m,this.dialogRef=c,this.tosterService=u,this.editData=x,this.isLoading=!1,this.degreeList=[],this.durationList=[{id:1,name:"1 year"},{id:2,name:"2 year"},{id:3,name:"3 year"},{id:4,name:"4 year"},{id:5,name:"5 year"}]}ngOnInit(){this.loadForm(),this.degreeService.getList().subscribe(t=>{this.degreeList=t}),this.doctorId=this.normalAuth.authInfo().id,this.editData&&this.form.patchValue(this.editData)}loadForm(){this.form=this.fb.group({zipCode:["1216"],degreeId:["",S.required],duration:["",S.required],durationType:["",S.required],passingYear:["",S.required],instituteName:["",S.required],instituteCity:["",S.required],instituteCountry:["",S.required]})}sendDataToParent(){let t=this.form.get("degreeId")?.value,o=this.form.get("duration")?.value,e=F(_({},this.form.value),{degreeId:Number(t),duration:Number(o),doctorProfileId:this.doctorId});if(!this.form.valid&&!this.form.touched){this.tosterService.customToast("Please fill all the required fields!","warning");return}if(!this.editData)this.doctorDegreeService.create(e).subscribe(m=>{m&&(this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0))});else{let m=[],c=this.editData;for(let u in e)e.hasOwnProperty(u)&&e[u]!==c[u]&&m.push(u);if(m.length<1){this.dialogRef.close(!1);return}else this.doctorDegreeService.update(F(_({},e),{id:this.editData.id})).subscribe(u=>{u?(this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)):(this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1))})}}};n.\u0275fac=function(o){return new(o||n)(d(ue),d(A),d(he),d(I),d(Z),d(N),d(pe))},n.\u0275cmp=y({type:n,selectors:[["app-degree-dialog"]],decls:48,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","degreeId","name","degreeId","id","degreeId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","duration","name","duration","id","duration",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","durationType","type","text","name","date","id","durationType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","passingYear","type","number","name","date","id","passingYear",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"w-full","px-3","sm:w-full"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","instituteName","type","text","name","name","id","instituteName","placeholder","Institute Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCity","type","text","name","name","id","instituteCity","placeholder","Institute City",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCountry","type","text","name","name","id","instituteCountry","placeholder","Institute Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"btn-secondary",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"h1",1),f(2,"i",2),l(3),i(),r(4,"button",3),b("click",function(){return e.dialogRef.close(!0)}),l(5,"Close"),i()(),r(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),l(12," Degree Name "),i(),r(13,"select",10),g(14,Kt,2,2,"option",11),i()()(),r(15,"div",7)(16,"div",8)(17,"label",12),l(18," Duration "),i(),r(19,"select",13),g(20,Wt,2,2,"option",11),i()()(),r(21,"div",7)(22,"div",8)(23,"label",12),l(24," Duration Type "),i(),f(25,"input",14),i()(),r(26,"div",7)(27,"div",8)(28,"label",12),l(29," Passing Year "),i(),f(30,"input",15),i()(),r(31,"div",16)(32,"div",8)(33,"label",17),l(34," Institute Name "),i(),f(35,"input",18),i()(),r(36,"div",7)(37,"div",8)(38,"label",17),l(39," Institute City "),i(),f(40,"input",19),i()(),r(41,"div",7)(42,"div",8)(43,"label",17),l(44," Institute Country "),i(),f(45,"input",20),i()()(),r(46,"button",21),b("click",function(){return e.sendDataToParent()}),l(47),i()()()),o&2&&(s(3),v(" ",e.editData?"Update":"Add"," Education "),s(4),p("formGroup",e.form),s(7),p("ngForOf",e.degreeList),s(6),p("ngForOf",e.durationList),s(27),v(" ",e.editData?"Update":"Submit",""))},dependencies:[E,z,Q,Y,U,Ke,G,V,L,q,$]});let a=n;return a})();var gt=(()=>{let n=class n{constructor(t){this.degreeService=t,this.editDegree=new B,this.degreeList=[],this.degreename=""}ngOnInit(){this.degreeService.getList().subscribe(t=>{this.degreeList=t,this.getDegreeName(t)}),console.log(this.degreeData)}getDegreeName(t){this.degreename=t.find(o=>o.id==this.degreeData.degreeId)?.degreeName}};n.\u0275fac=function(o){return new(o||n)(d(ue))},n.\u0275cmp=y({type:n,selectors:[["app-degree-card"]],inputs:{degreeData:"degreeData"},outputs:{editDegree:"editDegree"},decls:23,vars:6,consts:[[1,"border","bg-secondary-light","bg-opacity-25","rounded-lg","p-6","text-gray-800","relative","z-10",2,"cursor","auto"],[1,"flex","flex-wrap","items-center"],[1,"w-full","flex","flex-col","justify-between"],[1,"font-bold","text-[24px]"],[1,"flex","flex-wrap","text-center","pt-4","mb-2"],[1,"mr-2","mb-2","rounded-full","px-3","py-1","text-xs","bg-primary","text-white"],[1,"text-sm","mt-2","list-disc","list-inside","text-gray-500","leading-relaxed"],[1,"w-full","sm:flex-2","grid","gap-4","grid-cols-2","pt-6"],[1,"btn-secondary",3,"click"],[1,"btn-secondary","bg-primary","text-white","hover:bg-secondary-light","hover:text-secondary-dark","hover:border-secondary-border-[4px]"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),l(5),i(),r(6,"div",4)(7,"div",5),l(8),i(),r(9,"div",5),l(10),i()(),r(11,"ul",6)(12,"li"),l(13),i(),r(14,"li"),l(15),i(),r(16,"li"),l(17),i()()(),r(18,"div",7)(19,"button",8),b("click",function(){return e.editDegree.emit(e.degreeData)}),l(20,"Update"),i(),r(21,"button",9),l(22,"Delete"),i()()()()()),o&2&&(s(5),k(e.degreeData==null?null:e.degreeData.instituteName),s(3),v("",e.degreename," "),s(2),v("Duration: ",e.degreeData==null?null:e.degreeData.duration," Years"),s(3),v("Institute City : ",e.degreeData==null?null:e.degreeData.instituteCity,""),s(2),v("Institute Country :",e.degreeData==null?null:e.degreeData.instituteCountry,""),s(2),v("Zip Code",e.degreeData==null?null:e.degreeData.zipCode,""))}});let a=n;return a})();function ei(a,n){if(a&1){let h=le();r(0,"div",10)(1,"app-degree-card",11),b("editDegree",function(o){ne(h);let e=se();return ae(e.handleDegreeEdit(o))}),i()()}if(a&2){let h=n.$implicit;s(),p("degreeData",h)}}var we=(()=>{let n=class n{constructor(t,o,e){this.dialog=t,this.doctorDegreeService=o,this.normalAuth=e,this.isLoading=!1,this.educationList=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&this.getDegreeDataList(t)}getDegreeDataList(t){this.doctorDegreeService.getDoctorDegreeListByDoctorId(t).subscribe(o=>{this.educationList=o})}handleDegreeEdit(t){this.dialog.open(Ne,{data:t,width:"40vw"}).afterClosed().subscribe(o=>{o===!0&&this.getDegreeDataList(this.doctorId)})}openDialog(){this.dialog.open(Ne,{width:"40vw"}).afterClosed().subscribe(o=>{this.getDegreeDataList(this.doctorId)})}};n.\u0275fac=function(o){return new(o||n)(d(H),d(he),d(I))},n.\u0275cmp=y({type:n,selectors:[["app-education-info"]],decls:12,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"flex","flex-wrap","flex-3","w-full","justify-between","row-gap-1"],["class","py-3 w-[33%]",4,"ngFor","ngForOf"],[1,"py-3","w-[33%]"],[3,"degreeData","editDegree"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),f(5,"i",5),l(6," Education Qualifications"),i(),r(7,"button",6),b("click",function(){return e.openDialog()}),f(8,"i",7),l(9," Add Degree "),i()(),r(10,"div",8),g(11,ei,2,1,"div",9),i()()()()),o&2&&(s(11),p("ngForOf",e.educationList))},dependencies:[E,gt]});let a=n;return a})();var ii=["attachments"];function oi(a,n){if(a&1&&(r(0,"option",28),l(1),i()),a&2){let h=n.$implicit;w("value",h.id),s(),k(h.specializationName)}}var Te=(()=>{let n=class n{constructor(t,o,e,m,c,u,x,D,j){this.fb=t,this.dialogRef=o,this.tosterService=e,this.specializationService=m,this.doctorSpecializationService=c,this.doctorProfileService=u,this.normalAuth=x,this.http=D,this.editData=j,this.isLoading=!1,this.specializationList=[],this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${P.apis.default.url}/api`,this.picUrl=`${P.apis.default.url}/`}ngOnInit(){this.loadForm();let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&this.doctorProfileService.get(t).subscribe(o=>{this.form.patchValue(o),this.editData&&this.specializationService.getBySpecialityId(this.editData.specialityId).subscribe(e=>this.form.get("specializationId")?.patchValue(e.specializationName)),o.specialityId&&(this.specialityId=o.specialityId,this.specializationService.getListBySpecialtyId(o.specialityId).subscribe(e=>this.specializationList=e))})}loadForm(){this.form=this.fb.group({fullName:["",S.required],documentName:[this.editData?this.editData.documentName:"",S.required],specializationId:[this.editData?this.editData.specializationId:"",S.required]})}saveSpecialization(){let t=this.form.get("specializationId")?.valid;if(!this.form.valid&&!this.form.touched){this.tosterService.customToast("Please fill all the required fields!","warning");return}if(!t){this.tosterService.customToast("Please select your specialization!","warning");return}if(this.fileNames.length==0){this.tosterService.customToast("Please upload your document!","warning");return}let o=this.form.value,e=F(_({},o),{doctorProfileId:this.doctorId,specialityId:this.specialityId,documentName:this.selectedSpFileName});if(!this.editData)this.doctorSpecializationService.create(e).subscribe(m=>{if(m){if(this.fileList.length>0)for(let c of this.fileList){this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString());let u=c;this.fileData.append(c.name,u),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(x=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},x=>{console.log(x)})}this.tosterService.customToast("Successfully Saved!","success"),this.dialogRef.close(!0)}else this.dialogRef.close(!1),this.tosterService.customToast("Something went wrong! Please contact your administrator.","error")});else{let m=[],c=this.editData;for(let u in e)e.hasOwnProperty(u)&&e[u]!==c[u]&&m.push(u);if(m.length<1){this.dialogRef.close(!1);return}else this.doctorSpecializationService.update(F(_({},e),{id:this.editData.id})).subscribe(u=>{if(u){if(this.fileList.length>0)for(let x of this.fileList){this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString());let D=x;this.fileData.append(x.name,D),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(j=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},j=>{console.log(j)})}this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)}else this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1)})}}uploadDocuments(){if(this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorSpecialityDoc\\"+this.doctorId.toString()),this.fileList.length>0){for(let t of this.fileList){let o=t;this.fileData.append(t.name,o)}this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(t=>{this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!1),console.log(t)})}}onFileChanged(t){this.fileList=[],this.fileNames=[];for(var o=0;o<=t.target.files.length-1;o++){var e=t.target.files[o];this.fileList.push(e),this.fileNames.push(e.name),this.selectedSpFileName=e.name}this.fileList.length>0&&this.checkFileValidation(t),this.attachment.nativeElement.value=""}removeSelectedFile(t){this.fileNames.splice(t,1),this.fileList.splice(t,1)}checkFileValidation(t){let o=t.target.files.length;if(o>0){var e=["image/png","image/jpeg","image/jpg","application/pdf"];let m=t.target.files;this.fileList=Array.from(m);for(let c=0;c<o;c++)m[c].size>5242880&&(this.fileNames.splice(c,1),this.fileList.splice(c,1),this.tosterService.customToast("Maximum 5MB Accepted","warning")),e.indexOf(m[c].type.toLowerCase())>=0||(this.fileNames.splice(c,1),this.fileList.splice(c,1),this.tosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}};n.\u0275fac=function(o){return new(o||n)(d(A),d(Z),d(N),d(xe),d(ge),d(C),d(I),d(ce),d(pe))},n.\u0275cmp=y({type:n,selectors:[["app-specialization-dialog"]],viewQuery:function(o,e){if(o&1&&M(ii,5),o&2){let m;O(m=R())&&(e.attachment=m.first)}},decls:43,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","specializationId","name","specializationId","id","specializationId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","",1,"font-semibold","text-slate-300"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["readonly","","formControlName","fullName","type","text","name","fullName","id","fullName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","formControlName","documentName","type","text","name","documentName","id","documentName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md",3,"value"],[1,"grid","space-y-2","w-full","px-3","sm:w-full"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg,.png,.pdf",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"btn-secondary","border","border-transparent","mt-5",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"h1",1),f(2,"i",2),l(3),i(),r(4,"button",3),b("click",function(){return e.dialogRef.close(!0)}),l(5,"Close"),i()(),r(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),l(12," Your Specialization "),i(),r(13,"select",10)(14,"option",11),l(15,"Select Specialization"),i(),g(16,oi,2,2,"option",12),i()()(),r(17,"div",7)(18,"div",8)(19,"label",13),l(20," Doctor Name "),i(),f(21,"input",14),i()(),r(22,"div",7)(23,"div",8)(24,"label",13),l(25," Document Name "),i(),f(26,"input",15),i()(),r(27,"div",16)(28,"label",17),l(29,"Attach Your Speciality Document"),i(),r(30,"div",18)(31,"label",19)(32,"div",20)(33,"div",21),f(34,"img",22),i(),r(35,"p",23)(36,"span",24),l(37,"Click here to select your file!"),i()()(),r(38,"input",25,26),b("change",function(c){return e.onFileChanged(c)}),i()()()()(),r(41,"button",27),b("click",function(){return e.saveSpecialization()}),l(42),i()()()),o&2&&(s(3),v(" ",e.editData?"Update":"Add"," Specialization "),s(4),p("formGroup",e.form),s(9),p("ngForOf",e.specializationList),s(10),w("value",e.selectedSpFileName),s(16),v(" ",e.editData?"Update":"Submit",""))},dependencies:[E,z,Q,Y,U,G,V,L,q,$]});let a=n;return a})();function ri(a,n){if(a&1){let h=le();r(0,"tr",15)(1,"td",16),l(2),i(),r(3,"td",17),l(4),i(),r(5,"td",17),l(6),i(),r(7,"td",17),l(8),i(),r(9,"td",17)(10,"a",18),b("click",function(){let e=ne(h).$implicit,m=se();return ae(m.handleSpecializationEdit(e))}),l(11,"Edit Specialization"),i()()()}if(a&2){let h=n.$implicit,t=n.index;s(2),v(" ",t+1," "),s(2),v(" ",h.specialityName," "),s(2),v(" ",h.specializationName," "),s(2),v(" ",h.documentName," ")}}var Ee=(()=>{let n=class n{constructor(t,o,e,m,c,u,x){this.dialog=t,this.doctorSpecializationService=o,this.doctorSpeciality=e,this.specializationService=m,this.normalAuth=c,this.doctorProfileService=u,this.doctorDocService=x,this.allSpecializations=[],this.specialityName="",this.specializationName="",this.specialityId="",this.subs=new K}ngOnInit(){let t=this.normalAuth.authInfo().id,o=this.normalAuth.authInfo().specialityId;t&&o&&(this.doctorId=t,this.specialityId=o,this.doctorSpeciality.get(this.specialityId).subscribe(e=>{this.specialityName=e.specialityName}),this.combineObservables(this.doctorId,o))}combineObservables(t,o){let e=this.doctorSpecializationService.getListByDoctorIdSpId(t,o),m=this.doctorDocService.getDocumentInfoByEntityTypeAndEntityIdAndAttachmentType("Doctor",this.doctorId,"DoctorSpecialityDoc");$e([e,m]).subscribe(([c,u])=>{this.allSpecializations=c})}getDoctorSpecializationList(t,o){this.doctorSpecializationService.getListByDoctorIdSpId(t,o).subscribe(e=>{this.allSpecializations=e})}getSpecializations(t){return this.specializationService.getBySpecialityId(t).subscribe(o=>{this.specializationName=o.specializationName})}openDialog(){this.dialog.open(Te,{width:"40vw"}).afterClosed().subscribe(o=>{o==!0&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}handleSpecializationEdit(t){this.dialog.open(Te,{data:t,width:"40vw"}).afterClosed().subscribe(o=>{o==!0&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}};n.\u0275fac=function(o){return new(o||n)(d(H),d(ge),d(be),d(xe),d(I),d(C),d(ve))},n.\u0275cmp=y({type:n,selectors:[["app-specialization-info"]],decls:28,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"w-full","mt-3"],[1,"relative","overflow-x-auto","shadow-md","w-full","sm:rounded-lg"],[1,"flex","items-center","justify-between","pb-4","bg-white"],[1,"w-full","text-sm","text-left","text-gray-500","border-[1px]"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"w-4","p-4"],[1,"px-6","py-4"],[1,"font-medium","text-blue-600","hover:underline",3,"click"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),f(5,"i",5),l(6," Skill & Specializations "),i(),r(7,"button",6),b("click",function(){return e.openDialog()}),f(8,"i",7),l(9," Add Specialization "),i()(),r(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),l(17,"ID"),i(),r(18,"th",13),l(19,"Specialty"),i(),r(20,"th",13),l(21,"Specialization"),i(),r(22,"th",13),l(23,"Documents"),i(),r(24,"th",13),l(25,"Action"),i()()(),r(26,"tbody"),g(27,ri,12,4,"tr",14),i()()()()()()()()),o&2&&(s(27),p("ngForOf",e.allSpecializations))},dependencies:[E]});let a=n;return a})();var Ce=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=y({type:n,selectors:[["app-documents"]],decls:29,vars:0,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"flex","flex-wrap","w-full","justify-between","row-gap-1"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),f(5,"i",5),l(6," Documents Upload"),i()(),r(7,"div",6)(8,"form",7)(9,"div",8)(10,"label",9),l(11,"Attach NID/Passport Document"),i(),r(12,"div",10)(13,"label",11)(14,"div",12)(15,"div",13),f(16,"img",14),i(),r(17,"p",15)(18,"span",16),l(19,"Click here to select your file!"),i()()(),f(20,"input",17,18),i()()(),r(23,"p",19)(24,"span"),l(25,"File type: jpg and jpeg of images"),i()(),r(26,"div")(27,"button",20),l(28," Update "),i()()()()()()())},dependencies:[z,L,Je]});let a=n;return a})();var li=["attachments"],vt=(()=>{let n=class n{constructor(t,o,e,m,c,u,x,D,j,ie){this._fb=t,this.doctorProfileService=o,this.doctorProfilePicService=e,this._router=m,this.TosterService=c,this.normalAuth=u,this.dialog=x,this.LoaderService=D,this.UserinfoStateService=j,this.profilePicService=ie,this.getProfileInfo=new B,this.animationDirection="right",this.isLoading=!1,this.doctorTitleList=[],this.activeTab="",this.subs=new K,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${P.apis.default.url}/api`,this.picUrl=`${P.apis.default.url}/`,this.firstFormGroup=this._fb.group({firstCtrl:["",S.required]}),this.secondFormGroup=this._fb.group({secondCtrl:["",S.required]}),this.isLinear=!1}ngOnInit(){let t=this.normalAuth.authInfo();this.doctorId=t.id,t.id&&this.UserinfoStateService.getProfileInfo(t.id,t.userType),this.doctorTitleList=J.getEnumList(Se);let o=this._router.url;this.getLastPathSegment(o),this.UserinfoStateService.getData().subscribe(e=>this.profileInfo=e),this.getProfilePic()}getTitle(t){return this.doctorTitleList.find(e=>e.id==t)?.name}handleFormData(t){let o=_({},t),e=[];for(let m in t)t.hasOwnProperty(m)&&t[m]!==this.profileInfo[m]&&e.push(m);e.length===0?(this.TosterService.customToast("Nothing has changed","warning"),this.isLoading=!1):(this.isLoading=!0,this.doctorProfileService.updateDocotrProfile(o).subscribe(m=>{this.isLoading=!1;let c="";if(e.length>0)if(e.length>1){let u=e.pop();c=`${e.join(", ")} and ${u} Successfully Updated!`}else c=`${e[0]} Successfully Updated! `;this.TosterService.customToast(c,"success"),this.UserinfoStateService.getProfileInfo(this.doctorId,"doctor"),this.getProfilePic()},m=>{this.isLoading=!1,this.TosterService.customToast(m.message,"error")}))}getLastPathSegment(t){let o=t.split("/"),e=o[o.length-1];e=="basic-info"&&(this.activeTab="0"),e=="education"&&(this.activeTab="1"),e=="specialization"&&(this.activeTab="2"),e=="documents"&&(this.activeTab="3")}onchangeStep(t){t.selectedIndex==0&&this._router.navigate(["doctor/profile-settings/basic-info"]),t.selectedIndex==1&&this._router.navigate(["doctor/profile-settings/education"]),t.selectedIndex==2&&this._router.navigate(["doctor/profile-settings/specialization"]),t.selectedIndex==3&&this._router.navigate(["doctor/profile-settings/documents"])}getProfilePic(){this.profilePicService.getProfilePic("Doctor",this.doctorId,"ProfilePicture").then(({profilePic:t,picUrl:o})=>{this.profilePic=t,this.url=o+this.profilePic,this.isLoading=!1}).catch(t=>{this.TosterService.customToast("Error getting profile picture:",t),this.isLoading=!1})}openDialog(){this.dialog.open(ht,{width:"30vw"}).afterClosed().subscribe(o=>{o==!0&&this.getProfilePic()})}};n.\u0275fac=function(o){return new(o||n)(d(A),d(C),d(ve),d(Ze),d(N),d(I),d(H),d(fe),d(ye),d(ct))},n.\u0275cmp=y({type:n,selectors:[["app-profile-settings"]],viewQuery:function(o,e){if(o&1&&M(li,5),o&2){let m;O(m=R())&&(e.attachment=m.first)}},outputs:{getProfileInfo:"getProfileInfo"},decls:29,vars:8,consts:[[1,"doctor-dashboard_midcontent_container"],[1,"mx-auto"],[1,"bg-white","relative","shadow","rounded-lg","w-full","mx-auto"],[1,"p-10","pt-8"],[1,"flex","justify-between","items-center"],[1,"flex","justify-left","items-center","gap-6"],[1,"relative","w-[128px]","h-[128px]","bg-white","transition"],["alt","avater",1,"object-cover","rounded-lg","mx-auto","w-32","h-32","shadow-md","border-4","border-white",3,"src"],["type","file","accept",".gif,.jpg,.jpeg,.png,.doc,.docx,.pdf","multiple","",2,"display","none"],["attachments","","fileInput",""],[1,"duration-200","transform","hover:scale-110","flex","justify-center","items-center","cursor-pointer","absolute","-bottom-[8px]","-right-[8px]","w-[30px]","h-[30px]","rounded-full","p-1","bg-white","z-20","border-[1px]",3,"click"],[1,"fa-solid","fa-camera","text-primary"],[1,"font-bold","text-left","text-3xl","text-gray-900","dashbord-heading-text"],[1,"text-left","text-sm","text-gray-400","mt-2","font-medium","dashbord-heading-subtext"],[1,"mt-7","mx-auto",3,"selectedIndex","selectionChange"],["stepper",""],["label","Basic Info",3,"stepControl"],[3,"isLoading","formDataEvent"],["label","Education",3,"stepControl","ariaSelected"],["label","Specializations"],["label","Documents"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),f(8,"img",7)(9,"input",8,9),r(12,"div",10),b("click",function(){return e.openDialog()}),f(13,"i",11),i()(),r(14,"div")(15,"h1",12),l(16),i(),r(17,"p",13),l(18),i()()()(),r(19,"mat-stepper",14,15),b("selectionChange",function(c){return e.onchangeStep(c)}),r(21,"mat-step",16)(22,"app-basic-info",17),b("formDataEvent",function(c){return e.handleFormData(c)}),i()(),r(23,"mat-step",18),f(24,"app-education-info"),i(),r(25,"mat-step",19),f(26,"app-specialization-info"),i(),r(27,"mat-step",20),f(28,"app-documents"),i()()()()()()()),o&2&&(s(8),p("src",e.url?e.url:"assets/doctor/avater.png",Ge),s(8),v(" ",e.profileInfo==null?null:e.profileInfo.fullName," "),s(2),v(" ",e.profileInfo==null?null:e.profileInfo.specialityName," "),s(),p("selectedIndex",e.activeTab),s(2),p("stepControl",e.firstFormGroup),s(),p("isLoading",e.isLoading),s(),p("stepControl",e.secondFormGroup)("ariaSelected",e.activeTab))},dependencies:[ot,rt,_e,we,Ee,Ce]});let a=n;return a})();var bt=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=re({type:n}),n.\u0275inj=oe({imports:[de]});let a=n;return a})();var si=[{path:"",component:vt,children:[{path:"",redirectTo:"basic-info",pathMatch:"full"},{path:"basic-info",component:_e},{path:"education",component:we},{path:"specialization",component:Ee},{path:"documents",component:Ce}]}],To=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=re({type:n}),n.\u0275inj=oe({providers:[me],imports:[de,He.forChild(si),st,dt,pt,at,lt,bt]});let a=n;return a})();export{To as ProfileSettingsModule};
