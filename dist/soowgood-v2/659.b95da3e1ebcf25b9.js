"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[659],{659:(Y,h,s)=>{s.r(h),s.d(h,{DashboardModule:()=>O});var l=s(6814),t=s(9212),u=s(6093),g=s(9483),m=s(8128),r=s(6223),p=s(8184),f=s(475),b=s(9315),v=s(7960),x=s(4661),D=s(902),y=s(7700),Z=s(9802);function A(e,n){1&e&&t._uU(0," Loading... ")}function T(e,n){1&e&&t._uU(0,"Consult Now")}let L=(()=>{class e{constructor(o,i,a,d){this.DoctorScheduleService=o,this.FinancialSetupService=i,this.dialog=a,this.TosterService=d,this.isLoading=!1}onClickConsultNow(o){if(o.id){this.isLoading=!0;const i=this.DoctorScheduleService.getDetailsScheduleListByDoctorId(o.id),a=this.FinancialSetupService.getList();(0,b.D)([i,a]).subscribe(([d,c])=>{d?.length>0&&o?(this.isLoading=!1,this.dialog.open(v.G,{maxWidth:600,minWidth:450,data:{doctorDetails:o,doctorScheduleInfo:d,isAuthUser:!0,userAccess:!0,serviceFeeList:c}})):(this.isLoading=!1,this.TosterService.customToast("No Details/Schedule found","warning"))})}else this.isLoading=!1,this.TosterService.customToast("No Details/Schedule found","warning")}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(x.P),t.Y36(D.I),t.Y36(y.uw),t.Y36(Z.G))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-live-doctor-card"]],inputs:{details:"details"},decls:10,vars:5,consts:[[1,"bg-gray-50","rounded-b"],[1,"border-[1px]","p-3","flex","flex-col","gap-3"],[1,"text-sm","pt-2","leading-4","text-gray-600"],["tabindex","0",1,"focus:outline-none","text-[15px]","md:text-[16px]","font-semibold","leading-5","text-gray-800","mt-2"],[1,"bg-secondary/5","text-secondary","font-semibold","h-fit","py-1.5","border-secondary/50","border-[1px]","px-3","rounded-sm","text-[14px]",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),t._uU(4),t.qZA(),t.TgZ(5,"a",3),t._uU(6),t.qZA()(),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.onClickConsultNow(a.details)}),t.YNc(8,A,1,0)(9,T,1,0),t.qZA()()()),2&i&&(t.xp6(4),t.hij(" ",a.details.specialityName," "),t.xp6(2),t.lnq(" ",a.details.doctorTitleName," ","."," ",a.details.fullName," "),t.xp6(2),t.um2(8,a.isLoading?8:9))}})}return e})();function C(e,n){1&e&&t._UZ(0,"app-dashboard-statisticscard",22),2&e&&t.Q6J("details",n.$implicit)}function S(e,n){if(1&e&&(t.TgZ(0,"tr",27)(1,"td",28),t._uU(2),t.qZA(),t.TgZ(3,"td",28),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",28),t._uU(7),t.qZA(),t.TgZ(8,"td",28),t._uU(9),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.hij(" ",o.doctorName," "),t.xp6(2),t.hij(" ",t.lcZ(5,4,o.appointmentDate)," "),t.xp6(3),t.hij(" ",o.appointmentTime," "),t.xp6(2),t.hij(" ",o.appointmentSerial," ")}}function U(e,n){if(1&e&&(t.TgZ(0,"table",23)(1,"thead",24)(2,"tr")(3,"th",25),t._uU(4,"Doctor Name"),t.qZA(),t.TgZ(5,"th",25),t._uU(6,"App. Day"),t.qZA(),t.TgZ(7,"th",25),t._uU(8,"App. Time"),t.qZA(),t.TgZ(9,"th",25),t._uU(10,"Serial No"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,S,10,6,"tr",26),t.qZA()()),2&e){const o=t.oxw();t.xp6(12),t.Q6J("ngForOf",o.appointmentList)}}function N(e,n){1&e&&(t.TgZ(0,"div",29),t._uU(1," Data is Loading... "),t.qZA())}function w(e,n){1&e&&t._UZ(0,"app-dashboard-live-doctor-card",22),2&e&&t.Q6J("details",n.$implicit)}let F=(()=>{class e{constructor(o,i,a){this.DoctorStateService=o,this.NormalAuth=i,this.DashboardService=a,this.showWarning=!1,this.currentOnlineDoctorList=[],this.details=[{title:"Total appointments",data:0},{title:"Total Pay",data:"",currency:!0},{title:"Loyalty Points",data:""}],this.appointmentList=[],this.selectedValue="All",this.aptLoading=!1,this.isAuthUser=this.NormalAuth.authInfo()?.id,this.userType=this.NormalAuth.authInfo()?.userType}ngOnInit(){this.getDashboardAppointment(this.selectedValue),this.getDashboardStatisticData(this.isAuthUser);try{this.DoctorStateService.getCurrentlyOnlineDoctorList().subscribe({next:o=>{this.currentOnlineDoctorList=o}})}catch{}}getDashboardStatisticData(o){this.DashboardService.getDashboadDataForPatient(o,"patient").subscribe({next:i=>{this.details[0].data=Number(i.totalAppointment),this.details[1].data=Number(i.totalFeeAmount),this.details[2].data=Number(i.doctorLoyaltypoints)}})}getDashboardAppointment(o){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForPatient(this.isAuthUser,"patient",o).subscribe({next:i=>{this.appointmentList=i,this.aptLoading=!1},error:i=>{console.log(i),this.aptLoading=!1}})}changeSelection(o){o&&this.getDashboardAppointment(o.target.value)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(u.f),t.Y36(g.e),t.Y36(m.s))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:33,vars:6,consts:[[1,"doctor-dashboard_midcontent_container","p-4","relative"],[1,"top-bar","grid","grid-cols-1","lg:grid-cols-[9fr,3fr]","gap-6"],[1,"w-full"],[1,"top-box","mt-2","grid","grid-cols-1","md:grid-cols-2","2xl:grid-cols-3","max-w-[100%]","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border"],[1,"flex","justify-between","border-b-[1px]","px-5","py-3","items-center"],[1,"dashbord-heading-text","h-fit"],[3,"ngModel","value","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","w-full text-sm text-left rounded-lg text-gray-500 border-[1px]",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"dashboard_today_appointment","lg:sticky","lg:top-20","h-screen","rounded-lg","box-border"],[1,"mt-4","border-[1px]"],[1,"flex","items-center","justify-between"],[1,"dashbord-heading-text","bg-secondary/10","text-secondary","border-b-[1px]","w-full","px-5","py-2"],[1,"fa-solid","fa-house-signal","mr-2"],[1,"max-h-[calc(100vh-100px)]","overflow-y-scroll","custom-scrollbar"],[1,"max-w-full","w-full","shadow-lg","p-3"],[3,"details"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","border-[1px]"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,C,1,1,"app-dashboard-statisticscard",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"h2",7),t._uU(8,"Appointments Activity"),t.qZA(),t.TgZ(9,"div")(10,"select",8),t.NdJ("change",function(c){return a.changeSelection(c)}),t.TgZ(11,"option",9),t._uU(12,"All"),t.qZA(),t.TgZ(13,"option",10),t._uU(14,"Confirmed"),t.qZA(),t.TgZ(15,"option",11),t._uU(16,"Completed"),t.qZA()()(),t.TgZ(17,"button",12),t._uU(18," View all "),t.qZA()(),t.YNc(19,U,13,1,"table",13)(20,N,2,0,"div",14),t.qZA()(),t.TgZ(21,"div",15)(22,"div",16)(23,"div",17)(24,"h2",18),t._UZ(25,"i",19),t._uU(26," Live Doctor "),t.TgZ(27,"span"),t._uU(28),t.qZA()()(),t.TgZ(29,"div",20)(30,"div",21),t.SjG(31,w,1,1,"app-dashboard-live-doctor-card",22,t.ikw),t.qZA()()()()()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",a.details),t.xp6(6),t.Q6J("ngModel",a.selectedValue)("value",a.selectedValue),t.xp6(9),t.Q6J("ngIf",!a.aptLoading),t.xp6(),t.Q6J("ngIf",a.aptLoading),t.xp6(8),t.hij("(",a.currentOnlineDoctorList.length,")"),t.xp6(3),t.wJu(a.currentOnlineDoctorList))},dependencies:[l.sg,l.O5,r.YN,r.Kr,r.EJ,r.JJ,r.On,p.rH,f.g,L,l.uU]})}return e})();var J=s(6335);let j=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[l.ez]})}return e})();const _=[{path:"",component:F}];let O=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[l.ez,r.u5,p.Bz.forChild(_),J.B,j]})}return e})()}}]);