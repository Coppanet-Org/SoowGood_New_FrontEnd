import{a as ee}from"./chunk-QOS45KNY.js";import{a as Y,b as Z}from"./chunk-GO5UKO7J.js";import{a as Q}from"./chunk-BKVAIQO7.js";import{a as X}from"./chunk-ESAKDTA6.js";import"./chunk-EJ55YEXY.js";import"./chunk-7LZRNLM6.js";import"./chunk-IRVLO3WE.js";import"./chunk-EFF4UWHC.js";import{c as W}from"./chunk-XTINLLUJ.js";import"./chunk-46JTLTO3.js";import"./chunk-YTSUX7O2.js";import"./chunk-4DRUEFLH.js";import{l as z,q as H,z as K}from"./chunk-ZTTR5QA2.js";import{a as q}from"./chunk-7LPMGZKA.js";import{D as v,E as G,Z as J,h as P,m as U,v as $,w as R,x as B}from"./chunk-FSNV7SJ3.js";import{Db as F,Eb as T,Ha as h,Ma as p,S as g,Vb as M,Wb as j,X as E,Xa as i,Y as x,Ya as o,Za as y,aa as _,ac as k,ba as I,bb as A,cc as b,fb as S,hb as D,r as w,tb as a,vb as u,vc as O,wb as L,xc as V,ya as d,za as m}from"./chunk-TXQBTV46.js";import"./chunk-5G567QLT.js";function ne(t,e){if(t&1&&y(0,"app-dashboard-statisticscard",23),t&2){let l=e.$implicit;p("details",l)}}function re(t,e){if(t&1&&(i(0,"tr",28)(1,"td",29),a(2),o(),i(3,"td",29),a(4),F(5,"date"),o(),i(6,"td",29),a(7),o(),i(8,"td",29),a(9),o()()),t&2){let l=e.$implicit;d(2),u(" ",l.doctorName," "),d(2),u(" ",T(5,4,l.appointmentDate)," "),d(3),u(" ",l.appointmentTime," "),d(2),u(" ",l.appointmentSerial," ")}}function ae(t,e){if(t&1&&(i(0,"table",24)(1,"thead",25)(2,"tr")(3,"th",26),a(4,"Doctor Name"),o(),i(5,"th",26),a(6,"App. Day"),o(),i(7,"th",26),a(8,"App. Time"),o(),i(9,"th",26),a(10,"Serial No"),o()()(),i(11,"tbody"),h(12,re,10,6,"tr",27),o()()),t&2){let l=D();d(12),p("ngForOf",l.appointmentList)}}function le(t,e){t&1&&(i(0,"div",30),a(1," Data is Loading... "),o())}function se(t,e){if(t&1){let l=A();i(0,"div",31)(1,"div",32)(2,"div")(3,"p",33),a(4),o(),i(5,"a",34),a(6),o()(),i(7,"button",35),S("click",function(){let s=_(l).$implicit,c=D();return I(c.onClickConsultNow(s))}),a(8," Consult Now "),o()()()}if(t&2){let l=e.$implicit;d(4),u(" ",l.specialityName," "),d(2),L(" ",l.doctorTitleName,". ",l.fullName," ")}}var ie=(()=>{let e=class e{constructor(n,r,s,c,f,C,N){this.DoctorStateService=n,this.DoctorScheduleService=r,this.dialog=s,this.NormalAuth=c,this.TosterService=f,this.DashboardService=C,this.FinancialSetupService=N,this.showWarning=!1,this.currentOnlineDoctorList=[],this.details=[{title:"Total appointments",data:0},{title:"Total Pay",data:0,currency:!0},{title:"Loyalty Points",data:""}],this.isLoading=!1,this.appointmentList=[],this.selectedValue="All",this.aptLoading=!1,this.btnLoading=!1,this.isAuthUser=this.NormalAuth.authInfo()?.id,this.userType=this.NormalAuth.authInfo()?.userType}ngOnInit(){this.getDashboardAppointment(this.selectedValue),this.getDashboardStatisticData(this.isAuthUser);try{this.DoctorStateService.getCurrentlyOnlineDoctorList().subscribe({next:n=>{this.currentOnlineDoctorList=n}})}catch{}}getDashboardStatisticData(n){this.DashboardService.getDashboadDataForPatient(n,"agent").subscribe({next:r=>{this.details[0].data=Number(r.totalAppointment),this.details[1].data=Number(r.totalFeeAmount),this.details[2].data=Number(r.doctorLoyaltypoints)}})}getDashboardAppointment(n){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForPatient(this.isAuthUser,"agent",n).subscribe({next:r=>{this.appointmentList=r,this.aptLoading=!1},error:r=>{console.log(r),this.aptLoading=!1}})}changeSelection(n){if(n){this.getDashboardAppointment(n.target.value);return}}onClickConsultNow(n){if(this.btnLoading=!0,n.id){let r=this.DoctorScheduleService.getDetailsScheduleListByDoctorId(n.id),s=this.FinancialSetupService.getList();w([r,s]).subscribe(([c,f])=>{c?.length>0&&n?this.dialog.open(X,{maxWidth:600,minWidth:450,data:{doctorDetails:n,doctorScheduleInfo:c,isAuthUser:!!this.isAuthUser,userAccess:this.userType!="doctor",serviceFeeList:f}}).afterClosed().subscribe(N=>{}):this.TosterService.customToast("No Details/Schedule found","warning")})}}};e.\u0275fac=function(r){return new(r||e)(m(Q),m(z),m(W),m(q),m(K),m(J),m(H))},e.\u0275cmp=E({type:e,selectors:[["app-dashboard"]],decls:32,vars:7,consts:[[1,"doctor-dashboard_midcontent_container","p-4"],[1,"top-bar","flex","justify-between","relative"],[1,"w-full","min-w-[70%]","max-w-[70%]"],[1,"top-box","mt-2","grid","grid-cols-1","md:grid-cols-2","2xl:grid-cols-3","max-w-[100%]","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border"],[1,"flex","justify-between","border-b-[1px]","px-5","py-3","items-center"],[1,"dashbord-heading-text","h-fit"],[3,"ngModel","value","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","w-full text-sm text-left rounded-lg text-gray-500 border-[1px]",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"dashboard_today_appointment","min-w-[28%]","max-w-[28%]","rounded-lg","box-border"],[1,"mt-4","border-[1px]","max-h-screen","overflow-y-scroll","relative"],[1,"flex","items-center","justify-between","sticky","top-0"],[1,"dashbord-heading-text","bg-secondary/10","backdrop-blur-xl","text-secondary","border-b-[1px]","w-full","px-5","py-2"],[1,"fa-solid","fa-house-signal","mr-2"],[1,"flex","items-center","justify-center"],[1,"max-w-full","w-full","shadow-lg","p-3"],["class","bg-gray-50 rounded-b",4,"ngFor","ngForOf"],[3,"details"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","border-[1px]"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"],[1,"bg-gray-50","rounded-b"],[1,"border-[1px]","p-3"],[1,"text-sm","pt-2","leading-4","text-gray-600"],["tabindex","0",1,"focus:outline-none","text-lg","font-medium","leading-5","text-primary","mt-2"],[1,"bg-green-700/90","mt-2","text-white","h-fit","py-1","px-3","rounded-sm","text-[14px]",3,"click"]],template:function(r,s){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h(4,ne,1,1,"app-dashboard-statisticscard",4),o(),i(5,"div",5)(6,"div",6)(7,"h2",7),a(8,"Appointments Activity"),o(),i(9,"div")(10,"select",8),S("change",function(f){return s.changeSelection(f)}),i(11,"option",9),a(12,"All"),o(),i(13,"option",10),a(14,"Confirmed"),o(),i(15,"option",11),a(16,"Completed"),o()()(),i(17,"button",12),a(18," View all "),o()(),h(19,ae,13,1,"table",13)(20,le,2,0,"div",14),o()(),i(21,"div",15)(22,"div",16)(23,"div",17)(24,"h2",18),y(25,"i",19),a(26," Live Doctor "),i(27,"span"),a(28),o()()(),i(29,"div",20)(30,"div",21),h(31,se,9,3,"div",22),o()()()()()()),r&2&&(d(4),p("ngForOf",s.details),d(6),p("ngModel",s.selectedValue)("value",s.selectedValue),d(9),p("ngIf",!s.aptLoading),d(),p("ngIf",s.aptLoading),d(8),u("(",s.currentOnlineDoctorList.length,")"),d(3),p("ngForOf",s.currentOnlineDoctorList))},dependencies:[Y,M,j,O,R,B,$,P,U,k]});let t=e;return t})();var oe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=x({type:e}),e.\u0275inj=g({imports:[b,v,G]});let t=e;return t})();var de=[{path:"",component:ie}],Oe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=x({type:e}),e.\u0275inj=g({imports:[Z,b,V.forChild(de),ee,oe,v]});let t=e;return t})();export{Oe as DashboardModule};
