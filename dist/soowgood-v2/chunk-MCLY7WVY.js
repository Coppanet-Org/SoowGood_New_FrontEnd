import{a as f}from"./chunk-BC4RU75W.js";import{a as j,b as D,k as L}from"./chunk-BIUPZTC3.js";import{x as R,y as V}from"./chunk-MSMBLCDC.js";import{C as N,E as M,c as T,e as P,h as x,i as k,n as C,r as I,u as E}from"./chunk-MTAS266H.js";import{Ha as g,Ma as p,Qa as h,S as b,Ub as S,Wa as r,X as v,Xa as i,Y as _,Ya as y,ac as F,eb as c,sb as m,ya as d,za as w}from"./chunk-BMLH63KZ.js";function A(o,t){o&1&&(r(0,"mat-error"),m(1," Confirm password is required. "),i())}function G(o,t){o&1&&(r(0,"mat-error"),m(1," Password not matched. "),i())}function U(o,t){o&1&&(r(0,"mat-hint",17),m(1,"hint: Password@123"),i())}var W=(()=>{let t=class t{constructor(n,s,e){this.fb=n,this.UserAccountsService=s,this.ToasterService=e,this.changePasswordShow=!1,this.resetLoading=!1,this.resetFormSubmitted=!1,this.passwordFieldType="password",this.confirmPasswordFieldType="password"}ngOnInit(){this.loadForm()}loadForm(){this.resetPasswordForm=this.fb.group({newPassword:["",[P.required,f.isAtLeast6Characters,f.includesSpecialCharacter,f.includesNumber]],confirmPassword:["",P.required]},{validator:f.matchValidator})}resetPassword(){}confirmPassword(){this.resetFormSubmitted=!0,console.log(this.mobile),this.mobile||this.ToasterService.customToast("Mobile no not found. Please contact support team.","error");let n={userId:this.mobile,newPassword:this.resetPasswordForm.get("newPassword")?.value};if(!n.newPassword&&!this.resetPasswordForm.get("confirmPassword")?.value){this.ToasterService.customToast("Please enter your new password","warning");return}console.log(n),this.resetLoading=!0,this.UserAccountsService.resetPasswordByInputDto(n).subscribe({next:s=>{s.success?(this.ToasterService.customToast(String(s.message),"success"),this.resetLoading=!1,this.resetFormSubmitted=!1):(this.ToasterService.customToast(String(s.message),"error"),this.resetFormSubmitted=!1,this.resetLoading=!1)},error:s=>{this.ToasterService.customToast(String(s.message),"error"),this.resetFormSubmitted=!1,this.resetLoading=!1}})}passwordVisibility(n){n==="password"?this.passwordFieldType=this.passwordFieldType==="password"?"text":"password":n==="confirmPassword"&&(this.confirmPasswordFieldType=this.confirmPasswordFieldType==="password"?"text":"password")}};t.\u0275fac=function(s){return new(s||t)(w(N),w(R),w(V))},t.\u0275cmp=v({type:t,selectors:[["app-reset-password"]],inputs:{mobile:"mobile"},decls:30,vars:10,consts:[[1,"max-w-[350px]"],[1,"mt-8","space-y-4","lg:mt-7","md:space-y-5",3,"formGroup"],["for","confirm-password",1,"block","mb-2","text-sm","font-medium","text-gray-800"],[1,"form_input","flex","justify-between"],["formControlName","newPassword","name","password","id","password","placeholder","Password",1,"outline-none","border-none","w-full",3,"type","keydown.enter"],[1,"cursor-pointer",3,"click"],["formControlName","confirmPassword","name","confirmPassword","id","confirmPassword","placeholder","Confirm Password",1,"outline-none","border-none","w-full",3,"type","keydown.enter"],[1,"flex","flex-col"],[4,"ngIf"],["class","text-xs text-red-500 font-normal","align","end",4,"ngIf"],[1,"flex","items-start","mt-4"],[1,"flex","items-center","h-5"],["id","newsletter","aria-describedby","newsletter","type","checkbox","required","",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300","dark:bg-gray-700","dark:border-gray-600","dark:focus:ring-primary-600","dark:ring-offset-gray-800"],[1,"ml-3","text-sm"],["for","newsletter",1,"font-light","text-gray-500","dark:text-gray-300"],[1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"],["type","submit",1,"w-full","text-white","bg-secondary","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"click"],["align","end",1,"text-xs","text-red-500","font-normal"]],template:function(s,e){if(s&1&&(r(0,"div",0)(1,"form",1)(2,"div")(3,"label",2),m(4,"New password"),i(),r(5,"div",3)(6,"input",4),c("keydown.enter",function(a){return a.preventDefault()}),i(),r(7,"button",5),c("click",function(){return e.passwordVisibility("password")}),y(8,"i"),i()()(),r(9,"div")(10,"label",2),m(11,"Confirm password"),i(),r(12,"div",3)(13,"input",6),c("keydown.enter",function(a){return a.preventDefault()}),i(),r(14,"button",5),c("click",function(){return e.passwordVisibility("password")}),y(15,"i"),i()(),r(16,"div",7),g(17,A,2,0,"mat-error",8)(18,G,2,0,"mat-error",8),i()(),g(19,U,2,0,"mat-hint",9),r(20,"div",10)(21,"div",11),y(22,"input",12),i(),r(23,"div",13)(24,"label",14),m(25,"I accept the "),r(26,"a",15),m(27,"Terms and Conditions"),i()()()(),r(28,"button",16),c("click",function(){return e.confirmPassword()}),m(29," Confirm passwod "),i()()()),s&2){let l,a,u;d(),p("formGroup",e.resetPasswordForm),d(5),p("type",e.passwordFieldType),d(2),h(e.passwordFieldType==="password"?"fa fa-eye-slash":"fa fa-eye"),d(5),p("type",e.passwordFieldType),d(2),h(e.passwordFieldType==="password"?"fa fa-eye-slash":"fa fa-eye"),d(2),p("ngIf",e.resetPasswordForm.dirty&&((l=e.resetPasswordForm.get("confirmPassword"))==null?null:l.hasError("required"))),d(),p("ngIf",e.resetPasswordForm.dirty&&((a=e.resetPasswordForm.get("confirmPassword"))==null?null:a.valid)&&((a=e.resetPasswordForm.get("confirmPassword"))==null?null:a.dirty)&&((a=e.resetPasswordForm.get("confirmPassword"))==null?null:a.errors)),d(),p("ngIf",((u=e.resetPasswordForm.get("newPassword"))==null?null:u.invalid)||((u=e.resetPasswordForm.get("newPassword"))==null?null:u.value)==="0")}},dependencies:[S,C,T,x,k,I,E,D,j]});let o=t;return o})();var re=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=_({type:t}),t.\u0275inj=b({imports:[F,M,L]});let o=t;return o})();export{W as a,re as b};
