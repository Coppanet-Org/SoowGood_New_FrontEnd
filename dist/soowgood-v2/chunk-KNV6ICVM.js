import{c as f,e as h,k as u,s as l}from"./chunk-VFYQ4BPW.js";import{a as c}from"./chunk-7LPMGZKA.js";import{R as a,U as s,e as o}from"./chunk-TXQBTV46.js";var P=(()=>{let e=class e{constructor(){this.isLoading=new o(!1)}sendLoaderState(t){this.isLoading.next(t)}getLoaderState(){return this.isLoading.asObservable()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var A=(()=>{let e=class e{constructor(t,i,r,m,p,v){this.LoaderService=t,this.DoctorProfileService=i,this.AgentProfileService=r,this.PatientProfileService=m,this.NormalAuth=p,this.AppointmentService=v,this.authenticateUserInfo=new o({}),this.userPatientInfo=new o([])}sendData(t){this.authenticateUserInfo.next(t)}getData(){return this.authenticateUserInfo.asObservable()}sendUserPatientData(t){this.userPatientInfo.next(t)}getUserPatientData(){return this.userPatientInfo.asObservable()}ngOnInit(){let t=this.NormalAuth.authInfo();console.log(t),t.id&&this.getProfileInfo(t.id,t.userType)}getProfileInfo(t,i){t&&(i=="doctor"&&this.DoctorProfileService.get(t).subscribe(r=>{this.sendData(r)}),i=="agent"&&this.AgentProfileService.get(t).subscribe(r=>{this.sendData(r)}),i=="patient"&&this.PatientProfileService.get(t).subscribe(r=>{this.sendData(r)}))}getUserPatientInfo(t,i){t&&(i==="patient"||i==="agent")&&this.PatientProfileService.getPatientListByUserProfileId(t,i).subscribe(r=>{this.sendUserPatientData(r),console.log(r)}),t&&i==="doctor"?this.AppointmentService.getPatientListByDoctorId(t).subscribe({next:r=>{this.sendUserPatientData(r)}}):this.sendUserPatientData(null)}};e.\u0275fac=function(i){return new(i||e)(s(P),s(u),s(f),s(l),s(c),s(h))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{P as a,A as b};
