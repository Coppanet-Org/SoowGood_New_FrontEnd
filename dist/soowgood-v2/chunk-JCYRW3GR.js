import{a as Q,b as X}from"./chunk-GO5UKO7J.js";import{a as H}from"./chunk-BKVAIQO7.js";import{a as K}from"./chunk-ESAKDTA6.js";import"./chunk-EJ55YEXY.js";import"./chunk-7LZRNLM6.js";import"./chunk-IRVLO3WE.js";import"./chunk-EFF4UWHC.js";import{c as R}from"./chunk-XTINLLUJ.js";import"./chunk-46JTLTO3.js";import"./chunk-YTSUX7O2.js";import"./chunk-4DRUEFLH.js";import{l as q,q as z,z as G}from"./chunk-ZTTR5QA2.js";import{a as W}from"./chunk-7LPMGZKA.js";import{D as B,Z as J,h as k,m as V,v as $,w as P,x as U}from"./chunk-FSNV7SJ3.js";import{Db as A,Eb as E,Ha as f,Ma as p,S as D,Vb as N,Wb as F,X as _,Xa as t,Y as w,Ya as e,Za as g,aa as C,ac as T,ba as L,bb as I,cc as O,fb as x,hb as b,r as y,tb as r,vb as m,vc as j,xc as M,ya as l,za as c}from"./chunk-TXQBTV46.js";import"./chunk-5G567QLT.js";function tt(n,i){if(n&1&&g(0,"app-dashboard-statisticscard",24),n&2){let d=i.$implicit;p("details",d)}}function et(n,i){if(n&1&&(t(0,"tr",29)(1,"td",30),r(2),e(),t(3,"td",30),r(4),A(5,"date"),e(),t(6,"td",30),r(7),e(),t(8,"td",30),r(9),e()()),n&2){let d=i.$implicit;l(2),m(" ",d.doctorName," "),l(2),m(" ",E(5,4,d.appointmentDate)," "),l(3),m(" ",d.appointmentTime," "),l(2),m(" ",d.appointmentSerial," ")}}function it(n,i){if(n&1&&(t(0,"table",25)(1,"thead",26)(2,"tr")(3,"th",27),r(4,"Doctor Name"),e(),t(5,"th",27),r(6,"App. Day"),e(),t(7,"th",27),r(8,"App. Time"),e(),t(9,"th",27),r(10,"Serial No"),e()()(),t(11,"tbody"),f(12,et,10,6,"tr",28),e()()),n&2){let d=b();l(12),p("ngForOf",d.appointmentList)}}function ot(n,i){n&1&&(t(0,"div",31),r(1," Data is Loading... "),e())}function nt(n,i){if(n&1){let d=I();t(0,"div",32)(1,"div",33)(2,"div")(3,"p",34),r(4),e(),t(5,"a",35),r(6),e()(),t(7,"button",36),x("click",function(){let s=C(d).$implicit,h=b();return L(h.onClickConsultNow(s))}),r(8," Consult Now "),e()()()}if(n&2){let d=i.$implicit;l(4),m(" ",d.specialityName," "),l(2),m(" ",d.fullName," ")}}var Y=(()=>{let i=class i{constructor(o,a,s,h,u,v,S){this.DoctorStateService=o,this.DoctorScheduleService=a,this.dialog=s,this.NormalAuth=h,this.TosterService=u,this.DashboardService=v,this.FinancialSetupService=S,this.showWarning=!1,this.currentOnlineDoctorList=[],this.details=[{title:"Total appointments",data:0},{title:"Total Pay",data:"",currency:!0},{title:"Loyalty Points",data:""}],this.isLoading=!1,this.appointmentList=[],this.selectedValue="All",this.aptLoading=!1,this.isAuthUser=this.NormalAuth.authInfo()?.id,this.userType=this.NormalAuth.authInfo()?.userType}ngOnInit(){this.getDashboardAppointment(this.selectedValue),this.getDashboardStatisticData(this.isAuthUser);try{this.DoctorStateService.getCurrentlyOnlineDoctorList().subscribe({next:o=>{this.currentOnlineDoctorList=o}})}catch{}}onClickConsultNow(o){this.openDialog(o)}openDialog(o){if(this.isLoading=!0,o.id){let a=this.DoctorScheduleService.getDetailsScheduleListByDoctorId(o.id),s=this.FinancialSetupService.getList();y([a,s]).subscribe(([h,u])=>{h?.length>0&&o?this.dialog.open(K,{maxWidth:600,minWidth:450,data:{doctorDetails:o,doctorScheduleInfo:h,isAuthUser:!!this.isAuthUser,userAccess:this.userType!="doctor",serviceFeeList:u}}).afterClosed().subscribe(S=>{}):this.TosterService.customToast("No Details/Schedule found","warning")})}}getDashboardStatisticData(o){this.DashboardService.getDashboadDataForPatient(o,"patient").subscribe({next:a=>{this.details[0].data=Number(a.totalAppointment),this.details[1].data=Number(a.totalFeeAmount),this.details[2].data=Number(a.doctorLoyaltypoints)}})}getDashboardAppointment(o){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForPatient(this.isAuthUser,"patient",o).subscribe({next:a=>{this.appointmentList=a,this.aptLoading=!1},error:a=>{console.log(a),this.aptLoading=!1}})}changeSelection(o){if(o){this.getDashboardAppointment(o.target.value);return}}};i.\u0275fac=function(a){return new(a||i)(c(H),c(q),c(R),c(W),c(G),c(J),c(z))},i.\u0275cmp=_({type:i,selectors:[["app-dashboard"]],decls:33,vars:7,consts:[[1,"doctor-dashboard_midcontent_container","p-4"],[1,"top-bar","flex","justify-between"],[1,"w-full","min-w-[70%]","max-w-[70%]"],[1,"top-box","mt-2","grid","grid-cols-1","md:grid-cols-2","2xl:grid-cols-3","max-w-[100%]","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border"],[1,"flex","justify-between","border-b-[1px]","px-5","py-3","items-center"],[1,"dashbord-heading-text","h-fit"],[3,"ngModel","value","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","w-full text-sm text-left rounded-lg text-gray-500 border-[1px]",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"dashboard_today_appointment","min-w-[28%]","max-w-[28%]","min-h-screen","rounded-lg","box-border"],[1,"mt-4","border-[1px]","relative"],[1,"flex","items-center","justify-between"],[1,"dashbord-heading-text","bg-secondary/10","text-secondary","border-b-[1px]","w-full","px-5","py-2"],[1,"fa-solid","fa-house-signal","mr-2"],[1,"max-h-[calc(100vh-100px)]","overflow-y-scroll","custom-scrollbar"],[1,"max-w-full","w-full","shadow-lg","p-3"],["class","bg-gray-50 rounded-b",4,"ngFor","ngForOf"],[1,"border-[1px]","mt-5"],[3,"details"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","border-[1px]"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"],[1,"bg-gray-50","rounded-b"],[1,"border-[1px]","p-3","flex","flex-col","gap-3"],[1,"text-sm","pt-2","leading-4","text-gray-600"],["tabindex","0",1,"focus:outline-none","text-[20px]","font-semibold","leading-5","text-gray-800","mt-2"],[1,"bg-green-700/90","text-white","h-fit","py-1","px-3","rounded-md","text-[14px]",3,"click"]],template:function(a,s){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,tt,1,1,"app-dashboard-statisticscard",4),e(),t(5,"div",5)(6,"div",6)(7,"h2",7),r(8,"Appointments Activity"),e(),t(9,"div")(10,"select",8),x("change",function(u){return s.changeSelection(u)}),t(11,"option",9),r(12,"All"),e(),t(13,"option",10),r(14,"Confirmed"),e(),t(15,"option",11),r(16,"Completed"),e()()(),t(17,"button",12),r(18," View all "),e()(),f(19,it,13,1,"table",13)(20,ot,2,0,"div",14),e()(),t(21,"div",15)(22,"div",16)(23,"div",17)(24,"h2",18),g(25,"i",19),r(26," Live Doctor "),t(27,"span"),r(28),e()()(),t(29,"div",20)(30,"div",21),f(31,nt,9,2,"div",22),e()()(),g(32,"div",23),e()()()),a&2&&(l(4),p("ngForOf",s.details),l(6),p("ngModel",s.selectedValue)("value",s.selectedValue),l(9),p("ngIf",!s.aptLoading),l(),p("ngIf",s.aptLoading),l(8),m("(",s.currentOnlineDoctorList.length,")"),l(3),p("ngForOf",s.currentOnlineDoctorList))},dependencies:[N,F,P,U,$,k,V,j,Q,T]});let n=i;return n})();var rt=[{path:"",component:Y}],wt=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=w({type:i}),i.\u0275inj=D({imports:[O,B,M.forChild(rt),X]});let n=i;return n})();export{wt as DashboardModule};
