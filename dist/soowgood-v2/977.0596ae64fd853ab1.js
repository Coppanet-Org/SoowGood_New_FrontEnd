"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[977],{9977:(B,x,c)=>{c.r(x),c.d(x,{ProfileSettingsModule:()=>pe});var u=c(6895),T=c(8581),e=c(4650),s=c(4006),f=c(1873),D=c(6516),g=c(2340),I=c(6240),S=c(2381),y=c(2339),Z=c(529),m=c(629),h=c(5412);const G=["attachments"];let R=(()=>{class a{constructor(t,i,o,r,l){this.TosterService=t,this.DoctorProfileService=i,this.http=o,this.normalAuth=r,this.dialogRef=l,this.subs=new I.Y,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`,this.profileInfo=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&(console.log(t),this.getProfileInfo(t))}getProfileInfo(t){t&&this.DoctorProfileService.get(t).subscribe(i=>{this.profileInfo=i})}uploadPic(){if(this.fileData.append("entityId",this.profileInfo.id.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","ProfilePicture"),this.fileData.append("directoryName","DoctorProfilePicture\\"+this.profileInfo.id.toString()),this.fileList.length>0){for(let t of this.fileList)this.fileData.append(t.name,t);this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(t=>{this.TosterService.customToast("Picture Changed Successfully","success"),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!1),console.log(t)})}}onFileChanged(t){for(var i=0;i<=t.target.files.length-1;i++){var o=t.target.files[i];this.fileList.push(o),this.fileNames.push(o.name)}this.fileList.length>0&&this.checkFileValidation(t),this.attachment.nativeElement.value=""}removeSelectedFile(t){this.fileNames.splice(t,1),this.fileList.splice(t,1)}checkFileValidation(t){let i=t.target.files.length;if(i>0){var o=["image/png","image/jpeg","image/jpg"];const r=t.target.files;this.fileList=Array.from(r);for(let l=0;l<i;l++)r[l].size>5242880&&(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.TosterService.customToast("Maximum 5MB Accepted","warning")),o.indexOf(r[l].type.toLowerCase())>=0||(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.TosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(S.G),e.Y36(y.K),e.Y36(Z.eN),e.Y36(m.e),e.Y36(h.so))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-picture-dialog"]],viewQuery:function(t,i){if(1&t&&e.Gf(G,5),2&t){let o;e.iGM(o=e.CRH())&&(i.attachment=o.first)}},decls:27,vars:0,consts:[[1,"w-full","pt-10","px-10","pb-5","bg-white","rounded-xl","z-10"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-400"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3," Update Profile picture! "),e.qZA(),e.TgZ(4,"p",3),e._uU(5,"Lorem ipsum is placeholder text."),e.qZA()(),e.TgZ(6,"form",4)(7,"div",5)(8,"label",6),e._uU(9,"Attach Document"),e.qZA(),e.TgZ(10,"div",7)(11,"label",8)(12,"div",9)(13,"div",10),e._UZ(14,"img",11),e.qZA(),e.TgZ(15,"p",12)(16,"span",13),e._uU(17,"Click here to select your file!"),e.qZA()()(),e.TgZ(18,"input",14,15),e.NdJ("change",function(r){return i.onFileChanged(r)}),e.qZA()()()(),e.TgZ(21,"p",16)(22,"span"),e._uU(23,"File type: jpg and jpeg of images"),e.qZA()(),e.TgZ(24,"div")(25,"button",17),e.NdJ("click",function(){return i.uploadPic()}),e._uU(26," Update "),e.qZA()()()())},dependencies:[s._Y,s.JL,s.F]}),a})();var w=c(4096),N=c(2510),_=c(7087),C=c(427),A=c(8824),$=c(5649),U=c(5524),Q=c(4473);function M(a,n){if(1&a&&(e.ynx(0,9),e._UZ(1,"app-input",10),e.BQk()),2&a){const t=n.$implicit;e.xp6(1),e.Q6J("label",t.label)("inputId",t.inputId)("isSelectInput",t.isSelect)("readonly",!!t.readonly&&t.readonly)("options",t.options)("formControlName",t.formControlName)("type",t.type)}}function V(a,n){1&a&&(e.TgZ(0,"div",11),e.O4$(),e.TgZ(1,"svg",12),e._UZ(2,"path",13),e.qZA(),e.kcU(),e.TgZ(3,"span"),e._uU(4,"Update Info"),e.qZA()())}function H(a,n){1&a&&e._UZ(0,"span",14)}let L=(()=>{class a{constructor(t,i,o,r,l,d,p){this.fb=t,this.doctorSpeciality=i,this.doctorProfileService=o,this.NormalAuth=r,this.datePipe=l,this.LoaderService=d,this.UserinfoStateService=p,this.genderList=[],this.titleList=[],this.maritalOptions=[],this.specialties=[],this.isLoading=!1,this.formDataEvent=new e.vpe,this.profileData=new e.vpe,this.inputConfigs=$.Ap}ngOnInit(){this.loadForm(),this.genderList=f.v.getEnumList(D.Y0),this.maritalOptions=f.v.getEnumList(D.UE),this.titleList=f.v.getEnumList(D.vs),this.doctorSpeciality.getList().subscribe(i=>{this.specialties=i});let t=this.NormalAuth.authInfo().id;this.doctorId=t,this.fetchProfileInfo(t)}fetchProfileInfo(t){this.LoaderService.sendLoaderState(!0),t?(this.LoaderService.sendLoaderState(!0),this.UserinfoStateService.getData().subscribe(i=>{i.dateOfBirth=this.formatDate(i.dateOfBirth),i.bmdcRegExpiryDate=this.formatDate(i.bmdcRegExpiryDate),this.form?.patchValue(i),this.profileData.emit(i),this.form.get("specialityId")?.patchValue(i.specialityId),this.LoaderService.sendLoaderState(!1)},i=>{this.LoaderService.sendLoaderState(!1),console.error("Error fetching profile information:",i)})):this.LoaderService.sendLoaderState(!1)}formatDate(t){if(!t)return"";const i=new Date(t);return this.datePipe.transform(i,"yyyy-MM-dd")||""}loadForm(){this.form=this.fb.group({firstName:[""],lastName:[""],doctorTitle:["",s.kI.required],gender:["",s.kI.required],fullName:["",s.kI.required],dateOfBirth:["",s.kI.required],maritalStatus:["",s.kI.required],city:[""],country:[""],mobileNo:[""],email:[""],address:["",s.kI.required],zipCode:["",s.kI.required],bmdcRegNo:["",s.kI.required],bmdcRegExpiryDate:["",s.kI.required],specialityId:["",s.kI.required],identityNumber:["",s.kI.required]})}sendDataToParent(){this.formDataEvent.emit({...this.form.value,id:this.doctorId})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(U.d),e.Y36(y.K),e.Y36(m.e),e.Y36(u.uU),e.Y36(_.D),e.Y36(C.Z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-basic-info"]],inputs:{isLoading:"isLoading"},outputs:{formDataEvent:"formDataEvent",profileData:"profileData"},decls:9,vars:4,consts:[[1,"flex","items-center","justify-left","mt-10","relative"],[1,"w-full","bg-white"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],["class","w-full",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","w-fit","mt-6"],[1,"btn-secondary","px-10","hover:text-primary","border-transparent","hover:border","hover:border-secondary-border","group",3,"click"],["class","flex items-center gap-1 text-white group-hover:text-primary",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"w-full"],[1,"sm:w-1/3",3,"label","inputId","isSelectInput","readonly","options","formControlName","type"],[1,"flex","items-center","gap-1","text-white","group-hover:text-primary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"loading","loading-dots","loading-md"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3),e.YNc(4,M,2,7,"ng-container",4),e.qZA(),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return i.sendDataToParent()}),e.YNc(7,V,5,0,"div",7),e.YNc(8,H,1,0,"span",8),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.inputConfigs),e.xp6(3),e.Q6J("ngIf",0==i.isLoading),e.xp6(1),e.Q6J("ngIf",1==i.isLoading))},dependencies:[u.sg,u.O5,s._Y,s.JJ,s.JL,s.sg,s.u,Q.a],styles:["input[_ngcontent-%COMP%]{text-transform:capitalize}input[type=email][_ngcontent-%COMP%]{text-transform:lowercase}"]}),a})();var z=c(6153),q=c(7999);let P=(()=>{class a{constructor(t){this.restService=t,this.apiName="Default",this.create=(i,o)=>this.restService.request({method:"POST",url:"/api/app/doctor-degree",body:i},{apiName:this.apiName,...o}),this.delete=(i,o)=>this.restService.request({method:"DELETE",url:`/api/app/doctor-degree/${i}`},{apiName:this.apiName,...o}),this.get=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/${i}`},{apiName:this.apiName,...o}),this.getDoctorDegreeListByDoctorId=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/doctor-degree-list-by-doctor-id/${i}`},{apiName:this.apiName,...o}),this.getList=i=>this.restService.request({method:"GET",url:"/api/app/doctor-degree"},{apiName:this.apiName,...i}),this.getListByDoctorId=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/by-doctor-id/${i}`},{apiName:this.apiName,...o}),this.update=(i,o)=>this.restService.request({method:"PUT",url:"/api/app/doctor-degree",body:i},{apiName:this.apiName,...o})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(q.vgb))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function K(a,n){if(1&a&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.degreeName)}}function X(a,n){if(1&a&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}let k=(()=>{class a{constructor(t,i,o,r,l,d,p){this.degreeService=t,this.fb=i,this.doctorDegreeService=o,this.normalAuth=r,this.dialogRef=l,this.tosterService=d,this.editData=p,this.isLoading=!1,this.degreeList=[],this.durationList=[{id:1,name:"1 year"},{id:2,name:"2 year"},{id:3,name:"3 year"},{id:4,name:"4 year"},{id:5,name:"5 year"}]}ngOnInit(){this.loadForm(),this.degreeService.getList().subscribe(t=>{this.degreeList=t}),this.doctorId=this.normalAuth.authInfo().id,this.editData&&this.form.patchValue(this.editData)}loadForm(){this.form=this.fb.group({zipCode:["1216"],degreeId:["",s.kI.required],duration:["",s.kI.required],durationType:["",s.kI.required],passingYear:["",s.kI.required],instituteName:["",s.kI.required],instituteCity:["",s.kI.required],instituteCountry:["",s.kI.required]})}sendDataToParent(){let t=this.form.get("degreeId")?.value,i=this.form.get("duration")?.value;const o={...this.form.value,degreeId:Number(t),duration:Number(i),doctorProfileId:this.doctorId};if(this.form.valid||this.form.touched)if(this.editData){let r=[],l=this.editData;for(const d in o)o.hasOwnProperty(d)&&o[d]!==l[d]&&r.push(d);if(r.length<1)return void this.dialogRef.close(!1);this.doctorDegreeService.update({...o,id:this.editData.id}).subscribe(d=>{d?(this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)):(this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1))})}else this.doctorDegreeService.create(o).subscribe(r=>{r&&(this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0))});else this.tosterService.customToast("Please fill all the required fields!","warning")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(z.R),e.Y36(s.qu),e.Y36(P),e.Y36(m.e),e.Y36(h.so),e.Y36(S.G),e.Y36(h.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-degree-dialog"]],decls:48,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","degreeId","name","degreeId","id","degreeId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","duration","name","duration","id","duration",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","durationType","type","text","name","date","id","durationType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","passingYear","type","number","name","date","id","passingYear",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"w-full","px-3","sm:w-full"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","instituteName","type","text","name","name","id","instituteName","placeholder","Institute Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCity","type","text","name","name","id","instituteCity","placeholder","Institute City",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCountry","type","text","name","name","id","instituteCountry","placeholder","Institute Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"btn-secondary",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.dialogRef.close(!0)}),e._uU(5,"Close"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Degree Name "),e.qZA(),e.TgZ(13,"select",10),e.YNc(14,K,2,2,"option",11),e.qZA()()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label",12),e._uU(18," Duration "),e.qZA(),e.TgZ(19,"select",13),e.YNc(20,X,2,2,"option",11),e.qZA()()(),e.TgZ(21,"div",7)(22,"div",8)(23,"label",12),e._uU(24," Duration Type "),e.qZA(),e._UZ(25,"input",14),e.qZA()(),e.TgZ(26,"div",7)(27,"div",8)(28,"label",12),e._uU(29," Passing Year "),e.qZA(),e._UZ(30,"input",15),e.qZA()(),e.TgZ(31,"div",16)(32,"div",8)(33,"label",17),e._uU(34," Institute Name "),e.qZA(),e._UZ(35,"input",18),e.qZA()(),e.TgZ(36,"div",7)(37,"div",8)(38,"label",17),e._uU(39," Institute City "),e.qZA(),e._UZ(40,"input",19),e.qZA()(),e.TgZ(41,"div",7)(42,"div",8)(43,"label",17),e._uU(44," Institute Country "),e.qZA(),e._UZ(45,"input",20),e.qZA()()(),e.TgZ(46,"button",21),e.NdJ("click",function(){return i.sendDataToParent()}),e._uU(47),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",i.editData?"Update":"Add"," Education "),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(7),e.Q6J("ngForOf",i.degreeList),e.xp6(6),e.Q6J("ngForOf",i.durationList),e.xp6(27),e.hij(" ",i.editData?"Update":"Submit",""))},dependencies:[u.sg,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u]}),a})(),W=(()=>{class a{constructor(t){this.degreeService=t,this.editDegree=new e.vpe,this.degreeList=[],this.degreename=""}ngOnInit(){this.degreeService.getList().subscribe(t=>{this.degreeList=t,this.getDegreeName(t)}),console.log(this.degreeData)}getDegreeName(t){this.degreename=t.find(i=>i.id==this.degreeData.degreeId)?.degreeName}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(z.R))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-degree-card"]],inputs:{degreeData:"degreeData"},outputs:{editDegree:"editDegree"},decls:23,vars:6,consts:[[1,"border","bg-secondary-light","bg-opacity-25","rounded-lg","p-6","text-gray-800","relative","z-10",2,"cursor","auto"],[1,"flex","flex-wrap","items-center"],[1,"w-full","flex","flex-col","justify-between"],[1,"font-bold","text-[24px]"],[1,"flex","flex-wrap","text-center","pt-4","mb-2"],[1,"mr-2","mb-2","rounded-full","px-3","py-1","text-xs","bg-primary","text-white"],[1,"text-sm","mt-2","list-disc","list-inside","text-gray-500","leading-relaxed"],[1,"w-full","sm:flex-2","grid","gap-4","grid-cols-2","pt-6"],[1,"btn-secondary",3,"click"],[1,"btn-secondary","bg-primary","text-white","hover:bg-secondary-light","hover:text-secondary-dark","hover:border-secondary-border-[4px]"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e.qZA()(),e.TgZ(11,"ul",6)(12,"li"),e._uU(13),e.qZA(),e.TgZ(14,"li"),e._uU(15),e.qZA(),e.TgZ(16,"li"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",7)(19,"button",8),e.NdJ("click",function(){return i.editDegree.emit(i.degreeData)}),e._uU(20,"Update"),e.qZA(),e.TgZ(21,"button",9),e._uU(22,"Delete"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(null==i.degreeData?null:i.degreeData.instituteName),e.xp6(3),e.hij("",i.degreename," "),e.xp6(2),e.hij("Duration: ",null==i.degreeData?null:i.degreeData.duration," Years"),e.xp6(3),e.hij("Institute City : ",null==i.degreeData?null:i.degreeData.instituteCity,""),e.xp6(2),e.hij("Institute Country :",null==i.degreeData?null:i.degreeData.instituteCountry,""),e.xp6(2),e.hij("Zip Code",null==i.degreeData?null:i.degreeData.zipCode,""))}}),a})();function ee(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"app-degree-card",11),e.NdJ("editDegree",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.handleDegreeEdit(o))}),e.qZA()()}if(2&a){const t=n.$implicit;e.xp6(1),e.Q6J("degreeData",t)}}let F=(()=>{class a{constructor(t,i,o){this.dialog=t,this.doctorDegreeService=i,this.normalAuth=o,this.isLoading=!1,this.educationList=[]}ngOnInit(){let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&this.getDegreeDataList(t)}getDegreeDataList(t){this.doctorDegreeService.getDoctorDegreeListByDoctorId(t).subscribe(i=>{this.educationList=i})}handleDegreeEdit(t){this.dialog.open(k,{data:t,width:"40vw"}).afterClosed().subscribe(i=>{!0===i&&this.getDegreeDataList(this.doctorId)})}openDialog(){this.dialog.open(k,{width:"40vw"}).afterClosed().subscribe(i=>{this.getDegreeDataList(this.doctorId)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.uw),e.Y36(P),e.Y36(m.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-education-info"]],decls:12,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"flex","flex-wrap","flex-3","w-full","justify-between","row-gap-1"],["class","py-3 w-[33%]",4,"ngFor","ngForOf"],[1,"py-3","w-[33%]"],[3,"degreeData","editDegree"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Education Qualifications"),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return i.openDialog()}),e._UZ(8,"i",7),e._uU(9," Add Degree "),e.qZA()(),e.TgZ(10,"div",8),e.YNc(11,ee,2,1,"div",9),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",i.educationList))},dependencies:[u.sg,W]}),a})();var Y=c(1450);let j=(()=>{class a{constructor(t){this.restService=t,this.apiName="Default",this.create=(i,o)=>this.restService.request({method:"POST",url:"/api/app/doctor-specialization",body:i},{apiName:this.apiName,...o}),this.delete=(i,o)=>this.restService.request({method:"DELETE",url:`/api/app/doctor-specialization/${i}`},{apiName:this.apiName,...o}),this.get=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/${i}`},{apiName:this.apiName,...o}),this.getBySpecialityId=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/by-speciality-id/${i}`},{apiName:this.apiName,...o}),this.getDoctorSpecializationListByDoctorId=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/doctor-specialization-list-by-doctor-id/${i}`},{apiName:this.apiName,...o}),this.getDoctorSpecializationListByDoctorIdSpecialityId=(i,o,r)=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization/doctor-specialization-list-by-doctor-id-speciality-id",params:{doctorId:i,specialityId:o}},{apiName:this.apiName,...r}),this.getDoctorSpecializationListBySpecialityId=(i,o)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/doctor-specialization-list-by-speciality-id/${i}`},{apiName:this.apiName,...o}),this.getList=i=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization"},{apiName:this.apiName,...i}),this.getListByDoctorIdSpId=(i,o,r)=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization/by-doctor-id-sp-id",params:{doctorId:i,specialityId:o}},{apiName:this.apiName,...r}),this.update=(i,o)=>this.restService.request({method:"PUT",url:"/api/app/doctor-specialization",body:i},{apiName:this.apiName,...o})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(q.vgb))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const te=["attachments"];function ie(a,n){if(1&a&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.specializationName)}}let E=(()=>{class a{constructor(t,i,o,r,l,d,p,b,v){this.fb=t,this.dialogRef=i,this.tosterService=o,this.specializationService=r,this.doctorSpecializationService=l,this.doctorProfileService=d,this.normalAuth=p,this.http=b,this.editData=v,this.isLoading=!1,this.specializationList=[],this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`}ngOnInit(){this.loadForm();let t=this.normalAuth.authInfo().id;this.doctorId=t,t&&this.doctorProfileService.get(t).subscribe(i=>{this.form.patchValue(i),this.editData&&this.specializationService.getBySpecialityId(this.editData.specialityId).subscribe(o=>this.form.get("specializationId")?.patchValue(o.specializationName)),i.specialityId&&(this.specialityId=i.specialityId,this.specializationService.getListBySpecialtyId(i.specialityId).subscribe(o=>this.specializationList=o))})}loadForm(){this.form=this.fb.group({fullName:["",s.kI.required],documentName:[this.editData?this.editData.documentName:"",s.kI.required],specializationId:[this.editData?this.editData.specializationId:"",s.kI.required]})}saveSpecialization(){let t=this.form.get("specializationId")?.valid;if(!this.form.valid&&!this.form.touched)return void this.tosterService.customToast("Please fill all the required fields!","warning");if(!t)return void this.tosterService.customToast("Please select your specialization!","warning");if(0==this.fileNames.length)return void this.tosterService.customToast("Please upload your document!","warning");const o={...this.form.value,doctorProfileId:this.doctorId,specialityId:this.specialityId,documentName:this.selectedSpFileName};if(this.editData){let r=[],l=this.editData;for(const d in o)o.hasOwnProperty(d)&&o[d]!==l[d]&&r.push(d);if(r.length<1)return void this.dialogRef.close(!1);this.doctorSpecializationService.update({...o,id:this.editData.id}).subscribe(d=>{if(d){if(this.fileList.length>0)for(let p of this.fileList)this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString()),this.fileData.append(p.name,p),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(v=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},v=>{console.log(v)});this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)}else this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1)})}else this.doctorSpecializationService.create(o).subscribe(r=>{if(r){if(this.fileList.length>0)for(let l of this.fileList)this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString()),this.fileData.append(l.name,l),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(p=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},p=>{console.log(p)});this.tosterService.customToast("Successfully Saved!","success"),this.dialogRef.close(!0)}else this.dialogRef.close(!1),this.tosterService.customToast("Something went wrong! Please contact your administrator.","error")})}uploadDocuments(){if(this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorSpecialityDoc\\"+this.doctorId.toString()),this.fileList.length>0){for(let t of this.fileList)this.fileData.append(t.name,t);this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(t=>{this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!1),console.log(t)})}}onFileChanged(t){this.fileList=[],this.fileNames=[];for(var i=0;i<=t.target.files.length-1;i++){var o=t.target.files[i];this.fileList.push(o),this.fileNames.push(o.name),this.selectedSpFileName=o.name}this.fileList.length>0&&this.checkFileValidation(t),this.attachment.nativeElement.value=""}removeSelectedFile(t){this.fileNames.splice(t,1),this.fileList.splice(t,1)}checkFileValidation(t){let i=t.target.files.length;if(i>0){var o=["image/png","image/jpeg","image/jpg","application/pdf"];const r=t.target.files;this.fileList=Array.from(r);for(let l=0;l<i;l++)r[l].size>5242880&&(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.tosterService.customToast("Maximum 5MB Accepted","warning")),o.indexOf(r[l].type.toLowerCase())>=0||(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.tosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(h.so),e.Y36(S.G),e.Y36(Y.N),e.Y36(j),e.Y36(y.K),e.Y36(m.e),e.Y36(Z.eN),e.Y36(h.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-specialization-dialog"]],viewQuery:function(t,i){if(1&t&&e.Gf(te,5),2&t){let o;e.iGM(o=e.CRH())&&(i.attachment=o.first)}},decls:43,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","specializationId","name","specializationId","id","specializationId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","",1,"font-semibold","text-slate-300"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["readonly","","formControlName","fullName","type","text","name","fullName","id","fullName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","formControlName","documentName","type","text","name","documentName","id","documentName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md",3,"value"],[1,"grid","space-y-2","w-full","px-3","sm:w-full"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg,.png,.pdf",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"btn-secondary","border","border-transparent","mt-5",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.dialogRef.close(!0)}),e._uU(5,"Close"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Your Specialization "),e.qZA(),e.TgZ(13,"select",10)(14,"option",11),e._uU(15,"Select Specialization"),e.qZA(),e.YNc(16,ie,2,2,"option",12),e.qZA()()(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",13),e._uU(20," Doctor Name "),e.qZA(),e._UZ(21,"input",14),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8)(24,"label",13),e._uU(25," Document Name "),e.qZA(),e._UZ(26,"input",15),e.qZA()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"Attach Your Speciality Document"),e.qZA(),e.TgZ(30,"div",18)(31,"label",19)(32,"div",20)(33,"div",21),e._UZ(34,"img",22),e.qZA(),e.TgZ(35,"p",23)(36,"span",24),e._uU(37,"Click here to select your file!"),e.qZA()()(),e.TgZ(38,"input",25,26),e.NdJ("change",function(r){return i.onFileChanged(r)}),e.qZA()()()()(),e.TgZ(41,"button",27),e.NdJ("click",function(){return i.saveSpecialization()}),e._uU(42),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",i.editData?"Update":"Add"," Specialization "),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("ngForOf",i.specializationList),e.xp6(10),e.s9C("value",i.selectedSpFileName),e.xp6(16),e.hij(" ",i.editData?"Update":"Submit",""))},dependencies:[u.sg,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u]}),a})();var oe=c(4128);function ae(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"tr",15)(1,"td",16),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.qZA(),e.TgZ(7,"td",17),e._uU(8),e.qZA(),e.TgZ(9,"td",17)(10,"a",18),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.handleSpecializationEdit(r))}),e._uU(11,"Edit Specialization"),e.qZA()()()}if(2&a){const t=n.$implicit,i=n.index;e.xp6(2),e.hij(" ",i+1," "),e.xp6(2),e.hij(" ",t.specialityName," "),e.xp6(2),e.hij(" ",t.specializationName," "),e.xp6(2),e.hij(" ",t.documentName," ")}}let J=(()=>{class a{constructor(t,i,o,r,l,d,p){this.dialog=t,this.doctorSpecializationService=i,this.doctorSpeciality=o,this.specializationService=r,this.normalAuth=l,this.doctorProfileService=d,this.doctorDocService=p,this.allSpecializations=[],this.specialityName="",this.specializationName="",this.specialityId="",this.subs=new I.Y}ngOnInit(){let t=this.normalAuth.authInfo().id,i=this.normalAuth.authInfo().specialityId;t&&i&&(this.doctorId=t,this.specialityId=i,this.doctorSpeciality.get(this.specialityId).subscribe(o=>{this.specialityName=o.specialityName}),this.combineObservables(this.doctorId,i))}combineObservables(t,i){const o=this.doctorSpecializationService.getListByDoctorIdSpId(t,i),r=this.doctorDocService.getDocumentInfoByEntityTypeAndEntityIdAndAttachmentType("Doctor",this.doctorId,"DoctorSpecialityDoc");(0,oe.D)([o,r]).subscribe(([l,d])=>{this.allSpecializations=l})}getDoctorSpecializationList(t,i){this.doctorSpecializationService.getListByDoctorIdSpId(t,i).subscribe(o=>{this.allSpecializations=o})}getSpecializations(t){return this.specializationService.getBySpecialityId(t).subscribe(i=>{this.specializationName=i.specializationName})}openDialog(){this.dialog.open(E,{width:"40vw"}).afterClosed().subscribe(i=>{1==i&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}handleSpecializationEdit(t){this.dialog.open(E,{data:t,width:"40vw"}).afterClosed().subscribe(i=>{1==i&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.uw),e.Y36(j),e.Y36(U.d),e.Y36(Y.N),e.Y36(m.e),e.Y36(y.K),e.Y36(w.H))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-specialization-info"]],decls:28,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"w-full","mt-3"],[1,"relative","overflow-x-auto","shadow-md","w-full","sm:rounded-lg"],[1,"flex","items-center","justify-between","pb-4","bg-white","dark:bg-gray-900"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","border-[1px]"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["class","bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"w-4","p-4"],[1,"px-6","py-4"],[1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Skill & Specializations "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return i.openDialog()}),e._UZ(8,"i",7),e._uU(9," Add Specialization "),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),e._uU(17," ID "),e.qZA(),e.TgZ(18,"th",13),e._uU(19," Specialty "),e.qZA(),e.TgZ(20,"th",13),e._uU(21," Specialization "),e.qZA(),e.TgZ(22,"th",13),e._uU(23," Documents "),e.qZA(),e.TgZ(24,"th",13),e._uU(25," Action "),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,ae,12,4,"tr",14),e.qZA()()()()()()()()),2&t&&(e.xp6(27),e.Q6J("ngForOf",i.allSpecializations))},dependencies:[u.sg]}),a})(),O=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-documents"]],decls:29,vars:0,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"flex","flex-wrap","w-full","justify-between","row-gap-1"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Documents Upload"),e.qZA()(),e.TgZ(7,"div",6)(8,"form",7)(9,"div",8)(10,"label",9),e._uU(11,"Attach NID/Passport Document"),e.qZA(),e.TgZ(12,"div",10)(13,"label",11)(14,"div",12)(15,"div",13),e._UZ(16,"img",14),e.qZA(),e.TgZ(17,"p",15)(18,"span",16),e._uU(19,"Click here to select your file!"),e.qZA()()(),e._UZ(20,"input",17,18),e.qZA()()(),e.TgZ(23,"p",19)(24,"span"),e._uU(25,"File type: jpg and jpeg of images"),e.qZA()(),e.TgZ(26,"div")(27,"button",20),e._uU(28," Update "),e.qZA()()()()()()())},dependencies:[s._Y,s.JL,s.F]}),a})();const se=["attachments"];let re=(()=>{class a{constructor(t,i,o,r,l,d,p,b,v){this._fb=t,this.doctorProfileService=i,this.doctorProfilePicService=o,this._router=r,this.TosterService=l,this.normalAuth=d,this.dialog=p,this.LoaderService=b,this.UserinfoStateService=v,this.getProfileInfo=new e.vpe,this.animationDirection="right",this.isLoading=!1,this.doctorTitleList=[],this.activeTab="",this.subs=new I.Y,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`,this.firstFormGroup=this._fb.group({firstCtrl:["",s.kI.required]}),this.secondFormGroup=this._fb.group({secondCtrl:["",s.kI.required]}),this.isLinear=!1}ngOnInit(){let t=this.normalAuth.authInfo().id;this.doctorId=t,this.doctorTitleList=f.v.getEnumList(D.vs),this.getLastPathSegment(this._router.url),this.UserinfoStateService.getData().subscribe(o=>this.profileInfo=o),this.getProfilePic()}getTitle(t){return this.doctorTitleList.find(o=>o.id==t)?.name}handleFormData(t){const i={...t};let o=[];for(const r in t)t.hasOwnProperty(r)&&t[r]!==this.profileInfo[r]&&o.push(r);0===o.length?(this.TosterService.customToast("Nothing has changed","warning"),this.isLoading=!1):(this.isLoading=!0,this.doctorProfileService.update(i).subscribe(r=>{this.isLoading=!1;let l="";if(o.length>0)if(o.length>1){const d=o.pop();l=`${o.join(", ")} and ${d} Successfully Updated!`}else l=`${o[0]} Successfully Updated! `;this.TosterService.customToast(l,"success"),this.UserinfoStateService.getProfileInfo(this.doctorId,"doctor")},r=>{this.isLoading=!1,this.TosterService.customToast(r.message,"error")}))}getLastPathSegment(t){const i=t.split("/");let o=i[i.length-1];"basic-info"==o&&(this.activeTab="0"),"education"==o&&(this.activeTab="1"),"specialization"==o&&(this.activeTab="2"),"documents"==o&&(this.activeTab="3")}onchangeStep(t){0==t.selectedIndex&&this._router.navigate(["doctor/profile-settings/basic-info"]),1==t.selectedIndex&&this._router.navigate(["doctor/profile-settings/education"]),2==t.selectedIndex&&this._router.navigate(["doctor/profile-settings/specialization"]),3==t.selectedIndex&&this._router.navigate(["doctor/profile-settings/documents"])}getProfilePic(){this.isLoading=!0,this.subs.sink=this.doctorProfilePicService.getDocumentInfoByEntityTypeAndEntityIdAndAttachmentType("Doctor",this.profileInfo.id,"ProfilePicture").subscribe(t=>{if(t){let o="";o=t.path?t.path:"",this.profilePic=o.replace(/wwwroot/gi,""),this.url=this.picUrl+this.profilePic,this.isLoading=!1}})}openDialog(){this.dialog.open(R,{width:"30vw"}).afterClosed().subscribe(i=>{1==i&&this.getProfilePic()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(y.K),e.Y36(w.H),e.Y36(N.F0),e.Y36(S.G),e.Y36(m.e),e.Y36(h.uw),e.Y36(_.D),e.Y36(C.Z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-settings"]],viewQuery:function(t,i){if(1&t&&e.Gf(se,5),2&t){let o;e.iGM(o=e.CRH())&&(i.attachment=o.first)}},outputs:{getProfileInfo:"getProfileInfo"},decls:32,vars:8,consts:[[1,"doctor-dashboard_midcontent_container"],[1,"mx-auto"],[1,"bg-white","relative","shadow","rounded-lg","w-full","mx-auto"],[1,"p-10","pt-8"],[1,"flex","justify-between","items-center"],[1,"flex","justify-left","items-center","gap-6"],[1,"relative","w-[128px]","h-[128px]","bg-white","transition"],["alt","",1,"object-cover","rounded-lg","mx-auto","w-32","h-32","shadow-md","border-4","border-white",3,"src"],["type","file","accept",".gif,.jpg,.jpeg,.png,.doc,.docx,.pdf","multiple","",2,"display","none"],["attachments","","fileInput",""],[1,"duration-200","transform","hover:scale-110","flex","justify-center","items-center","cursor-pointer","absolute","-bottom-[8px]","-right-[8px]","w-[30px]","h-[30px]","rounded-full","p-1","bg-white","z-20","border-[1px]",3,"click"],[1,"fa-solid","fa-camera","text-primary"],[1,"font-bold","text-left","text-3xl","text-gray-900","dashbord-heading-text"],[1,"text-left","text-sm","text-gray-400","mt-2","font-medium","dashbord-heading-subtext"],[1,"btn-secondary"],[1,"mt-7","mx-auto",3,"selectedIndex","selectionChange"],["stepper",""],["label","Basic Info",3,"stepControl"],[3,"isLoading","formDataEvent"],["label","Education",3,"stepControl","ariaSelected"],["label","Specializations"],["label","Documents"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7)(9,"input",8,9),e.TgZ(12,"div",10),e.NdJ("click",function(){return i.openDialog()}),e._UZ(13,"i",11),e.qZA()(),e.TgZ(14,"div")(15,"h1",12),e._uU(16),e.qZA(),e.TgZ(17,"p",13),e._uU(18),e.qZA()()(),e.TgZ(19,"div")(20,"button",14),e._uU(21," View Profile "),e.qZA()()(),e.TgZ(22,"mat-stepper",15,16),e.NdJ("selectionChange",function(r){return i.onchangeStep(r)}),e.TgZ(24,"mat-step",17)(25,"app-basic-info",18),e.NdJ("formDataEvent",function(r){return i.handleFormData(r)}),e.qZA()(),e.TgZ(26,"mat-step",19),e._UZ(27,"app-education-info"),e.qZA(),e.TgZ(28,"mat-step",20),e._UZ(29,"app-specialization-info"),e.qZA(),e.TgZ(30,"mat-step",21),e._UZ(31,"app-documents"),e.qZA()()()()()()()),2&t&&(e.xp6(8),e.Q6J("src",i.url?i.url:"../../../../../assets/doctor/dr.jpeg",e.LSH),e.xp6(8),e.hij(" ",null==i.profileInfo?null:i.profileInfo.fullName," "),e.xp6(2),e.hij(" ",i.getTitle(null==i.profileInfo?null:i.profileInfo.doctorTitle)," "),e.xp6(4),e.Q6J("selectedIndex",i.activeTab),e.xp6(2),e.Q6J("stepControl",i.firstFormGroup),e.xp6(1),e.Q6J("isLoading",i.isLoading),e.xp6(1),e.Q6J("stepControl",i.secondFormGroup)("ariaSelected",i.activeTab))},dependencies:[A.C0,A.Vq,L,F,J,O],data:{animation:[(0,T.f)("right")]}}),a})();var ne=c(49),le=c(7905),ce=c(7098);const de=[{path:"",component:re,children:[{path:"",redirectTo:"basic-info",pathMatch:"full"},{path:"basic-info",component:L},{path:"education",component:F},{path:"specialization",component:J},{path:"documents",component:O}]}];let pe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[u.uU],imports:[u.ez,N.Bz.forChild(de),ne.U,le.g,ce.q]}),a})()},6240:(B,x,c)=>{c.d(x,{Y:()=>T});var T=function(){function e(){this._subs=[]}return e.prototype.add=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];this._subs=this._subs.concat(s)},Object.defineProperty(e.prototype,"sink",{set:function(s){this._subs.push(s)},enumerable:!0,configurable:!0}),e.prototype.unsubscribe=function(){this._subs.forEach(function(s){return s&&function(e){return"function"==typeof e}(s.unsubscribe)&&s.unsubscribe()}),this._subs=[]},e}()}}]);