"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[1357],{1357:(I,h,n)=>{n.r(h),n.d(h,{DashboardModule:()=>L});var l=n(6814),p=n(553),u=n(62),m=n(4351),t=n(9212),f=n(9483),Z=n(8128),v=n(9706),b=n(475),d=n(6223),c=n(8184);function T(o,s){1&o&&t._UZ(0,"app-dashboard-statisticscard",34),2&o&&t.Q6J("details",s.$implicit)}function x(o,s){if(1&o&&(t.TgZ(0,"tr",40)(1,"td",41),t._uU(2),t.qZA(),t.TgZ(3,"td",41),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",41),t._uU(7),t.qZA(),t.TgZ(8,"td",41),t._uU(9),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",e.patientName," "),t.xp6(2),t.hij(" ",t.lcZ(5,4,e.appointmentDate)," "),t.xp6(3),t.hij(" ",e.appointmentTime," "),t.xp6(2),t.hij(" ",e.consultancyTypeName," ")}}function A(o,s){if(1&o&&(t.TgZ(0,"div",35)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th",38),t._uU(5,"Patient's Name"),t.qZA(),t.TgZ(6,"th",38),t._uU(7,"App. Date"),t.qZA(),t.TgZ(8,"th",38),t._uU(9,"App. Time"),t.qZA(),t.TgZ(10,"th",38),t._uU(11,"App. Type"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,x,10,6,"tr",39),t.qZA()()()),2&o){const e=t.oxw();t.xp6(13),t.Q6J("ngForOf",e.appointmentList)}}function y(o,s){1&o&&(t.TgZ(0,"div",42),t._uU(1," Data is Loading... "),t.qZA())}function _(o,s){if(1&o&&(t.TgZ(0,"tr",40)(1,"td",41),t._uU(2),t.qZA(),t.TgZ(3,"td",41),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",41),t._uU(7),t.qZA(),t.TgZ(8,"td",41),t._uU(9),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij(" ",e.patientName," "),t.xp6(2),t.hij(" ",t.lcZ(5,4,e.appointmentDate)," "),t.xp6(3),t.hij(" ",e.appointmentTime," "),t.xp6(2),t.hij(" ",e.consultancyTypeName," ")}}function U(o,s){if(1&o&&(t.TgZ(0,"div",35)(1,"table",36)(2,"thead",37)(3,"tr")(4,"th",38),t._uU(5,"Patient's Name"),t.qZA(),t.TgZ(6,"th",38),t._uU(7,"App. Date"),t.qZA(),t.TgZ(8,"th",38),t._uU(9,"App. Time"),t.qZA(),t.TgZ(10,"th",38),t._uU(11,"App. Type"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,_,10,6,"tr",39),t.qZA()()()),2&o){const e=t.oxw();t.xp6(13),t.Q6J("ngForOf",e.appointmentList)}}function w(o,s){1&o&&(t.TgZ(0,"div",42),t._uU(1," Data is Loading... "),t.qZA())}let D=(()=>{class o{constructor(e,i,a){this.NormalAuth=e,this.DashboardService=i,this.notificationService=a,this.showWarning=!1,this.details=[{title:"Total appointments",data:0},{title:"Total Patient",data:""},{title:"Loyalty Points",data:""},{title:"Total Income",data:0,currency:!0}],this.appointmentList=[],this.aptLoading=!1,this.messageList=[],this.todayMessageList=[],this.lastdayMessageList=[],this.myDate=new Date,this.selectedValue="All"}ngOnInit(){setTimeout(()=>{this.showWarning=!0},1e3),this.authInfo=this.NormalAuth.authInfo();let e=this.NormalAuth.authInfo()?.id;this.doctorId=e,this.getDashboardStatisticData(e),this.getDashboardAppointment(this.selectedValue);const i=(new u.s).configureLogging(m.i.Information).withUrl(p.NZ.apis.default.url+"/notify").build();i.start().then(function(){console.log("SignalR Connected!")}).catch(function(a){console.log(a)}),i.on("BroadcastMessage",()=>{this.getNotification()})}getDashboardStatisticData(e){this.DashboardService.getDashboadDataForDoctor(e).subscribe({next:i=>{this.details[0].data=Number(i.totalAppointment),this.details[1].data=Number(i.totalPatient),this.details[2].data=Number(i.doctorLoyaltypoints),this.details[3].data=Number(i.totalFeeAmount)}})}getDashboardAppointment(e){this.aptLoading=!0,this.DashboardService.getDashboardAppointmentListForDoctor(this.doctorId,e).subscribe({next:i=>{this.appointmentList=i,this.aptLoading=!1},error:i=>{console.log(i),this.aptLoading=!1}})}changeSelection(e){e&&this.getDashboardAppointment(e.target.value)}getNotification(){this.notificationService.getList().subscribe(e=>{"doctor"==this.authInfo.userType?(this.messageList=e.filter(i=>i.notifyToEntityId==this.authInfo.id),this.todayMessageList=this.messageList.filter(i=>i.creationTime?.toString()==this.myDate.toDateString()),this.lastdayMessageList=this.messageList.filter(i=>i.creationTime==this.myDate)):this.messageList=e.filter(i=>i.creatorEntityId==this.authInfo.id),this.notificationCount=this.messageList.length})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(f.e),t.Y36(Z.s),t.Y36(v.g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:91,vars:9,consts:[[1,"doctor-dashboard_midcontent_container","p-4"],[1,"top-bar","grid","lg:grid-cols-1","w-full","grid-cols-1","gap-6"],[1,"w-full"],[1,"top-box","mt-2","grid","sm:grid-cols-2","lg:grid-cols-4","grid-cols-1","gap-5"],[3,"details",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-5"],[1,"bottom-box","border-[1px]","mt-5","bg-white","rounded-lg","box-border","overflow-auto"],[1,"flex","justify-between","p-2","border-b-[1px]","items-center"],[1,"text-[20px]","font-semibold","h-fit"],[3,"ngModel","value","ngModelChange","change"],["value","All"],["value","Confirmed"],["value","Completed"],["routerLink","../appointments",1,"btn-secondary-light","h-fit"],["class","overflow-y-auto h-[400px] custom-scrollbar",4,"ngIf"],["class","w-full h-[300px] flex justify-center items-center",4,"ngIf"],[1,"grid","w-full","relative"],[1,"bg-white","lg:fixed","overflow-y-scroll","custom-scrollbar","h-full","dark:bg-gray-800","rounded-xl","mx-auto","border","p-6","shadow-sm"],[1,"inline-flex","items-center","justify-between","w-full"],[1,"font-bold","text-xl","sm:text-2xl","text-gray-800","dark:text-white"],[1,"mt-8","font-medium","text-gray-500","text-sm","sm:text-base","dark:text-white"],[1,"mt-2","px-6","py-4","bg-slate-100","rounded-lg","shadow","w-full"],[1,"inline-flex","items-center"],["src","https://cdn-icons-png.flaticon.com/128/763/763812.png","alt","Training Icon",1,"w-6","h-6","mr-3"],[1,"font-bold","text-base","text-gray-800"],[1,"text-xs","text-gray-500"],[1,"mt-1","text-sm"],[1,"mt-2","px-6","py-4","bg-white","rounded-lg","shadow","w-full"],["src","https://cdn-icons-png.flaticon.com/512/893/893257.png","alt","Messages Icon",1,"w-6","h-6","mr-3"],[1,"mt-8","font-medium","text-gray-500","dark:text-white","text-sm","sm:text-base"],["src","https://cdn-icons-png.flaticon.com/512/6863/6863272.png","alt","Form Icon",1,"w-6","h-6","mr-3"],[1,"inline-flex","text-sm","bg-white","justify-center","px-4","py-2","mt-12","w-full","text-red-500","items-center","rounded","font-medium","shadow","border","focus:outline-none","transform","active:scale-75","transition-transform","duration-700","hover:bg-red-500","hover:text-white","hover:-translate-y-1","hover:scale-110","dark:hover:bg-white","dark:text-gray-800","dark:hover:text-gray-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-2","sm:mr-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"details"],[1,"overflow-y-auto","h-[400px]","custom-scrollbar"],[1,"w-full","text-sm","text-left","rounded-lg","text-gray-500","border-[1px]","table","table-xs","table-pin-rows","table-pin-cols"],[1,"text-xs","rounded-lg","text-gray-800","uppercase","bg-black/5"],["scope","col",1,"px-6","py-3"],["class","bg-white hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-gray-50"],[1,"px-6","py-4"],[1,"w-full","h-[300px]","flex","justify-center","items-center"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,T,1,1,"app-dashboard-statisticscard",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),t._uU(9,"Appointments"),t.qZA(),t.TgZ(10,"div")(11,"select",9),t.NdJ("ngModelChange",function(r){return a.selectedValue=r})("change",function(r){return a.changeSelection(r)}),t.TgZ(12,"option",10),t._uU(13,"All"),t.qZA(),t.TgZ(14,"option",11),t._uU(15,"Confirmed"),t.qZA(),t.TgZ(16,"option",12),t._uU(17,"Completed"),t.qZA()()(),t.TgZ(18,"button",13),t._uU(19," View all "),t.qZA()(),t.YNc(20,A,14,1,"div",14)(21,y,2,0,"div",15),t.qZA(),t.TgZ(22,"div",6)(23,"div",7)(24,"h2",8),t._uU(25,"Appointments"),t.qZA(),t.TgZ(26,"div")(27,"select",9),t.NdJ("ngModelChange",function(r){return a.selectedValue=r})("change",function(r){return a.changeSelection(r)}),t.TgZ(28,"option",10),t._uU(29,"All"),t.qZA(),t.TgZ(30,"option",11),t._uU(31,"Confirmed"),t.qZA(),t.TgZ(32,"option",12),t._uU(33,"Completed"),t.qZA()()(),t.TgZ(34,"button",13),t._uU(35," View all "),t.qZA()(),t.YNc(36,U,14,1,"div",14)(37,w,2,0,"div",15),t.qZA()()(),t.TgZ(38,"div",16)(39,"div",17)(40,"div",18)(41,"h3",19),t._uU(42," Notifications "),t.qZA()(),t.TgZ(43,"p",20),t._uU(44," Today "),t.qZA(),t.TgZ(45,"div",21)(46,"div",18)(47,"div",22),t._UZ(48,"img",23),t.TgZ(49,"h3",24),t._uU(50,"Training"),t.qZA()(),t.TgZ(51,"p",25),t._uU(52,"2 min ago"),t.qZA()(),t.TgZ(53,"p",26),t._uU(54," Hey! Do you remember about choosing your training regime? "),t.qZA()(),t.TgZ(55,"div",27)(56,"div",18)(57,"div",22),t._UZ(58,"img",28),t.TgZ(59,"h3",24),t._uU(60,"Messages"),t.qZA()(),t.TgZ(61,"p",25),t._uU(62,"1 hour ago"),t.qZA()(),t.TgZ(63,"p",26),t._uU(64,"You have a new message"),t.qZA()(),t.TgZ(65,"p",29),t._uU(66," Yesterday "),t.qZA(),t.TgZ(67,"div",27)(68,"div",18)(69,"div",22),t._UZ(70,"img",30),t.TgZ(71,"h3",24),t._uU(72,"Forms"),t.qZA()(),t.TgZ(73,"p",25),t._uU(74,"12:47"),t.qZA()(),t.TgZ(75,"p",26),t._uU(76," Remember about filling out the COVID-19 from before the next appointment tomorrow "),t.qZA()(),t.TgZ(77,"div",27)(78,"div",18)(79,"div",22),t._UZ(80,"img",23),t.TgZ(81,"h3",24),t._uU(82,"Training"),t.qZA()(),t.TgZ(83,"p",25),t._uU(84,"12:43"),t.qZA()(),t.TgZ(85,"p",26),t._uU(86," We're glad you've decided to use our training system! Let's now set a complete of things "),t.qZA()(),t.TgZ(87,"button",31),t.O4$(),t.TgZ(88,"svg",32),t._UZ(89,"path",33),t.qZA(),t._uU(90," Clear all notifications "),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",a.details),t.xp6(7),t.Q6J("ngModel",a.selectedValue)("value",a.selectedValue),t.xp6(9),t.Q6J("ngIf",!a.aptLoading),t.xp6(),t.Q6J("ngIf",a.aptLoading),t.xp6(6),t.Q6J("ngModel",a.selectedValue)("value",a.selectedValue),t.xp6(9),t.Q6J("ngIf",!a.aptLoading),t.xp6(),t.Q6J("ngIf",a.aptLoading))},dependencies:[b.g,d.YN,d.Kr,d.EJ,d.JJ,d.On,l.sg,l.O5,c.rH,l.uU],styles:[".hideWarning[_ngcontent-%COMP%]{transition:.4s;height:0px;opacity:0;transform:translateY(-100px)}.showWarning[_ngcontent-%COMP%]{transition:.4s;opacity:1;transform:translateY(0)}"]})}return o})();var q=n(6335);const C=[{path:"",component:D}];let L=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[q.B,d.u5,l.ez,c.Bz.forChild(C)]})}return o})()}}]);