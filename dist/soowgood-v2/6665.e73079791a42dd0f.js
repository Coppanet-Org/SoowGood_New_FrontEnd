"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[6665],{6516:(J,T,p)=>{p.d(T,{Vn:()=>l,Is:()=>b,vs:()=>g,Y0:()=>m,UE:()=>x,Ix:()=>y});var c=p(7999),_=(()=>{return(n=_||(_={}))[n.Paid=1]="Paid",n[n.Due=2]="Due",n[n.FailedOrCancelled=3]="FailedOrCancelled",_;var n})();(0,c.Uoq)(_);var d=(()=>{return(n=d||(d={}))[n.Pending=1]="Pending",n[n.Confirmed=2]="Confirmed",n[n.InProgress=3]="InProgress",n[n.Completed=4]="Completed",n[n.Cancelled=5]="Cancelled",n[n.Failed=6]="Failed",d;var n})();(0,c.Uoq)(d);var l=(()=>{return(n=l||(l={}))[n.New=1]="New",n[n.Followup=2]="Followup",n[n.ReportShow=3]="ReportShow",n[n.Emargency=4]="Emargency",l;var n})();(0,c.Uoq)(l);var h=(()=>{return(n=h||(h={}))[n.ProfilePicture=1]="ProfilePicture",n[n.DoctorDegreeDoc=2]="DoctorDegreeDoc",n[n.DoctIdentityDoc=3]="DoctIdentityDoc",n[n.DoctorSpecialityDoc=4]="DoctorSpecialityDoc",n[n.Prescription=5]="Prescription",n[n.PatientPreviousDocuments=6]="PatientPreviousDocuments",h;var n})();(0,c.Uoq)(h);var b=(()=>{return(n=b||(b={}))[n.Chamber=1]="Chamber",n[n.Online=2]="Online",n[n.PhysicalVisit=3]="PhysicalVisit",n[n.OnDemand=4]="OnDemand",n[n.OnlineRT=5]="OnlineRT",b;var n})();(0,c.Uoq)(b);var g=(()=>{return(n=g||(g={}))[n.Dr=1]="Dr",n[n.AsstProfDr=2]="AsstProfDr",n[n.AssocProfDr=3]="AssocProfDr",n[n.ProfDr=4]="ProfDr",g;var n})();(0,c.Uoq)(g);var C=(()=>{return(n=C||(C={}))[n.Doctor=1]="Doctor",n[n.Agent=2]="Agent",n[n.Patient=3]="Patient",n[n.Hospital=4]="Hospital",C;var n})();(0,c.Uoq)(C);var m=(()=>{return(n=m||(m={}))[n.Male=1]="Male",n[n.Female=2]="Female",n[n.Others=3]="Others",m;var n})();(0,c.Uoq)(m);var x=(()=>{return(n=x||(x={}))[n.Single=1]="Single",n[n.Maried=2]="Maried",x;var n})();(0,c.Uoq)(x);var F=(()=>{return(n=F||(F={}))[n.New=0]="New",n[n.Send=1]="Send",n[n.Varified=2]="Varified",n[n.Cancel=3]="Cancel",n[n.TimeExpired=4]="TimeExpired",F;var n})();(0,c.Uoq)(F);var y=(()=>{return(n=y||(y={}))[n.Regular=1]="Regular",n[n.Occasional=2]="Occasional",y;var n})();(0,c.Uoq)(y)},7801:(J,T,p)=>{p.d(T,{z:()=>ft});var c=p(1873),_=p(6516),w=p(8745),d=p(9841),t=p(4650),l=p(4004),A=p(262),h=p(9646),D=p(9466);let b=(()=>{class o{constructor(e){this.AppointmentService=e,this.appointmentList=[],this.cache={}}getAllAppointmentList(e,i){return"patient"===i?this.AppointmentService.getAppointmentListByPatientId(e,"patient").pipe((0,l.U)(s=>(this.appointmentList=s,s)),(0,A.K)(s=>(0,h.of)(null))):"agent"===i?this.AppointmentService.getAppointmentListByPatientId(e,"agent").pipe((0,l.U)(s=>(this.appointmentList=s,s)),(0,A.K)(s=>(0,h.of)(null))):"doctor"===i?this.AppointmentService.getAppointmentListByDoctorId(e).pipe((0,l.U)(s=>(this.appointmentList=s,s)),(0,A.K)(s=>(0,h.of)(null))):(0,h.of)(null)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(D.H))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var N=p(4006),g=p(6895),S=p(1131),C=p(7974),I=p(7109),m=p(9229),Z=p(5412);let x=(()=>{class o{constructor(e){this.editData=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-appointment-dialog"]],decls:5,vars:1,consts:[[1,"w-full","p-4","text-center","bg-white","border","border-gray-200","rounded-lg","shadow","sm:p-8","dark:bg-gray-800","dark:border-gray-700"],[1,"mb-2","text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mb-5","text-base","text-gray-500","sm:text-lg","dark:text-gray-400"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"Your appointment is approaching; make sure you're ready and confident for the event. Double-check details and prepare accordingly."),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(i.editData))}}),o})();var Y=p(2340),F=p(1481),j=p(2381),y=p(529);function L(o,r){1&o&&t._UZ(0,"img",16)}function n(o,r){if(1&o&&t._UZ(0,"iframe",19),2&o){const e=t.oxw(2);t.Q6J("src",e.selectedFileContent,t.uOi)}}function M(o,r){if(1&o&&t._UZ(0,"img",20),2&o){const e=t.oxw(2);t.Q6J("src",e.selectedFileContent,t.LSH)}}function Q(o,r){if(1&o&&(t.ynx(0),t.YNc(1,n,1,1,"iframe",17),t.YNc(2,M,1,1,"img",18),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isPdf(e.selectedFileName)),t.xp6(1),t.Q6J("ngIf",!e.isPdf(e.selectedFileName))}}function O(o,r){if(1&o&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedFileName)}}function z(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"Click here to select your file!"),t.qZA())}function R(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onDeleteFile())}),t._uU(1,"Change"),t.qZA()}}let H=(()=>{class o{constructor(e,i,a,s,v){this.sanitizer=e,this.dialogRef=i,this.TosterService=a,this.http=s,this.patientId=v,this.apiUrl=`${Y.N.apis.default.url}/api`,this.loading={status:!1,message:"Send to Doctor"}}onFileChanged(e){const i=e.target.files[0];if(this.fileInfo=i,i){this.selectedFileName=i.name;const a=new FileReader;a.onload=s=>{if("application/pdf"===i.type){const v=s.target?.result,P=new Blob([v],{type:"application/pdf"});this.selectedFileContent=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(P)),console.log(this.selectedFileContent)}else this.selectedFileContent=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(i)),console.log(this.selectedFileContent)},a.readAsArrayBuffer(i)}}savePreviousDocument(){this.fileInfo?(this.loading={status:!0,message:"Sending..."},this.selectedFileName&&(this.fileData=new FormData,this.fileData.append("entityId",this.patientId.toString()),this.fileData.append("entityType","Patient"),this.fileData.append("attachmentType","PatientPreviousDocuments"),this.fileData.append("directoryName","PatientPreviousDocuments\\"+this.patientId.toString()),this.fileData.append(this.selectedFileName,this.fileInfo),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(e=>{this.loading={status:!1,message:"Sent"},this.selectedFileName="",this.selectedFileContent="",this.TosterService.customToast("Your previous document sucessfully send your doctor.","success")},e=>{console.log(e)}))):this.TosterService.customToast("Please select a file!","warning")}onDeleteFile(){this.selectedFileName="",this.selectedFileContent=""}isPdf(e){return e.toLowerCase().endsWith(".pdf")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(F.H7),t.Y36(Z.so),t.Y36(j.G),t.Y36(y.eN),t.Y36(Z.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-upload-appointment-doc-dialog"]],decls:21,vars:6,consts:[[1,"grid","space-y-2","w-full","p-8","sm:w-full"],[1,"flex","justify-between"],[1,"text-md","font-bold","mb-3","text-gray-500","tracking-wide"],[3,"click"],[1,"flex","items-center","flex-col","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","mx-auto","-mt-10"],["class","has-mask h-36 object-center","src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",4,"ngIf"],[4,"ngIf"],[1,"pointer-none","text-gray-500"],["class","text-sm",4,"ngIf"],["ngClass","mt-3",3,"click",4,"ngIf"],["type","file","accept",".jpg,.jpeg,.png,.pdf",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"btn-secondary","border","border-transparent","mt-5",3,"click"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],["width","100%","height","100%",3,"src",4,"ngIf"],["alt","selected file","class","has-mask h-36 object-center",3,"src",4,"ngIf"],["width","100%","height","100%",3,"src"],["alt","selected file",1,"has-mask","h-36","object-center",3,"src"],[1,"text-sm"],["ngClass","mt-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Upload your previous documents."),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return i.dialogRef.close()}),t._uU(5,"Close"),t.qZA()(),t.TgZ(6,"div",4)(7,"label",5)(8,"div",6)(9,"div",7),t.YNc(10,L,1,0,"img",8),t.YNc(11,Q,3,2,"ng-container",9),t.qZA(),t.TgZ(12,"p",10),t.YNc(13,O,2,1,"span",11),t.YNc(14,z,2,0,"span",9),t.qZA(),t.YNc(15,R,2,0,"button",12),t.qZA(),t.TgZ(16,"input",13,14),t.NdJ("change",function(s){return i.onFileChanged(s)}),t.qZA()(),t.TgZ(19,"button",15),t.NdJ("click",function(){return i.savePreviousDocument()}),t._uU(20),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("ngIf",!i.selectedFileContent),t.xp6(1),t.Q6J("ngIf",i.selectedFileContent),t.xp6(2),t.Q6J("ngIf",i.selectedFileName),t.xp6(1),t.Q6J("ngIf",!i.selectedFileName),t.xp6(1),t.Q6J("ngIf",i.selectedFileName),t.xp6(5),t.hij(" ",i.loading.message," "))},dependencies:[g.mk,g.O5]}),o})();var K=p(2510),E=p(629);function V(o,r){1&o&&t._UZ(0,"i",16)}function B(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cancellAppointment(a.appointment.id))}),t._UZ(1,"i",18),t._uU(2," Cancel "),t.qZA()}if(2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12 hover:text-white hover:bg-primary/30 bg-primary/90 text-white  mr-0"),t.uIk("data-tip",e.btnDisable&&"Not acceptable!")}}function W(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openPdfDialog(a.appointment.id))}),t._UZ(1,"i",20),t._uU(2," Prescription "),t.qZA()}}function G(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToJoinCall(a.appointment,"patient"))}),t._UZ(1,"i",22),t._uU(2," Join Call "),t.qZA()}if(2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary py-2 flex-1 basis-5/12 mr-0 hover:text-white hover:bg-primary border-secondary-dark/30 border"),t.Q6J("disabled",e.btnDisable),t.uIk("data-tip",e.btnDisable&&"Appointment day is over!")}}function $(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.uploadDocuments(a.appointment))}),t._UZ(1,"i",24),t._uU(2," Upload Documents "),t.qZA()}}function X(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div",1)(2,"div")(3,"h2",2),t._uU(4),t.qZA()(),t.TgZ(5,"div",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"div",5)(8,"p",6)(9,"b"),t._uU(10,"Patient Name : "),t.qZA(),t.TgZ(11,"b"),t._uU(12),t.qZA()(),t.TgZ(13,"p",7)(14,"b"),t._uU(15,"Code : "),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p",7)(18,"b"),t._uU(19,"Date & Time : "),t.qZA(),t.TgZ(20,"b"),t._uU(21),t.ALo(22,"date"),t.qZA()(),t.TgZ(23,"p",7)(24,"b"),t._uU(25,"Doctor Fee :"),t.qZA(),t.TgZ(26,"span",8),t._uU(27),t.qZA()(),t.TgZ(28,"p",7)(29,"b"),t._uU(30," Appointment Type : "),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"p",7)(33,"b"),t._uU(34,"Consultancy Type : "),t.qZA(),t.TgZ(35,"span",9),t.YNc(36,V,1,0,"i",10),t._uU(37),t.qZA()(),t.TgZ(38,"p",7)(39,"b"),t._uU(40," Appointment Serial: "),t.qZA(),t._uU(41),t.qZA(),t.TgZ(42,"p",7)(43,"b"),t._uU(44,"Status : "),t.qZA(),t.TgZ(45,"span"),t._uU(46),t.qZA()()(),t.TgZ(47,"div",11),t.YNc(48,B,3,3,"button",12),t.YNc(49,W,3,0,"button",13),t.YNc(50,G,3,4,"button",14),t.YNc(51,$,3,0,"button",15),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" Dr. ",e.appointment.doctorName," "),t.xp6(8),t.Oqu(e.appointment.patientName),t.xp6(4),t.hij(" ",e.appointment.appointmentCode," "),t.xp6(5),t.AsE(" ",t.lcZ(22,17,e.appointment.appointmentDate)," - ",e.appointment.appointmentTime," "),t.xp6(6),t.hij("",e.appointment.totalAppointmentFee," tk. "),t.xp6(4),t.hij("",e.appointment.appointmentTypeName," "),t.xp6(5),t.Q6J("ngIf","online"==e.appointment.consultancyTypeName),t.xp6(1),t.hij("",e.appointment.consultancyTypeName," "),t.xp6(4),t.hij("",e.appointment.appointmentSerial," no. "),t.xp6(4),t.Tol(4==e.appointment.appointmentStatus?"bg-green-100 text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3  text-yellow-800 rounded-lg"),t.xp6(1),t.hij(" ",2==e.appointment.appointmentStatus?"Confirmed":4==e.appointment.appointmentStatus?"Completed":5==e.appointment.appointmentStatus?"Cancelled":"Progress"," "),t.xp6(2),t.Q6J("ngIf",2==e.appointment.appointmentStatus&&4!==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",4==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",2==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",2==e.appointment.appointmentStatus&&e.uploadPrescriptiion)}}function tt(o,r){1&o&&t._UZ(0,"i",16)}function et(o,r){if(1&o&&(t.TgZ(0,"button"),t._UZ(1,"i",18),t._uU(2," Cancel "),t.qZA()),2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12  hover:text-white hover:bg-secondary bg-primary/90 text-white  mr-0")}}function nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToJoinCall(a.appointment,"doctor"))}),t._UZ(1,"i",22),t._uU(2," Join Call "),t.qZA()}if(2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12   mr-0 hover:text-white hover:bg-secondary border-secondary-dark/30 border")}}function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div")(3,"h2",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToPatientProfile(a.appointment))}),t._uU(4),t.qZA()(),t.TgZ(5,"div",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"div",5)(8,"p",26)(9,"b"),t._uU(10,"Date & Time : "),t.qZA(),t.TgZ(11,"b"),t._uU(12),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"p",7)(15,"b"),t._uU(16,"Doctor Fee :"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p",7)(19,"b"),t._uU(20," Appointment Type : "),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p",7)(23,"b"),t._uU(24,"Consultancy Type : "),t.qZA(),t.TgZ(25,"span",27),t.YNc(26,tt,1,0,"i",10),t._uU(27),t.qZA()(),t.TgZ(28,"p",7)(29,"b"),t._uU(30," Appointment Serial: "),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"p",7)(33,"b"),t._uU(34,"Status : "),t.qZA(),t.TgZ(35,"span"),t._uU(36),t.qZA()()(),t.TgZ(37,"div",28),t.YNc(38,et,3,2,"button",29),t.YNc(39,nt,3,2,"button",12),t.TgZ(40,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToBuildPrescription(a.appointment.id))}),t._UZ(41,"i",20),t._uU(42,"Create Prescription "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.appointment.patientName," "),t.xp6(8),t.AsE(" ",t.lcZ(13,13,e.appointment.appointmentDate)," - ",e.appointment.appointmentTime," "),t.xp6(5),t.hij(" ",e.appointment.totalAppointmentFee," tk. "),t.xp6(4),t.hij("",e.appointment.appointmentTypeName," "),t.xp6(5),t.Q6J("ngIf","online"==e.appointment.consultancyTypeName),t.xp6(1),t.hij("",e.appointment.consultancyTypeName," "),t.xp6(4),t.hij("",e.appointment.appointmentSerial," no. "),t.xp6(4),t.Tol(4==e.appointment.appointmentStatus?"bg-green-100 text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3  text-yellow-800 rounded-lg"),t.xp6(1),t.hij(" ",2==e.appointment.appointmentStatus?"Confirmed":4==e.appointment.appointmentStatus?"Completed":5==e.appointment.appointmentStatus?"Cancelled":"Progress"," "),t.xp6(2),t.Q6J("ngIf",4!==e.appointment.appointmentStatus&&2==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",2==e.appointment.appointmentStatus)}}function it(o,r){1&o&&t._UZ(0,"i",16)}function at(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cancellAppointment(a.appointment.id))}),t._UZ(1,"i",18),t._uU(2," Cancel "),t.qZA()}if(2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary-light flex-1 basis-5/12 hover:text-white hover:bg-primary/30 bg-primary/90 text-white  mr-0"),t.uIk("data-tip",e.btnDisable&&"Not acceptable!")}}function pt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openPdfDialog(a.appointment.id))}),t._UZ(1,"i",20),t._uU(2," Prescription "),t.qZA()}}function rt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToJoinCall(a.appointment,"patient"))}),t._UZ(1,"i",22),t._uU(2," Join Call "),t.qZA()}if(2&o){const e=t.oxw(2);t.Tol(e.btnDisable?"btn-secondary-light tooltip tooltip-warning flex-1 basis-5/12 bg-primary/10 text-gray-400 hover:text-neutral-400  mr-0":"btn-secondary py-2 flex-1 basis-5/12 mr-0 hover:text-white hover:bg-primary border-secondary-dark/30 border"),t.Q6J("disabled",e.btnDisable),t.uIk("data-tip",e.btnDisable&&"Appointment day is over!")}}function st(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.uploadDocuments(a.appointment))}),t._UZ(1,"i",24),t._uU(2," Upload Documents "),t.qZA()}}function lt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div",1)(2,"div")(3,"h2",2),t._uU(4),t.qZA()(),t.TgZ(5,"div",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"div",5)(8,"p",6)(9,"b"),t._uU(10,"Patient : "),t.qZA(),t.TgZ(11,"b",31),t._uU(12),t.qZA()(),t.TgZ(13,"p",7)(14,"b"),t._uU(15,"Code : "),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p",7)(18,"b"),t._uU(19,"Date & Time : "),t.qZA(),t.TgZ(20,"b"),t._uU(21),t.ALo(22,"date"),t.qZA()(),t.TgZ(23,"p",7)(24,"b"),t._uU(25,"Doctor Fee :"),t.qZA(),t.TgZ(26,"span",8),t._uU(27),t.qZA()(),t.TgZ(28,"p",7)(29,"b"),t._uU(30," Appointment Type : "),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"p",7)(33,"b"),t._uU(34,"Consultancy Type : "),t.qZA(),t.TgZ(35,"span",9),t.YNc(36,it,1,0,"i",10),t._uU(37),t.qZA()(),t.TgZ(38,"p",7)(39,"b"),t._uU(40," Appointment Serial: "),t.qZA(),t.TgZ(41,"span",32),t._uU(42),t.qZA()(),t.TgZ(43,"p",7)(44,"b"),t._uU(45,"Status : "),t.qZA(),t.TgZ(46,"span"),t._uU(47),t.qZA()()(),t.TgZ(48,"div",11),t.YNc(49,at,3,3,"button",12),t.YNc(50,pt,3,0,"button",13),t.YNc(51,rt,3,4,"button",14),t.YNc(52,st,3,0,"button",15),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" Dr. ",e.appointment.doctorName," "),t.xp6(8),t.Oqu(e.appointment.patientName),t.xp6(4),t.hij(" ",e.appointment.appointmentCode," "),t.xp6(5),t.AsE(" ",t.lcZ(22,17,e.appointment.appointmentDate)," - ",e.appointment.appointmentTime," "),t.xp6(6),t.hij(" ",e.appointment.totalAppointmentFee," tk. "),t.xp6(4),t.hij("",e.appointment.appointmentTypeName," "),t.xp6(5),t.Q6J("ngIf","online"==e.appointment.consultancyTypeName),t.xp6(1),t.hij("",e.appointment.consultancyTypeName," "),t.xp6(5),t.hij("",e.appointment.appointmentSerial," no."),t.xp6(4),t.Tol(4==e.appointment.appointmentStatus?"bg-green-100 font-semibold text-green-950 py-.5 px-3 rounded-lg":"bg-yellow-100 py-.5 px-3 font-semibold text-yellow-800 rounded-lg"),t.xp6(1),t.hij(" ",2==e.appointment.appointmentStatus?"Confirmed":4==e.appointment.appointmentStatus?"Completed":5==e.appointment.appointmentStatus?"Cancelled":"Progress"," "),t.xp6(2),t.Q6J("ngIf",2==e.appointment.appointmentStatus&&4!==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",4==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",2==e.appointment.appointmentStatus),t.xp6(1),t.Q6J("ngIf",2==e.appointment.appointmentStatus&&e.uploadPrescriptiion)}}let ct=(()=>{class o{constructor(e,i,a,s,v){this.Router=e,this.dialog=i,this.AppointmentService=a,this.tosterService=s,this.NormalAuth=v,this.uploadPrescriptiion=!0,this.btnDisable=!1,this.btnDisable=!1}ngAfterViewInit(){console.log(this.appointment);const e=new Date,i=new Date(this.appointment.appointmentDate);e.setHours(0,0,0,0),i.setHours(0,0,0,0),this.uploadPrescriptiion=i.getTime()>=e.getTime(),this.btnDisable=i.getTime()<e.getTime()}goToBuildPrescription(e){null!=e&&void 0!==e?window.open("/#/doctor/build-prescription/"+e,"_blank"):console.log("Appointment not found")}goToPatientProfile(e){this.Router.navigate(["/doctor/patients/patient-details/",e.patientProfileId,e.doctorProfileId])}openPdfDialog(e){this.dialog.open(m.P,{minWidth:"820px",maxWidth:"100%",height:"1000px",data:{appointmentId:e}})}goToJoinCall(e,i){if(e){const a=new Date,s=new Date(e.appointmentDate),v={hour:+e.appointmentTime.split(":")[0],minute:+e.appointmentTime.split(":")[1]};if(a.getFullYear()<=s.getFullYear()&&a.getMonth()<=s.getMonth()&&a.getDate()<=s.getDate())if(a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate()){const u=(f=v.hour,U=v.minute,k=a.getHours(),q=a.getMinutes(),console.log({aptMinute:U,aptHour:f,currentHour:k,currentMinute:q}),U<15&&(U+=60,f-=1),60*(f-k)+(U-q));if(u<15&&u>-30){console.log("Appointment will start soon!");let f=e.doctorName;f="doctor"==i?e.doctorName:e.patientName,window.open(`https://agora-video-call-eight.vercel.app/?username=${f}&aptCode=${e.appointmentCode}&c=${i}`,"_blank")}else u>15?this.openDialog("Appointment time is not here yet!"):(this.openDialog("Appointment time is over!"),this.uploadPrescriptiion=!1)}else this.openDialog("Appointment date is coming soon!");else this.openDialog("Appointment date is over!"),this.uploadPrescriptiion=!1}var f,U,k,q}uploadDocuments(e){this.dialog.open(H,{width:"40vw",data:e?.patientProfileId}).afterClosed().subscribe(a=>{})}openDialog(e){this.dialog.open(x,{width:"40vw",data:e}).afterClosed().subscribe(a=>{})}cancellAppointment(e){let i=this.NormalAuth.authInfo();e&&confirm("Are you Sure, to canel this appointment?")&&this.AppointmentService.cancellAppointment(e,i.id,i.userType).subscribe(s=>{s&&this.tosterService.customToast("Appointment Cancelled!!","success")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(K.F0),t.Y36(Z.uw),t.Y36(D.H),t.Y36(j.G),t.Y36(E.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-appointment-card"]],inputs:{appointment:"appointment",user:"user"},decls:3,vars:3,consts:[[4,"ngIf"],[1,"border-b-[1px]","flex","justify-between","p-5","bg-primary/90"],[1,"text-[22px]","font-Roboto","font-semibold","text-gray-50","mt-2","capitalize"],[1,"w-[60px]","h-[60px]","overflow-hidden","rounded-full","border-secondary","border-[2px]"],["src","/assets/doctor/dr.jpeg","alt","",1,"w-full","h-full","object-cover"],[1,"px-6"],[1,"py-1","text-[18px]","text-gray-500","mt-5","flex","justify-between"],[1,"py-1","text-[14px]","text-gray-500","flex","justify-between"],[1,"font-semibold","text-[18px]"],[1,"badge","bg-green-200","font-semibold"],["class","fa-solid fa-video",4,"ngIf"],[1,"flex","w-full","justify-between","gap-3","flex-wrap","p-4","items-end","h-full"],[3,"class","click",4,"ngIf"],["class","btn-secondary-light flex-1 basis-5/12 mr-0 border-secondary-dark/30 border",3,"click",4,"ngIf"],[3,"disabled","class","click",4,"ngIf"],["class","btn-secondary-light flex-1 tooltip-warning basis-5/12 mr-0 border-secondary-dark/30 border",3,"click",4,"ngIf"],[1,"fa-solid","fa-video"],[3,"click"],[1,"fa-solid","fa-ban","mr-1"],[1,"btn-secondary-light","flex-1","basis-5/12","mr-0","border-secondary-dark/30","border",3,"click"],[1,"fa-solid","fa-prescription","mr-1"],[3,"disabled","click"],[1,"fa-solid","fa-phone-volume","mr-1"],[1,"btn-secondary-light","flex-1","tooltip-warning","basis-5/12","mr-0","border-secondary-dark/30","border",3,"click"],[1,"fa-solid","fa-upload","mr-1"],[1,"cursor-pointer","text-[22px]","font-Roboto","font-semibold","text-gray-50","mt-2","capitalize",3,"click"],[1,"py-1","text-[14px]","text-gray-500","mt-3","flex","justify-between"],[1,"badge"],[1,"grid","grid-cols-2","flex-wrap","w-full","justify-between","gap-4","p-4"],[3,"class",4,"ngIf"],[1,"btn-secondary-light","col-span-2","flex-1","active:scale-90","transition-all","duration-75","mr-0","hover:text-white","hover:bg-secondary","border-secondary-dark/30","border",3,"click"],[1,"text-[18px]","capitalize"],[1,"font-semibold"]],template:function(e,i){1&e&&(t.YNc(0,X,52,19,"div",0),t.YNc(1,ot,43,15,"div",0),t.YNc(2,lt,53,19,"div",0)),2&e&&(t.Q6J("ngIf","patient"==i.user),t.xp6(1),t.Q6J("ngIf","doctor"==i.user),t.xp6(1),t.Q6J("ngIf","agent"==i.user))},dependencies:[g.O5,g.uU]}),o})();function mt(o,r){1&o&&(t.TgZ(0,"div",8),t._UZ(1,"app-skeleton")(2,"app-skeleton")(3,"app-skeleton")(4,"app-skeleton")(5,"app-skeleton")(6,"app-skeleton")(7,"app-skeleton")(8,"app-skeleton"),t.qZA())}function dt(o,r){1&o&&(t.TgZ(0,"div",9)(1,"div"),t._uU(2,"No records has been found!"),t.qZA()())}function ut(o,r){if(1&o&&(t.TgZ(0,"div",10),t._UZ(1,"app-appointment-card",11),t.qZA()),2&o){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("appointment",e)("user",i.user)}}const gt=function(){return[5,10,25,100]};let ft=(()=>{class o{constructor(e,i,a){this.DoctorPatientAppointmentService=e,this.fb=i,this.AppointmentService=a,this.animationDirection="bottom",this.dataLoading=!1,this.appointmentList=[],this.skelton=!1,this.consultancyType=[],this.specialityList=[],this.specializationList=[],this.totalCount=0,this.filterModel={offset:0,limit:0,pageNo:0,pageSize:10,sortBy:"name",sortOrder:"asc",isDesc:!1},this.subs=new w.Y,this.doctorFilterDto={},this.filterInput={fields:{searchField:{formControlName:"search"},filterField:[{label:"Consultancy Type",fieldType:"select",formControlName:"consultancyType",options:c.v.getEnumList(_.Is)},{label:"start date",fieldType:"date-range",formControlName:{startDate:"startDate",endDate:"endDate"}}]}},this.filter=this.fb.group({})}ngOnInit(){this.id&&this.user?(this.dataLoading=!0,this.skelton=!0,this.DoctorPatientAppointmentService.getAllAppointmentList(this.id,this.user).subscribe({next:e=>{0===e.length?(this.appointmentList=[],this.skelton=!1,this.noDataAvailable=!0):(this.appointmentList=e,this.skelton=!1,this.noDataAvailable=!1)},error:e=>{this.skelton=!0}}).add(()=>{this.dataLoading=!1})):console.log("Doctor ID not found")}loadData(e){const{consultancyType:i,startDate:a,endDate:s}=e;let v=new Date(a).toLocaleDateString(),P=new Date(s).toLocaleDateString();this.doctorFilterDto.consultancyType=i,this.doctorFilterDto.fromDate=v,this.doctorFilterDto.toDate=P,this.filterModel.limit=this.filterModel.pageSize,this.filterModel.offset=(this.filterModel.pageNo-1)*this.filterModel.pageSize,"doctor"==this.user&&(this.subs.sink=(0,d.a)([this.AppointmentService.getAppointmentListForDoctorWithSearchFilter(this.id,this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForDoctorWithSearchFilter(this.id,this.doctorFilterDto)]).subscribe(([u,f])=>{this.totalCount=f,this.appointmentList=u},u=>{console.log(u)})),"patient"==this.user&&(this.subs.sink=(0,d.a)([this.AppointmentService.getAppointmentListForPatientWithSearchFilter(this.id,"patient",this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForPatientWithSearchFilter(this.id,"patient",this.doctorFilterDto)]).subscribe(([u,f])=>{this.totalCount=f,this.appointmentList=u},u=>{console.log(u)})),"agent"==this.user&&(this.subs.sink=(0,d.a)([this.AppointmentService.getAppointmentListForPatientWithSearchFilter(this.id,"agent",this.doctorFilterDto,this.filterModel),this.AppointmentService.getAppointmentCountForPatientWithSearchFilter(this.id,"agent",this.doctorFilterDto)]).subscribe(([u,f])=>{this.totalCount=f,this.appointmentList=u},u=>{console.log(u)}))}getSpecializations(e){}searchData(e){}searchChanged(e){console.log(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(N.qu),t.Y36(D.H))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-all-appointments"]],inputs:{id:"id",user:"user"},decls:8,vars:9,consts:[[1,"py-4","w-full","relative"],[3,"filterInput","filterForm","selectedValueForFilter","getSpecializations","searchValue"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-10 flex-wrap ",4,"ngIf"],["class","flex justify-center items-center h-[500px] w-full",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-10","3xl:grid-cols-4"],["class"," border-[1px] h-fit  rounded-md bg-white overflow-hidden",4,"ngFor","ngForOf"],[1,"flex","w-full","justify-center","py-10"],["aria-label","Select page",1,"bg-primary/5","py-2","px-2.5","rounded-xl","shadow-2xl","shadow-secondary/10",3,"length","pageSize","pageSizeOptions"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","2xl:grid-cols-4","gap-10","flex-wrap"],[1,"flex","justify-center","items-center","h-[500px]","w-full"],[1,"border-[1px]","h-fit","rounded-md","bg-white","overflow-hidden"],[3,"appointment","user"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"app-filter",1),t.NdJ("selectedValueForFilter",function(s){return i.loadData(s)})("getSpecializations",function(s){return i.getSpecializations(s)})("searchValue",function(s){return i.searchData(s)}),t.qZA(),t.YNc(2,mt,9,0,"div",2),t.YNc(3,dt,3,0,"div",3),t.TgZ(4,"div",4),t.YNc(5,ut,2,2,"div",5),t.qZA(),t.TgZ(6,"div",6),t._UZ(7,"mat-paginator",7),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("filterInput",i.filterInput)("filterForm",i.filter),t.xp6(1),t.Q6J("ngIf",i.skelton),t.xp6(1),t.Q6J("ngIf",i.noDataAvailable),t.xp6(2),t.Q6J("ngForOf",i.appointmentList),t.xp6(2),t.Q6J("length",100)("pageSize",10)("pageSizeOptions",t.DdM(8,gt)))},dependencies:[g.sg,g.O5,S._,C.NW,I.z,ct],styles:[".mdc-line-ripple{display:none}  .mat-mdc-text-field-wrapper{border:1px solid rgb(211,211,211);height:45px!important}  .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:30px}  .mat-mdc-select-arrow svg{top:0}  .mat-mdc-form-field{margin-left:15px}  .mat-mdc-paginator-page-size-select{height:40px}  .mat-mdc-paginator-container{background:white;border-radius:10px}  .mat-mdc-form-field-infix{padding-top:9px!important;padding-bottom:0}"]}),o})()},105:(J,T,p)=>{p.d(T,{M:()=>I});var c=p(6895),_=p(2510),w=p(7330),d=p(7098),t=p(4650);let l=(()=>{class m{}return m.\u0275fac=function(x){return new(x||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[c.ez,d.q]}),m})();var A=p(4006),h=p(9549),D=p(4385),b=p(7974),N=p(9602),g=p(4144),S=p(3238),C=p(9168);let I=(()=>{class m{}return m.\u0275fac=function(x){return new(x||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[c.ez,_.Bz.forChild([]),w.m,l,A.UX,h.lN,D.LD,b.TU,N.FA,g.c,S.XK,C.i]}),m})()},1873:(J,T,p)=>{p.d(T,{v:()=>w});class c{constructor(){}static getNamesAndValues(t){return c.getNames(t).map(l=>({name:l,value:t[l]}))}static getNames(t){return Object.keys(t).filter(l=>"number"==typeof t[l]||t[l]===l||t[t[l]]?.toString()!==l)}static getValues(t){return c.getNames(t).map(l=>t[l])}}var _=p(4650);let w=(()=>{class d{static getEnumList(l){let A=[];return c.getNamesAndValues(l).forEach(D=>{let b={id:D.value.toString(),name:D.name};A.push(b)}),A}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);