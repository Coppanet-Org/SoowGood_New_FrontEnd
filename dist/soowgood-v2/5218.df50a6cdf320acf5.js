"use strict";(self.webpackChunksoowgood_v2=self.webpackChunksoowgood_v2||[]).push([[5218],{5218:(T,x,d)=>{d.r(x),d.d(x,{ProfileSettingsModule:()=>et});var h=d(6895),e=d(4650),s=d(4006),p=d(1873),b=d(6516),g=d(2340),u=d(8745),m=d(2381),D=d(2339),I=d(529),Z=d(629),_=d(5412);const re=["attachments"];let ae=(()=>{class o{constructor(i,t,r,n,l){this.TosterService=i,this.DoctorProfileService=t,this.http=r,this.normalAuth=n,this.dialogRef=l,this.subs=new u.Y,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`,this.profileInfo=[]}ngOnInit(){let i=this.normalAuth.authInfo().id;this.doctorId=i,i&&(console.log(i),this.getProfileInfo(i))}getProfileInfo(i){i&&this.DoctorProfileService.get(i).subscribe(t=>{this.profileInfo=t})}uploadPic(){if(this.fileData.append("entityId",this.profileInfo.id.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","ProfilePicture"),this.fileData.append("directoryName","DoctorProfilePicture\\"+this.profileInfo.id.toString()),this.fileList.length>0){for(let i of this.fileList)this.fileData.append(i.name,i);this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(i=>{console.log(i),this.TosterService.customToast("Picture Changed Successfully","success"),this.dialogRef.close(!0)},i=>{this.dialogRef.close(!1),console.log(i)})}}onFileChanged(i){for(var t=0;t<=i.target.files.length-1;t++){var r=i.target.files[t];this.fileList.push(r),this.fileNames.push(r.name)}this.fileList.length>0&&this.checkFileValidation(i),this.attachment.nativeElement.value=""}removeSelectedFile(i){this.fileNames.splice(i,1),this.fileList.splice(i,1)}checkFileValidation(i){let t=i.target.files.length;if(t>0){var r=["image/png","image/jpeg","image/jpg"];const n=i.target.files;this.fileList=Array.from(n);for(let l=0;l<t;l++)n[l].size>5242880&&(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.TosterService.customToast("Maximum 5MB Accepted","warning")),r.indexOf(n[l].type.toLowerCase())>=0||(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.TosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(m.G),e.Y36(D.K),e.Y36(I.eN),e.Y36(Z.e),e.Y36(_.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-picture-dialog"]],viewQuery:function(i,t){if(1&i&&e.Gf(re,5),2&i){let r;e.iGM(r=e.CRH())&&(t.attachment=r.first)}},decls:27,vars:0,consts:[[1,"w-full","pt-10","px-10","pb-5","bg-white","rounded-xl","z-10"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-400"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3," Update Profile picture! "),e.qZA(),e.TgZ(4,"p",3),e._uU(5,"Lorem ipsum is placeholder text."),e.qZA()(),e.TgZ(6,"form",4)(7,"div",5)(8,"label",6),e._uU(9,"Attach Document"),e.qZA(),e.TgZ(10,"div",7)(11,"label",8)(12,"div",9)(13,"div",10),e._UZ(14,"img",11),e.qZA(),e.TgZ(15,"p",12)(16,"span",13),e._uU(17,"Click here to select your file!"),e.qZA()()(),e.TgZ(18,"input",14,15),e.NdJ("change",function(n){return t.onFileChanged(n)}),e.qZA()()()(),e.TgZ(21,"p",16)(22,"span"),e._uU(23,"File type: jpg and jpeg of images"),e.qZA()(),e.TgZ(24,"div")(25,"button",17),e.NdJ("click",function(){return t.uploadPic()}),e._uU(26," Update "),e.qZA()()()())}}),o})();var N=d(4096),A=d(2510),w=d(7087),C=d(427),se=d(6733),U=d(8824),ne=d(534),le=d(5649),q=d(5524),P=d(9549),de=d(6877);function ce(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function pe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select your title. "),e.qZA())}function ue(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your full name. "),e.qZA())}function me(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Full name should contain only letters and numbers at the end (optional). "),e.qZA())}function fe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Full name should be at least 3 characters long "),e.qZA())}function he(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your email. "),e.qZA())}function ge(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Email should be valid. "),e.qZA())}function be(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function ve(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select your gender. "),e.qZA())}function ye(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your birth date. "),e.qZA())}function xe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your BMDC number. "),e.qZA())}function _e(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," BMDC number should be a 6-9-digit number. "),e.qZA())}function Ze(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter the BMDC expire date. "),e.qZA())}function De(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Invalid date format. "),e.qZA())}function Se(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," BMDC expire date should be in the current year/month or a future. "),e.qZA())}function Te(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your city name. "),e.qZA())}function Ie(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," city name should contain only letters (no numbers or special characters). "),e.qZA())}function Ne(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your zip code. "),e.qZA())}function Ae(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Zip code should be a 4-digit number. "),e.qZA())}function we(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i),e.xp6(1),e.hij(" ",i," ")}}function Ce(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select your country! "),e.qZA())}function Ue(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter your Identity Number (Passport/NID). "),e.qZA())}function qe(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Identity Number (Passport/NID) should be actual format. "),e.qZA())}function Pe(o,a){if(1&o&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i.id),e.xp6(1),e.hij(" ",i.specialityName," ")}}function ze(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select your specialty. "),e.qZA())}function Le(o,a){1&o&&(e.TgZ(0,"div",33)(1,"span"),e._uU(2,"Update Info"),e.qZA()())}function Ee(o,a){1&o&&e._UZ(0,"span",34)}let z=(()=>{class o{constructor(i,t,r,n,l,c,f,v){this.fb=i,this.doctorSpeciality=t,this.doctorProfileService=r,this.NormalAuth=n,this.datePipe=l,this.LoaderService=c,this.UserinfoStateService=f,this.TosterService=v,this.genderList=[],this.titleList=[],this.maritalOptions=[],this.countryList=ne.h,this.specialties=[],this.formSubmitted=!1,this.isLoading=!1,this.formDataEvent=new e.vpe,this.profileData=new e.vpe,this.inputConfigs=le.Ap}ngOnInit(){this.loadForm(),this.genderList=p.v.getEnumList(b.Y0),this.maritalOptions=p.v.getEnumList(b.UE),this.titleList=p.v.getEnumList(b.vs),this.doctorSpeciality.getList().subscribe(t=>{this.specialties=t});let i=this.NormalAuth.authInfo().id;this.doctorId=i,this.fetchProfileInfo(i)}fetchProfileInfo(i){i&&this.UserinfoStateService.getData().subscribe(t=>{this.authInfo=t,t.dateOfBirth=this.formatDate(t.dateOfBirth),t.bmdcRegExpiryDate=this.formatDate(t.bmdcRegExpiryDate),this.form?.patchValue(t),this.profileData.emit(t),this.form.get("specialityId")?.patchValue(t.specialityId),this.LoaderService.sendLoaderState(!1)},t=>{this.LoaderService.sendLoaderState(!1),console.error("Error fetching profile information:",t)})}formatDate(i){if(!i)return"";const t=new Date(i);return this.datePipe.transform(t,"yyyy-MM-dd")||""}loadForm(){this.form=this.fb.group({doctorTitle:[""],fullName:[""],email:["",[s.kI.pattern(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/)]],gender:[""],dateOfBirth:[""],city:[""],country:["Bangladesh"],address:[""],zipCode:[""],bmdcRegNo:[""],bmdcRegExpiryDate:[""],specialityId:["",s.kI.required],identityNumber:[""]})}sendDataToParent(){this.formSubmitted=!0,this.form.invalid?this.TosterService.customToast("Fill all the requirements","warning"):this.formDataEvent.emit({...this.form.value,id:this.doctorId})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.qu),e.Y36(q.d),e.Y36(D.K),e.Y36(Z.e),e.Y36(h.uU),e.Y36(w.D),e.Y36(C.Z),e.Y36(m.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-basic-info"]],inputs:{isLoading:"isLoading"},outputs:{formDataEvent:"formDataEvent",profileData:"profileData"},decls:109,vars:29,consts:[[1,"flex","items-center","justify-left","mt-10","relative"],[1,"w-full","bg-white"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/4"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","doctorTitle","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","0",1,"font-semibold","text-gray-500"],["class","font-semibold text-gray-500",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["autocomplete","off","formControlName","fullName","type","text","name","name","id","name","placeholder","Full Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","email","type","email","placeholder","example@yourmail.com",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","gender","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","required","","formControlName","dateOfBirth","type","date","name","date","id","date",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["for","phone",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["autocomplete","off","formControlName","bmdcRegNo","placeholder","Enter your BMDC number",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","autocomplete","off","formControlName","bmdcRegExpiryDate","type","date","name","date","id","date",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","address","id","area","placeholder","Flat No - 1346, Road no - 02, block - C, Mohakhali DOHS",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","formControlName","city","id","state","placeholder","Enter city",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["autocomplete","off","maxlength","4","minlength","4","formControlName","zipCode","id","post-code","placeholder","Zip Code",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","country","id","country","placeholder","Enter Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","autocomplete","off","formControlName","identityNumber","type","text","name","identityNumber","id","identityNumber","placeholder","Identity Number (Passport/NID)",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","specialityId","name","select","id","select",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"flex","items-center","justify-end","w-fit","mt-6"],[1,"btn-secondary","px-10","hover:text-primary","border-transparent","hover:border","hover:border-secondary-border","group",3,"click"],["class","flex items-center gap-1 text-white group-hover:text-primary",4,"ngIf"],["class","loading loading-dots loading-md",4,"ngIf"],[1,"mt-10"],[1,"text-[20px]","font-Roboto","font-semibold","text-primary/90"],[3,"mobile"],[1,"font-semibold","text-gray-500",3,"value"],[1,"flex","items-center","gap-1","text-white","group-hover:text-primary"],[1,"loading","loading-dots","loading-md"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7," Your Title "),e.qZA(),e.TgZ(8,"select",7)(9,"option",8),e._uU(10," Select Title "),e.qZA(),e.YNc(11,ce,2,2,"option",9),e.qZA(),e.YNc(12,pe,2,0,"mat-error",10),e.qZA()(),e.TgZ(13,"div",4)(14,"div",5)(15,"label",6),e._uU(16," Full Name "),e.qZA(),e._UZ(17,"input",11),e.YNc(18,ue,2,0,"mat-error",10),e.YNc(19,me,2,0,"mat-error",10),e.YNc(20,fe,2,0,"mat-error",10),e.qZA()(),e.TgZ(21,"div",4)(22,"div",5)(23,"label",6),e._uU(24," Email "),e.qZA(),e._UZ(25,"input",12),e.YNc(26,he,2,0,"mat-error",10),e.YNc(27,ge,2,0,"mat-error",10),e.qZA()(),e.TgZ(28,"div",4)(29,"div",5)(30,"label",6),e._uU(31," Gender "),e.qZA(),e.TgZ(32,"select",13)(33,"option",8),e._uU(34," Select gender "),e.qZA(),e.YNc(35,be,2,2,"option",9),e.qZA(),e.YNc(36,ve,2,0,"mat-error",10),e.qZA()(),e.TgZ(37,"div",4)(38,"div",5)(39,"label",14),e._uU(40," Date of Birth "),e.qZA(),e._UZ(41,"input",15),e.YNc(42,ye,2,0,"mat-error",10),e.qZA()(),e.TgZ(43,"div",4)(44,"div",5)(45,"label",16),e._uU(46," BMDC Reg Number "),e.qZA(),e._UZ(47,"input",17),e.YNc(48,xe,2,0,"mat-error",10),e.YNc(49,_e,2,0,"mat-error",10),e.qZA()(),e.TgZ(50,"div",4)(51,"div",5)(52,"label",14),e._uU(53," BMDC Exp. Date "),e.qZA(),e._UZ(54,"input",18),e.YNc(55,Ze,2,0,"mat-error",10),e.YNc(56,De,2,0,"mat-error",10),e.YNc(57,Se,2,0,"mat-error",10),e.qZA()(),e.TgZ(58,"div",4)(59,"div",5)(60,"label",6),e._uU(61," Address "),e.qZA(),e._UZ(62,"input",19),e.qZA()(),e.TgZ(63,"div",4)(64,"div",5)(65,"label",6),e._uU(66," City "),e.qZA(),e._UZ(67,"input",20),e.YNc(68,Te,2,0,"mat-error",10),e.YNc(69,Ie,2,0,"mat-error",10),e.qZA()(),e.TgZ(70,"div",4)(71,"div",5)(72,"label",6),e._uU(73," Zip Code "),e.qZA(),e._UZ(74,"input",21),e.YNc(75,Ne,2,0,"mat-error",10),e.YNc(76,Ae,2,0,"mat-error",10),e.qZA()(),e.TgZ(77,"div",4)(78,"div",5)(79,"label",6),e._uU(80," Country "),e.qZA(),e.TgZ(81,"select",22),e.YNc(82,we,2,2,"option",9),e.qZA(),e.YNc(83,Ce,2,0,"mat-error",10),e.qZA()(),e.TgZ(84,"div",4)(85,"div",5)(86,"label",16),e._uU(87," Identity Number "),e.qZA(),e._UZ(88,"input",23),e.YNc(89,Ue,2,0,"mat-error",10),e.YNc(90,qe,2,0,"mat-error",10),e.qZA()(),e.TgZ(91,"div",4)(92,"div",5)(93,"label",6),e._uU(94," Specialties "),e.qZA(),e.TgZ(95,"select",24)(96,"option",8),e._uU(97," Select specialty "),e.qZA(),e.YNc(98,Pe,2,2,"option",9),e.qZA(),e.YNc(99,ze,2,0,"mat-error",10),e.qZA()()(),e.TgZ(100,"div",25)(101,"button",26),e.NdJ("click",function(){return t.sendDataToParent()}),e.YNc(102,Le,3,0,"div",27),e.YNc(103,Ee,1,0,"span",28),e.qZA()()(),e._UZ(104,"hr",29),e.TgZ(105,"div",29)(106,"h2",30),e._uU(107," Reset you password "),e.qZA()(),e._UZ(108,"app-reset-password",31),e.qZA()()),2&i){let r,n,l,c,f,v,y,S,R,G,$,M,K,V,H,X,W,ee,te,ie,oe;e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(9),e.Q6J("ngForOf",t.titleList),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&"0"===(null==(r=t.form.get("doctorTitle"))?null:r.value)),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(n=t.form.get("fullName"))?null:n.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(l=t.form.get("fullName"))?null:l.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(c=t.form.get("fullName"))?null:c.hasError("invalidName"))),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(f=t.form.get("email"))?null:f.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(v=t.form.get("email"))?null:v.hasError("pattern"))),e.xp6(8),e.Q6J("ngForOf",t.genderList),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&"0"===(null==(y=t.form.get("gender"))?null:y.value)),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(S=t.form.get("dateOfBirth"))?null:S.hasError("required"))),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(R=t.form.get("bmdcRegNo"))?null:R.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(G=t.form.get("bmdcRegNo"))?null:G.hasError("pattern"))),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==($=t.form.get("bmdcRegExpiryDate"))?null:$.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(M=t.form.get("bmdcRegExpiryDate"))?null:M.hasError("invalidDate"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(K=t.form.get("bmdcRegExpiryDate"))?null:K.hasError("expiredDate"))),e.xp6(11),e.Q6J("ngIf",t.formSubmitted&&(null==(V=t.form.get("city"))?null:V.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(H=t.form.get("city"))?null:H.hasError("pattern"))),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(X=t.form.get("zipCode"))?null:X.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(W=t.form.get("zipCode"))?null:W.hasError("pattern"))),e.xp6(6),e.Q6J("ngForOf",t.countryList),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(ee=t.form.get("country"))?null:ee.hasError("required"))),e.xp6(6),e.Q6J("ngIf",t.formSubmitted&&(null==(te=t.form.get("identityNumber"))?null:te.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&(null==(ie=t.form.get("identityNumber"))?null:ie.hasError("pattern"))),e.xp6(8),e.Q6J("ngForOf",t.specialties),e.xp6(1),e.Q6J("ngIf",t.formSubmitted&&"0"===(null==(oe=t.form.get("specialityId"))?null:oe.value)),e.xp6(3),e.Q6J("ngIf",!t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(5),e.Q6J("mobile",null==t.authInfo?null:t.authInfo.mobileNo)}},dependencies:[h.sg,h.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,P.TO,de.L],styles:["input[_ngcontent-%COMP%]{text-transform:capitalize}input[type=email][_ngcontent-%COMP%]{text-transform:lowercase}"]}),o})();var L=d(6153),E=d(7999);let Y=(()=>{class o{constructor(i){this.restService=i,this.apiName="Default",this.create=(t,r)=>this.restService.request({method:"POST",url:"/api/app/doctor-degree",body:t},{apiName:this.apiName,...r}),this.delete=(t,r)=>this.restService.request({method:"DELETE",url:`/api/app/doctor-degree/${t}`},{apiName:this.apiName,...r}),this.get=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/${t}`},{apiName:this.apiName,...r}),this.getDoctorDegreeListByDoctorId=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/doctor-degree-list-by-doctor-id/${t}`},{apiName:this.apiName,...r}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/doctor-degree"},{apiName:this.apiName,...t}),this.getListByDoctorId=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-degree/by-doctor-id/${t}`},{apiName:this.apiName,...r}),this.update=(t,r)=>this.restService.request({method:"PUT",url:"/api/app/doctor-degree",body:t},{apiName:this.apiName,...r})}}return o.\u0275fac=function(i){return new(i||o)(e.LFG(E.vgb))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ye(o,a){if(1&o&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i.id),e.xp6(1),e.Oqu(i.degreeName)}}function Fe(o,a){if(1&o&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i.id),e.xp6(1),e.Oqu(i.name)}}let F=(()=>{class o{constructor(i,t,r,n,l,c,f){this.degreeService=i,this.fb=t,this.doctorDegreeService=r,this.normalAuth=n,this.dialogRef=l,this.tosterService=c,this.editData=f,this.isLoading=!1,this.degreeList=[],this.durationList=[{id:1,name:"1 year"},{id:2,name:"2 year"},{id:3,name:"3 year"},{id:4,name:"4 year"},{id:5,name:"5 year"}]}ngOnInit(){this.loadForm(),this.degreeService.getList().subscribe(i=>{this.degreeList=i}),this.doctorId=this.normalAuth.authInfo().id,this.editData&&this.form.patchValue(this.editData)}loadForm(){this.form=this.fb.group({zipCode:["1216"],degreeId:["",s.kI.required],duration:["",s.kI.required],durationType:["",s.kI.required],passingYear:["",s.kI.required],instituteName:["",s.kI.required],instituteCity:["",s.kI.required],instituteCountry:["",s.kI.required]})}sendDataToParent(){let i=this.form.get("degreeId")?.value,t=this.form.get("duration")?.value;const r={...this.form.value,degreeId:Number(i),duration:Number(t),doctorProfileId:this.doctorId};if(this.form.valid||this.form.touched)if(this.editData){let n=[],l=this.editData;for(const c in r)r.hasOwnProperty(c)&&r[c]!==l[c]&&n.push(c);if(n.length<1)return void this.dialogRef.close(!1);this.doctorDegreeService.update({...r,id:this.editData.id}).subscribe(c=>{c?(this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)):(this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1))})}else this.doctorDegreeService.create(r).subscribe(n=>{n&&(this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0))});else this.tosterService.customToast("Please fill all the required fields!","warning")}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(L.R),e.Y36(s.qu),e.Y36(Y),e.Y36(Z.e),e.Y36(_.so),e.Y36(m.G),e.Y36(_.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-degree-dialog"]],decls:48,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","degreeId","name","degreeId","id","degreeId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","duration","name","duration","id","duration",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","durationType","type","text","name","date","id","durationType",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","passingYear","type","number","name","date","id","passingYear",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"w-full","px-3","sm:w-full"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["formControlName","instituteName","type","text","name","name","id","instituteName","placeholder","Institute Name",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCity","type","text","name","name","id","instituteCity","placeholder","Institute City",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["formControlName","instituteCountry","type","text","name","name","id","instituteCountry","placeholder","Institute Country",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],[1,"btn-secondary",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return t.dialogRef.close(!0)}),e._uU(5,"Close"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Degree Name "),e.qZA(),e.TgZ(13,"select",10),e.YNc(14,Ye,2,2,"option",11),e.qZA()()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label",12),e._uU(18," Duration "),e.qZA(),e.TgZ(19,"select",13),e.YNc(20,Fe,2,2,"option",11),e.qZA()()(),e.TgZ(21,"div",7)(22,"div",8)(23,"label",12),e._uU(24," Duration Type "),e.qZA(),e._UZ(25,"input",14),e.qZA()(),e.TgZ(26,"div",7)(27,"div",8)(28,"label",12),e._uU(29," Passing Year "),e.qZA(),e._UZ(30,"input",15),e.qZA()(),e.TgZ(31,"div",16)(32,"div",8)(33,"label",17),e._uU(34," Institute Name "),e.qZA(),e._UZ(35,"input",18),e.qZA()(),e.TgZ(36,"div",7)(37,"div",8)(38,"label",17),e._uU(39," Institute City "),e.qZA(),e._UZ(40,"input",19),e.qZA()(),e.TgZ(41,"div",7)(42,"div",8)(43,"label",17),e._uU(44," Institute Country "),e.qZA(),e._UZ(45,"input",20),e.qZA()()(),e.TgZ(46,"button",21),e.NdJ("click",function(){return t.sendDataToParent()}),e._uU(47),e.qZA()()()),2&i&&(e.xp6(3),e.hij(" ",t.editData?"Update":"Add"," Education "),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("ngForOf",t.degreeList),e.xp6(6),e.Q6J("ngForOf",t.durationList),e.xp6(27),e.hij(" ",t.editData?"Update":"Submit",""))},dependencies:[h.sg,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u]}),o})(),Be=(()=>{class o{constructor(i){this.degreeService=i,this.editDegree=new e.vpe,this.degreeList=[],this.degreename=""}ngOnInit(){this.degreeService.getList().subscribe(i=>{this.degreeList=i,this.getDegreeName(i)}),console.log(this.degreeData)}getDegreeName(i){this.degreename=i.find(t=>t.id==this.degreeData.degreeId)?.degreeName}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(L.R))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-degree-card"]],inputs:{degreeData:"degreeData"},outputs:{editDegree:"editDegree"},decls:23,vars:6,consts:[[1,"border","bg-secondary-light","bg-opacity-25","rounded-lg","p-6","text-gray-800","relative","z-10",2,"cursor","auto"],[1,"flex","flex-wrap","items-center"],[1,"w-full","flex","flex-col","justify-between"],[1,"font-bold","text-[24px]"],[1,"flex","flex-wrap","text-center","pt-4","mb-2"],[1,"mr-2","mb-2","rounded-full","px-3","py-1","text-xs","bg-primary","text-white"],[1,"text-sm","mt-2","list-disc","list-inside","text-gray-500","leading-relaxed"],[1,"w-full","sm:flex-2","grid","gap-4","grid-cols-2","pt-6"],[1,"btn-secondary",3,"click"],[1,"btn-secondary","bg-primary","text-white","hover:bg-secondary-light","hover:text-secondary-dark","hover:border-secondary-border-[4px]"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e.qZA()(),e.TgZ(11,"ul",6)(12,"li"),e._uU(13),e.qZA(),e.TgZ(14,"li"),e._uU(15),e.qZA(),e.TgZ(16,"li"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",7)(19,"button",8),e.NdJ("click",function(){return t.editDegree.emit(t.degreeData)}),e._uU(20,"Update"),e.qZA(),e.TgZ(21,"button",9),e._uU(22,"Delete"),e.qZA()()()()()),2&i&&(e.xp6(5),e.Oqu(null==t.degreeData?null:t.degreeData.instituteName),e.xp6(3),e.hij("",t.degreename," "),e.xp6(2),e.hij("Duration: ",null==t.degreeData?null:t.degreeData.duration," Years"),e.xp6(3),e.hij("Institute City : ",null==t.degreeData?null:t.degreeData.instituteCity,""),e.xp6(2),e.hij("Institute Country :",null==t.degreeData?null:t.degreeData.instituteCountry,""),e.xp6(2),e.hij("Zip Code",null==t.degreeData?null:t.degreeData.zipCode,""))}}),o})();function je(o,a){if(1&o){const i=e.EpF();e.TgZ(0,"div",10)(1,"app-degree-card",11),e.NdJ("editDegree",function(r){e.CHM(i);const n=e.oxw();return e.KtG(n.handleDegreeEdit(r))}),e.qZA()()}if(2&o){const i=a.$implicit;e.xp6(1),e.Q6J("degreeData",i)}}let B=(()=>{class o{constructor(i,t,r){this.dialog=i,this.doctorDegreeService=t,this.normalAuth=r,this.isLoading=!1,this.educationList=[]}ngOnInit(){let i=this.normalAuth.authInfo().id;this.doctorId=i,i&&this.getDegreeDataList(i)}getDegreeDataList(i){this.doctorDegreeService.getDoctorDegreeListByDoctorId(i).subscribe(t=>{this.educationList=t})}handleDegreeEdit(i){this.dialog.open(F,{data:i,width:"40vw"}).afterClosed().subscribe(t=>{!0===t&&this.getDegreeDataList(this.doctorId)})}openDialog(){this.dialog.open(F,{width:"40vw"}).afterClosed().subscribe(t=>{this.getDegreeDataList(this.doctorId)})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(_.uw),e.Y36(Y),e.Y36(Z.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-education-info"]],decls:12,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"flex","flex-wrap","flex-3","w-full","justify-between","row-gap-1"],["class","py-3 w-[33%]",4,"ngFor","ngForOf"],[1,"py-3","w-[33%]"],[3,"degreeData","editDegree"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Education Qualifications"),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.openDialog()}),e._UZ(8,"i",7),e._uU(9," Add Degree "),e.qZA()(),e.TgZ(10,"div",8),e.YNc(11,je,2,1,"div",9),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngForOf",t.educationList))},dependencies:[h.sg,Be]}),o})();var j=d(1450);let J=(()=>{class o{constructor(i){this.restService=i,this.apiName="Default",this.create=(t,r)=>this.restService.request({method:"POST",url:"/api/app/doctor-specialization",body:t},{apiName:this.apiName,...r}),this.delete=(t,r)=>this.restService.request({method:"DELETE",url:`/api/app/doctor-specialization/${t}`},{apiName:this.apiName,...r}),this.get=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/${t}`},{apiName:this.apiName,...r}),this.getBySpecialityId=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/by-speciality-id/${t}`},{apiName:this.apiName,...r}),this.getDoctorSpecializationListByDoctorId=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/doctor-specialization-list-by-doctor-id/${t}`},{apiName:this.apiName,...r}),this.getDoctorSpecializationListByDoctorIdSpecialityId=(t,r,n)=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization/doctor-specialization-list-by-doctor-id-speciality-id",params:{doctorId:t,specialityId:r}},{apiName:this.apiName,...n}),this.getDoctorSpecializationListBySpecialityId=(t,r)=>this.restService.request({method:"GET",url:`/api/app/doctor-specialization/doctor-specialization-list-by-speciality-id/${t}`},{apiName:this.apiName,...r}),this.getList=t=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization"},{apiName:this.apiName,...t}),this.getListByDoctorIdSpId=(t,r,n)=>this.restService.request({method:"GET",url:"/api/app/doctor-specialization/by-doctor-id-sp-id",params:{doctorId:t,specialityId:r}},{apiName:this.apiName,...n}),this.update=(t,r)=>this.restService.request({method:"PUT",url:"/api/app/doctor-specialization",body:t},{apiName:this.apiName,...r})}}return o.\u0275fac=function(i){return new(i||o)(e.LFG(E.vgb))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Je=["attachments"];function ke(o,a){if(1&o&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&o){const i=a.$implicit;e.s9C("value",i.id),e.xp6(1),e.Oqu(i.specializationName)}}let k=(()=>{class o{constructor(i,t,r,n,l,c,f,v,y){this.fb=i,this.dialogRef=t,this.tosterService=r,this.specializationService=n,this.doctorSpecializationService=l,this.doctorProfileService=c,this.normalAuth=f,this.http=v,this.editData=y,this.isLoading=!1,this.specializationList=[],this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`}ngOnInit(){this.loadForm();let i=this.normalAuth.authInfo().id;this.doctorId=i,i&&this.doctorProfileService.get(i).subscribe(t=>{this.form.patchValue(t),this.editData&&this.specializationService.getBySpecialityId(this.editData.specialityId).subscribe(r=>this.form.get("specializationId")?.patchValue(r.specializationName)),t.specialityId&&(this.specialityId=t.specialityId,this.specializationService.getListBySpecialtyId(t.specialityId).subscribe(r=>this.specializationList=r))})}loadForm(){this.form=this.fb.group({fullName:["",s.kI.required],documentName:[this.editData?this.editData.documentName:"",s.kI.required],specializationId:[this.editData?this.editData.specializationId:"",s.kI.required]})}saveSpecialization(){let i=this.form.get("specializationId")?.valid;if(!this.form.valid&&!this.form.touched)return void this.tosterService.customToast("Please fill all the required fields!","warning");if(!i)return void this.tosterService.customToast("Please select your specialization!","warning");if(0==this.fileNames.length)return void this.tosterService.customToast("Please upload your document!","warning");const r={...this.form.value,doctorProfileId:this.doctorId,specialityId:this.specialityId,documentName:this.selectedSpFileName};if(this.editData){let n=[],l=this.editData;for(const c in r)r.hasOwnProperty(c)&&r[c]!==l[c]&&n.push(c);if(n.length<1)return void this.dialogRef.close(!1);this.doctorSpecializationService.update({...r,id:this.editData.id}).subscribe(c=>{if(c){if(this.fileList.length>0)for(let f of this.fileList)this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString()),this.fileData.append(f.name,f),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(y=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},y=>{console.log(y)});this.tosterService.customToast("Successfully updated!","success"),this.dialogRef.close(!0)}else this.tosterService.customToast("Something went wrong! Please contact your administrator.","error"),this.dialogRef.close(!1)})}else this.doctorSpecializationService.create(r).subscribe(n=>{if(n){if(this.fileList.length>0)for(let l of this.fileList)this.fileData=new FormData,this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorExperties\\"+this.doctorId.toString()),this.fileData.append(l.name,l),this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(f=>{this.tosterService.customToast("Documents for Specializations Uploaded Successfully","success")},f=>{console.log(f)});this.tosterService.customToast("Successfully Saved!","success"),this.dialogRef.close(!0)}else this.dialogRef.close(!1),this.tosterService.customToast("Something went wrong! Please contact your administrator.","error")})}uploadDocuments(){if(this.fileData.append("entityId",this.doctorId.toString()),this.fileData.append("entityType","Doctor"),this.fileData.append("attachmentType","DoctorSpecialityDoc"),this.fileData.append("directoryName","DoctorSpecialityDoc\\"+this.doctorId.toString()),this.fileList.length>0){for(let i of this.fileList)this.fileData.append(i.name,i);this.http.post(`${this.apiUrl}/Common/Documents`,this.fileData).subscribe(i=>{this.tosterService.customToast("Successfully added!","success"),this.dialogRef.close(!0)},i=>{this.dialogRef.close(!1),console.log(i)})}}onFileChanged(i){this.fileList=[],this.fileNames=[];for(var t=0;t<=i.target.files.length-1;t++){var r=i.target.files[t];this.fileList.push(r),this.fileNames.push(r.name),this.selectedSpFileName=r.name}this.fileList.length>0&&this.checkFileValidation(i),this.attachment.nativeElement.value=""}removeSelectedFile(i){this.fileNames.splice(i,1),this.fileList.splice(i,1)}checkFileValidation(i){let t=i.target.files.length;if(t>0){var r=["image/png","image/jpeg","image/jpg","application/pdf"];const n=i.target.files;this.fileList=Array.from(n);for(let l=0;l<t;l++)n[l].size>5242880&&(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.tosterService.customToast("Maximum 5MB Accepted","warning")),r.indexOf(n[l].type.toLowerCase())>=0||(this.fileNames.splice(l,1),this.fileList.splice(l,1),this.tosterService.customToast("Only jpeg & jpg are Accepted.","warning"))}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.qu),e.Y36(_.so),e.Y36(m.G),e.Y36(j.N),e.Y36(J),e.Y36(D.K),e.Y36(Z.e),e.Y36(I.eN),e.Y36(_.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-specialization-dialog"]],viewQuery:function(i,t){if(1&i&&e.Gf(Je,5),2&i){let r;e.iGM(r=e.CRH())&&(t.attachment=r.first)}},decls:43,vars:5,consts:[[1,"flex","justify-between","py-4","px-6","border-b-[1px]","items-center"],[1,"dashbord-heading-text"],[1,"fa-solid","fa-plus"],[1,"btn-secondary-light",3,"click"],[1,"px-10","py-6"],[3,"formGroup"],[1,"-mx-3","flex","flex-wrap"],[1,"w-full","px-3","sm:w-1/2"],[1,"mb-5"],["for","name",1,"mb-2","block","font-medium","text-[14px]","text-primary"],["formControlName","specializationId","name","specializationId","id","specializationId",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-2","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["value","",1,"font-semibold","text-slate-300"],["class","font-semibold text-slate-800",3,"value",4,"ngFor","ngForOf"],["for","date",1,"mb-2","block","font-medium","text-[14px]","text-[#07074D]"],["readonly","","formControlName","fullName","type","text","name","fullName","id","fullName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md"],["readonly","","formControlName","documentName","type","text","name","documentName","id","documentName",1,"w-full","rounded-md","border","border-[#e0e0e0]","bg-white","py-1.5","px-3","text-base","font-normal","text-[14px]","text-[#6B7280]","outline-none","focus:border-[#6A64F1]","focus:shadow-md",3,"value"],[1,"grid","space-y-2","w-full","px-3","sm:w-full"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg,.png,.pdf",1,"hidden",3,"change"],["attachments","","fileInput",""],[1,"btn-secondary","border","border-transparent","mt-5",3,"click"],[1,"font-semibold","text-slate-800",3,"value"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1",1),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return t.dialogRef.close(!0)}),e._uU(5,"Close"),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Your Specialization "),e.qZA(),e.TgZ(13,"select",10)(14,"option",11),e._uU(15,"Select Specialization"),e.qZA(),e.YNc(16,ke,2,2,"option",12),e.qZA()()(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",13),e._uU(20," Doctor Name "),e.qZA(),e._UZ(21,"input",14),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8)(24,"label",13),e._uU(25," Document Name "),e.qZA(),e._UZ(26,"input",15),e.qZA()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"Attach Your Speciality Document"),e.qZA(),e.TgZ(30,"div",18)(31,"label",19)(32,"div",20)(33,"div",21),e._UZ(34,"img",22),e.qZA(),e.TgZ(35,"p",23)(36,"span",24),e._uU(37,"Click here to select your file!"),e.qZA()()(),e.TgZ(38,"input",25,26),e.NdJ("change",function(n){return t.onFileChanged(n)}),e.qZA()()()()(),e.TgZ(41,"button",27),e.NdJ("click",function(){return t.saveSpecialization()}),e._uU(42),e.qZA()()()),2&i&&(e.xp6(3),e.hij(" ",t.editData?"Update":"Add"," Specialization "),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(9),e.Q6J("ngForOf",t.specializationList),e.xp6(10),e.s9C("value",t.selectedSpFileName),e.xp6(16),e.hij(" ",t.editData?"Update":"Submit",""))},dependencies:[h.sg,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u]}),o})();var Oe=d(4128);function Qe(o,a){if(1&o){const i=e.EpF();e.TgZ(0,"tr",15)(1,"td",16),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.qZA(),e.TgZ(7,"td",17),e._uU(8),e.qZA(),e.TgZ(9,"td",17)(10,"a",18),e.NdJ("click",function(){const n=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.handleSpecializationEdit(n))}),e._uU(11,"Edit Specialization"),e.qZA()()()}if(2&o){const i=a.$implicit,t=a.index;e.xp6(2),e.hij(" ",t+1," "),e.xp6(2),e.hij(" ",i.specialityName," "),e.xp6(2),e.hij(" ",i.specializationName," "),e.xp6(2),e.hij(" ",i.documentName," ")}}let O=(()=>{class o{constructor(i,t,r,n,l,c,f){this.dialog=i,this.doctorSpecializationService=t,this.doctorSpeciality=r,this.specializationService=n,this.normalAuth=l,this.doctorProfileService=c,this.doctorDocService=f,this.allSpecializations=[],this.specialityName="",this.specializationName="",this.specialityId="",this.subs=new u.Y}ngOnInit(){let i=this.normalAuth.authInfo().id,t=this.normalAuth.authInfo().specialityId;i&&t&&(this.doctorId=i,this.specialityId=t,this.doctorSpeciality.get(this.specialityId).subscribe(r=>{this.specialityName=r.specialityName}),this.combineObservables(this.doctorId,t))}combineObservables(i,t){const r=this.doctorSpecializationService.getListByDoctorIdSpId(i,t),n=this.doctorDocService.getDocumentInfoByEntityTypeAndEntityIdAndAttachmentType("Doctor",this.doctorId,"DoctorSpecialityDoc");(0,Oe.D)([r,n]).subscribe(([l,c])=>{this.allSpecializations=l})}getDoctorSpecializationList(i,t){this.doctorSpecializationService.getListByDoctorIdSpId(i,t).subscribe(r=>{this.allSpecializations=r})}getSpecializations(i){return this.specializationService.getBySpecialityId(i).subscribe(t=>{this.specializationName=t.specializationName})}openDialog(){this.dialog.open(k,{width:"40vw"}).afterClosed().subscribe(t=>{1==t&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}handleSpecializationEdit(i){this.dialog.open(k,{data:i,width:"40vw"}).afterClosed().subscribe(t=>{1==t&&this.getDoctorSpecializationList(this.doctorId,this.specialityId)})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(_.uw),e.Y36(J),e.Y36(q.d),e.Y36(j.N),e.Y36(Z.e),e.Y36(D.K),e.Y36(N.H))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-specialization-info"]],decls:28,vars:1,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"btn-secondary-light",3,"click"],[1,"fa-solid","fa-plus","mr-1"],[1,"w-full","mt-3"],[1,"relative","overflow-x-auto","shadow-md","w-full","sm:rounded-lg"],[1,"flex","items-center","justify-between","pb-4","bg-white","dark:bg-gray-900"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","border-[1px]"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],["class","bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"w-4","p-4"],[1,"px-6","py-4"],[1,"font-medium","text-blue-600","dark:text-blue-500","hover:underline",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Skill & Specializations "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.openDialog()}),e._UZ(8,"i",7),e._uU(9," Add Specialization "),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead",12)(15,"tr")(16,"th",13),e._uU(17," ID "),e.qZA(),e.TgZ(18,"th",13),e._uU(19," Specialty "),e.qZA(),e.TgZ(20,"th",13),e._uU(21," Specialization "),e.qZA(),e.TgZ(22,"th",13),e._uU(23," Documents "),e.qZA(),e.TgZ(24,"th",13),e._uU(25," Action "),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,Qe,12,4,"tr",14),e.qZA()()()()()()()()),2&i&&(e.xp6(27),e.Q6J("ngForOf",t.allSpecializations))},dependencies:[h.sg]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-documents"]],decls:29,vars:0,consts:[[1,"flex","items-center","justify-left","my-7"],[1,"w-full","bg-white"],[1,"relative","overflow-x-auto","sm:rounded-lg"],[1,"py-2","pl-5","pr-1","border-[1px]","rounded-md","flex","gap-4","items-center"],[1,"dashbord-heading-text","text-[18px]","font-medium"],[1,"fa-solid","fa-building-columns","mr-1"],[1,"flex","flex-wrap","w-full","justify-between","row-gap-1"],[1,"mt-8","space-y-3"],[1,"grid","grid-cols-1","space-y-2"],[1,"text-sm","font-bold","text-gray-500","tracking-wide"],[1,"flex","items-center","justify-center","w-full"],[1,"flex","flex-col","rounded-lg","border-4","border-dashed","w-full","h-60","p-10","group","text-center"],[1,"h-full","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"flex","flex-auto","max-h-48","w-2/5","mx-auto","-mt-10"],["src","https://img.freepik.com/free-vector/image-upload-concept-landing-page_52683-27130.jpg?size=338&ext=jpg","alt","freepik image",1,"has-mask","h-36","object-center"],[1,"pointer-none","text-gray-500"],[1,"text-sm"],["type","file","accept",".jpg,.jpeg",1,"hidden"],["attachments","","fileInput",""],[1,"text-sm","text-gray-300"],["type","submit",1,"btn-primary","w-full","focus-ring-primary"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._UZ(5,"i",5),e._uU(6," Documents Upload"),e.qZA()(),e.TgZ(7,"div",6)(8,"form",7)(9,"div",8)(10,"label",9),e._uU(11,"Attach NID/Passport Document"),e.qZA(),e.TgZ(12,"div",10)(13,"label",11)(14,"div",12)(15,"div",13),e._UZ(16,"img",14),e.qZA(),e.TgZ(17,"p",15)(18,"span",16),e._uU(19,"Click here to select your file!"),e.qZA()()(),e._UZ(20,"input",17,18),e.qZA()()(),e.TgZ(23,"p",19)(24,"span"),e._uU(25,"File type: jpg and jpeg of images"),e.qZA()(),e.TgZ(26,"div")(27,"button",20),e._uU(28," Update "),e.qZA()()()()()()())},dependencies:[s._Y,s.JL,s.F]}),o})();const Re=["attachments"];let Ge=(()=>{class o{constructor(i,t,r,n,l,c,f,v,y,S){this._fb=i,this.doctorProfileService=t,this.doctorProfilePicService=r,this._router=n,this.TosterService=l,this.normalAuth=c,this.dialog=f,this.LoaderService=v,this.UserinfoStateService=y,this.profilePicService=S,this.getProfileInfo=new e.vpe,this.animationDirection="right",this.isLoading=!1,this.doctorTitleList=[],this.activeTab="",this.subs=new u.Y,this.fileList=[],this.fileNames=[],this.fileData=new FormData,this.profilePic="",this.apiUrl=`${g.N.apis.default.url}/api`,this.picUrl=`${g.N.apis.default.url}/`,this.firstFormGroup=this._fb.group({firstCtrl:["",s.kI.required]}),this.secondFormGroup=this._fb.group({secondCtrl:["",s.kI.required]}),this.isLinear=!1}ngOnInit(){let i=this.normalAuth.authInfo();this.doctorId=i.id,i.id&&this.UserinfoStateService.getProfileInfo(i.id,i.userType),this.doctorTitleList=p.v.getEnumList(b.vs),this.getLastPathSegment(this._router.url),this.UserinfoStateService.getData().subscribe(r=>this.profileInfo=r),this.getProfilePic()}getTitle(i){return this.doctorTitleList.find(r=>r.id==i)?.name}handleFormData(i){const t={...i};let r=[];for(const n in i)i.hasOwnProperty(n)&&i[n]!==this.profileInfo[n]&&r.push(n);0===r.length?(this.TosterService.customToast("Nothing has changed","warning"),this.isLoading=!1):(this.isLoading=!0,this.doctorProfileService.updateDocotrProfile(t).subscribe(n=>{this.isLoading=!1;let l="";if(r.length>0)if(r.length>1){const c=r.pop();l=`${r.join(", ")} and ${c} Successfully Updated!`}else l=`${r[0]} Successfully Updated! `;this.TosterService.customToast(l,"success"),this.UserinfoStateService.getProfileInfo(this.doctorId,"doctor"),this.getProfilePic()},n=>{this.isLoading=!1,this.TosterService.customToast(n.message,"error")}))}getLastPathSegment(i){const t=i.split("/");let r=t[t.length-1];"basic-info"==r&&(this.activeTab="0"),"education"==r&&(this.activeTab="1"),"specialization"==r&&(this.activeTab="2"),"documents"==r&&(this.activeTab="3")}onchangeStep(i){0==i.selectedIndex&&this._router.navigate(["doctor/profile-settings/basic-info"]),1==i.selectedIndex&&this._router.navigate(["doctor/profile-settings/education"]),2==i.selectedIndex&&this._router.navigate(["doctor/profile-settings/specialization"]),3==i.selectedIndex&&this._router.navigate(["doctor/profile-settings/documents"])}getProfilePic(){this.profilePicService.getProfilePic("Doctor",this.doctorId,"ProfilePicture").then(({profilePic:i,picUrl:t})=>{this.profilePic=i,this.url=t+this.profilePic,this.isLoading=!1}).catch(i=>{this.TosterService.customToast("Error getting profile picture:",i),this.isLoading=!1})}openDialog(){this.dialog.open(ae,{width:"30vw"}).afterClosed().subscribe(t=>{1==t&&this.getProfilePic()})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.qu),e.Y36(D.K),e.Y36(N.H),e.Y36(A.F0),e.Y36(m.G),e.Y36(Z.e),e.Y36(_.uw),e.Y36(w.D),e.Y36(C.Z),e.Y36(se.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-settings"]],viewQuery:function(i,t){if(1&i&&e.Gf(Re,5),2&i){let r;e.iGM(r=e.CRH())&&(t.attachment=r.first)}},outputs:{getProfileInfo:"getProfileInfo"},decls:29,vars:8,consts:[[1,"doctor-dashboard_midcontent_container"],[1,"mx-auto"],[1,"bg-white","relative","shadow","rounded-lg","w-full","mx-auto"],[1,"p-10","pt-8"],[1,"flex","justify-between","items-center"],[1,"flex","justify-left","items-center","gap-6"],[1,"relative","w-[128px]","h-[128px]","bg-white","transition"],["alt","avater",1,"object-cover","rounded-lg","mx-auto","w-32","h-32","shadow-md","border-4","border-white",3,"src"],["type","file","accept",".gif,.jpg,.jpeg,.png,.doc,.docx,.pdf","multiple","",2,"display","none"],["attachments","","fileInput",""],[1,"duration-200","transform","hover:scale-110","flex","justify-center","items-center","cursor-pointer","absolute","-bottom-[8px]","-right-[8px]","w-[30px]","h-[30px]","rounded-full","p-1","bg-white","z-20","border-[1px]",3,"click"],[1,"fa-solid","fa-camera","text-primary"],[1,"font-bold","text-left","text-3xl","text-gray-900","dashbord-heading-text"],[1,"text-left","text-sm","text-gray-400","mt-2","font-medium","dashbord-heading-subtext"],[1,"mt-7","mx-auto",3,"selectedIndex","selectionChange"],["stepper",""],["label","Basic Info",3,"stepControl"],[3,"isLoading","formDataEvent"],["label","Education",3,"stepControl","ariaSelected"],["label","Specializations"],["label","Documents"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"img",7)(9,"input",8,9),e.TgZ(12,"div",10),e.NdJ("click",function(){return t.openDialog()}),e._UZ(13,"i",11),e.qZA()(),e.TgZ(14,"div")(15,"h1",12),e._uU(16),e.qZA(),e.TgZ(17,"p",13),e._uU(18),e.qZA()()()(),e.TgZ(19,"mat-stepper",14,15),e.NdJ("selectionChange",function(n){return t.onchangeStep(n)}),e.TgZ(21,"mat-step",16)(22,"app-basic-info",17),e.NdJ("formDataEvent",function(n){return t.handleFormData(n)}),e.qZA()(),e.TgZ(23,"mat-step",18),e._UZ(24,"app-education-info"),e.qZA(),e.TgZ(25,"mat-step",19),e._UZ(26,"app-specialization-info"),e.qZA(),e.TgZ(27,"mat-step",20),e._UZ(28,"app-documents"),e.qZA()()()()()()()),2&i&&(e.xp6(8),e.Q6J("src",t.url?t.url:"assets/doctor/avater.png",e.LSH),e.xp6(8),e.hij(" ",null==t.profileInfo?null:t.profileInfo.fullName," "),e.xp6(2),e.hij(" ",null==t.profileInfo?null:t.profileInfo.specialityName," "),e.xp6(1),e.Q6J("selectedIndex",t.activeTab),e.xp6(2),e.Q6J("stepControl",t.firstFormGroup),e.xp6(1),e.Q6J("isLoading",t.isLoading),e.xp6(1),e.Q6J("stepControl",t.secondFormGroup)("ariaSelected",t.activeTab))},dependencies:[U.C0,U.Vq,z,B,O,Q]}),o})();var $e=d(49),Me=d(7905),Ke=d(7098),Ve=d(4144);let He=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.ez]}),o})();var Xe=d(5831);const We=[{path:"",component:Ge,children:[{path:"",redirectTo:"basic-info",pathMatch:"full"},{path:"basic-info",component:z},{path:"education",component:B},{path:"specialization",component:O},{path:"documents",component:Q}]}];let et=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[h.uU],imports:[h.ez,A.Bz.forChild(We),$e.U,Me.g,Ke.q,P.lN,Ve.c,He,Xe.n]}),o})()},5524:(T,x,d)=>{d.d(x,{d:()=>s});var h=d(4650),e=d(7999);let s=(()=>{class p{constructor(g){this.restService=g,this.apiName="Default",this.create=(u,m)=>this.restService.request({method:"POST",url:"/api/app/speciality",body:u},{apiName:this.apiName,...m}),this.get=(u,m)=>this.restService.request({method:"GET",url:`/api/app/speciality/${u}`},{apiName:this.apiName,...m}),this.getList=u=>this.restService.request({method:"GET",url:"/api/app/speciality"},{apiName:this.apiName,...u}),this.update=(u,m)=>this.restService.request({method:"PUT",url:"/api/app/speciality",body:u},{apiName:this.apiName,...m})}}return p.\u0275fac=function(g){return new(g||p)(h.LFG(e.vgb))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1450:(T,x,d)=>{d.d(x,{N:()=>s});var h=d(4650),e=d(7999);let s=(()=>{class p{constructor(g){this.restService=g,this.apiName="Default",this.create=(u,m)=>this.restService.request({method:"POST",url:"/api/app/specialization",body:u},{apiName:this.apiName,...m}),this.get=(u,m)=>this.restService.request({method:"GET",url:`/api/app/specialization/${u}`},{apiName:this.apiName,...m}),this.getBySpecialityId=(u,m)=>this.restService.request({method:"GET",url:`/api/app/specialization/by-speciality-id/${u}`},{apiName:this.apiName,...m}),this.getList=u=>this.restService.request({method:"GET",url:"/api/app/specialization"},{apiName:this.apiName,...u}),this.getListBySpecialtyId=(u,m)=>this.restService.request({method:"GET",url:`/api/app/specialization/by-specialty-id/${u}`},{apiName:this.apiName,...m}),this.update=(u,m)=>this.restService.request({method:"PUT",url:"/api/app/specialization",body:u},{apiName:this.apiName,...m})}}return p.\u0275fac=function(g){return new(g||p)(h.LFG(e.vgb))},p.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},8745:(T,x,d)=>{d.d(x,{Y:()=>e});var e=function(){function s(){this._subs=[]}return s.prototype.add=function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];this._subs=this._subs.concat(p)},Object.defineProperty(s.prototype,"sink",{set:function(p){this._subs.push(p)},enumerable:!0,configurable:!0}),s.prototype.unsubscribe=function(){this._subs.forEach(function(p){return p&&function(s){return"function"==typeof s}(p.unsubscribe)&&p.unsubscribe()}),this._subs=[]},s}()}}]);