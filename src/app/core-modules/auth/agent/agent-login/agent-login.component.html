<div class="signup-form">
  <div class="signup-form__left">
    <img
      class="w-full h-full object-cover"
      width="300"
      height="300"
      ngSrc="/assets/agent/auth-bg.avif"
      alt="auth"
    />
  </div>
  <div class="signup-form__right drop-shadow-soft relative">
    <!-- <img src="../../../../assets/SoowGood-Logo.png" alt="logo" class="absolute top-5 left-5"> -->
    <div
      class="max-w-lg min-w-[500px] mx-auto mt-10 bg-white p-8 rounded-xl shadow shadow-slate-300"
    >
      <h1 class="text-4xl font-bold font-Roboto">Agent Login</h1>
      <p class="text-slate-500 mt-2">Hi, Welcome to SoowGood ðŸ‘‹</p>
      <form
        action=""
        class="mt-6"
        [formGroup]="loginForm"
        (submit)="onSubmit()"
      >
        <div class="flex flex-col space-y-5 mt-10">
          <label for="mobile">
            <p class="font-medium text-slate-700 pb-2">Mobile Number</p>
            <div
              class="form_input flex h-[40px]"
              [ngClass]="{
                'border-red-500':
                  loginForm.get('mobileNo')?.invalid &&
                  loginForm.get('mobileNo')?.touched
              }"
            >
              <span matPrefix class="h-fit font-Roboto">+88 &nbsp;</span>
              <input
                matInput
                maxlength="11"
                class="w-full border-none outline-none font-Roboto h-fit"
                type="tel"
                formControlName="mobileNo"
                id="mobileNo"
                placeholder="018-000-00000"
                required
                inputmode="numeric"
              />
            </div>
          </label>

          <label for="Password">
            <p class="font-medium text-slate-700 pb-2">Password</p>
            <div class="form_input flex justify-between">
              <input
                formControlName="password"
                [type]="passwordFieldType"
                name="password"
                id="password"
                placeholder="Password123@*"
                class="w-full outline-none"
              />
              <span
                (click)="passwordVisibility('password')"
                class="cursor-pointer"
              >
                <i
                  [class]="
                    passwordFieldType === 'password'
                      ? 'fa fa-eye-slash'
                      : 'fa fa-eye'
                  "
                ></i>
              </span>
            </div>
            <div class="flex flex-col">
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('required')
                "
              >
                Password is required.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('startsWithUppercase')
                "
              >
                Password must start with an uppercase letter.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('isAtLeast6Characters')
                "
              >
                Password must be at least 6 characters long.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm
                    .get('password')
                    ?.hasError('includesSpecialCharacter')
                "
              >
                Password must include a special character.
              </mat-error>
              <mat-error
                *ngIf="
                  formSubmitted &&
                  loginForm.get('password')?.hasError('includesNumber')
                "
              >
                Password must include a number.
              </mat-error>
              <mat-error
                *ngIf="loginForm.get('password')?.hasError('customError')"
              >
                {{ loginForm.get("password")?.getError("customError") }}
              </mat-error>
            </div>
          </label>

          <div
            *ngIf="this.errorMessage"
            class="p-4 mb-4 text-sm text-yellow-800 rounded-lg bg-yellow-50 font-semibold font-Roboto"
            role="alert"
          >
            <i class="fa-solid fa-circle-exclamation mr-2"></i>
            {{ this.errorMessage }}
          </div>
          <p>
            Forgot your password?<strong
              class="cursor-pointer"
              routerLink="/forgot-password"
            >
              Reset now</strong
            >
          </p>
          <button
            [disabled]="isLoading || !loginForm.dirty || loginForm.invalid"
            type="submit"
            class="form_btn disabled:bg-gray-500 disabled:select-none"
          >
            <div *ngIf="!isLoading" class="flex items-center">
              <span>Login</span>
              <i class="fa-solid ml-2 fa-right-to-bracket"></i>
            </div>
            <span
              *ngIf="isLoading"
              class="loading loading-dots loading-md"
            ></span>
          </button>
          <p class="text-center">
            Don't have an account?
            <a
              routerLink="/agent/signup"
              class="text-primary font-medium inline-flex space-x-1 items-center"
              ><span>Sign up </span
              ><span
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                  /></svg></span
            ></a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
