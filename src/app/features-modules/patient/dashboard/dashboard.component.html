<div class="doctor-dashboard_midcontent_container p-4 relative">
  <div class="top-bar grid grid-cols-1 lg:grid-cols-[9fr,3fr] gap-6">
    <div class="w-full">
      <div
        class="top-box mt-2 grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 max-w-[100%] gap-5"
      >
        <app-dashboard-statisticscard
          *ngFor="let detail of details"
          [details]="detail"
        ></app-dashboard-statisticscard>
      </div>

      <div class="bottom-box border-[1px] mt-5 bg-white rounded-lg box-border">
        <div class="flex justify-between border-b-[1px] px-5 py-3 items-center">
          <h2 class="dashbord-heading-text h-fit">Appointments Activity</h2>
          <div>
            <select
              [ngModel]="selectedValue"
              (change)="changeSelection($event)"
              [value]="selectedValue"
            >
              <option value="All">All</option>
              <option value="Confirmed">Confirmed</option>
              <option value="Completed">Completed</option>
            </select>
          </div>
          <button
            class="btn-secondary-light h-fit"
            routerLink="../appointments"
          >
            View all
          </button>
        </div>
        <table
          *ngIf="!aptLoading"
          class="w-full text-sm text-left rounded-lg text-gray-500 border-[1px]"
        >
          <thead class="text-xs rounded-lg text-gray-800 uppercase bg-black/5">
            <tr>
              <th scope="col" class="px-6 py-3">Doctor Name</th>
              <th scope="col" class="px-6 py-3">App. Day</th>
              <th scope="col" class="px-6 py-3">App. Time</th>
              <th scope="col" class="px-6 py-3">Serial No</th>
              <!-- <th scope="col" class="px-6 py-3">
                                Action
                            </th> -->
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let apt of appointmentList"
              class="bg-white hover:bg-gray-50"
            >
              <td class="px-6 py-4">
                {{ apt.doctorName }}
              </td>
              <td class="px-6 py-4">
                {{ apt.appointmentDate | date }}
              </td>
              <td class="px-6 py-4">
                {{ apt.appointmentTime }}
              </td>
              <td class="px-6 py-4">
                {{ apt.appointmentSerial }}
              </td>
            </tr>
          </tbody>
        </table>
        <div
          *ngIf="aptLoading"
          class="w-full h-[300px] flex justify-center items-center"
        >
          Data is Loading...
        </div>
      </div>
    </div>

    <div
      class="dashboard_today_appointment lg:sticky lg:top-20 h-screen rounded-lg box-border"
    >
      <div class="mt-4 border-[1px]">
        <div class="flex items-center justify-between">
          <h2
            class="dashbord-heading-text bg-secondary/10 text-secondary border-b-[1px] w-full px-5 py-2"
          >
            <i class="fa-solid fa-house-signal mr-2"></i>
            Live Doctor
            <span>({{ currentOnlineDoctorList.length }})</span>
          </h2>
        </div>
        <!-- component -->
        <div
          class="max-h-[calc(100vh-100px)] overflow-y-scroll custom-scrollbar"
        >
          <div class="max-w-full w-full shadow-lg p-3">
            @for (details of currentOnlineDoctorList; track $index) {
            <app-dashboard-live-doctor-card
              [details]="details"
            ></app-dashboard-live-doctor-card>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
