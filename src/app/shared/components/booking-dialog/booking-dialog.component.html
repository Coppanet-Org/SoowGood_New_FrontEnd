<div class="flex justify-between py-4 px-6 border-b-[1px] items-center">
    <h1 class="dashbord-heading-text"> <i class="mr-1 text-[18px] fa-solid fa-calendar"></i> Booking </h1>
    <button class="btn-secondary-light" (click)="closeDialogs()">Close</button>
</div>




<div class="w-full px-12 pt-5 pb-10">


    <mat-stepper #stepper class="mx-auto" [selectedIndex]="activeTab">
        <mat-step [stepControl]="firstFormGroup">
            <form [formGroup]="bookingForm">
                <ul class="grid w-full gap-6 md:grid-cols-2">
                    <li (click)="onStepChange(1)">
                        <input #buttonMyself type="radio" id="hosting-small" name="hosting" value="hosting-small"
                            class="hidden peer" required>
                        <label for="hosting-small"
                            class="inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                            <div class="flex items-center gap-3">
                                <i class="fa-solid fa-person text-[44px]"></i>
                                <div>
                                    <div class="w-full text-lg font-semibold">Book for myself</div>
                                    <div class="w-full">If you are patient</div>
                                </div>
                            </div>
                            <svg class="w-5 h-5 ml-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 14 10">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9" />
                            </svg>
                        </label>
                    </li>
                    <li (click)="onStepChange(2)">
                        <input #buttonOthers type="radio" id="hosting-big" name="hosting" value="hosting-big"
                            class="hidden peer">
                        <label for="hosting-big"
                            class="inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg 
                            cursor-pointer dark:hover:text-gray-300 dark:border-gray-700
                             dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600
                              hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                            <div class="flex items-center gap-3">
                                <i class="fa-solid fa-people-robbery text-[44px]"></i>
                                <div>
                                    <div class="w-full text-lg font-semibold">Book for other</div>
                                    <div class="w-full">If you are not patient</div>
                                </div>
                            </div>

                            <svg class="w-5 h-5 ml-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 14 10">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9" />
                            </svg>
                        </label>
                    </li>
                </ul>
            </form>
        </mat-step>



        <mat-step [stepControl]="secondFormGroup" [ariaSelected]="activeTab">
            <div>
                <form [formGroup]="form">

                    <div class="flex gap-4">
                        <div class="rounded-full w-[50px] h-[50px] overflow-hidden border-secondary border-2">
                            <img class="w-full h-full object-cover" src="assets/doctor/dr.jpeg" alt="">
                        </div>
                        <div>
                            <h2 class="heading text-[20px]">{{doctorData?.doctorDetails.fullName}}</h2>
                            <p>General Medicine</p>
                        </div>
                    </div>
                    <hr class="h-px my-8 bg-gray-200 border-0 dark:bg-gray-700">
                    <div class="-mx-3 flex flex-wrap">
                        <ng-container class="w-full" *ngFor="let config of inputConfigs">
                            <app-input [label]="config.label" [inputId]="config.inputId"
                                [isSelectInput]="config.isSelect" [readonly]="config.readonly ? config.readonly : false"
                                [options]="config.options" [formControlName]="config.formControlName"
                                [type]="config.type" class="sm:w-1/3 h-fit"></app-input>
                        </ng-container>
                    </div>
                </form>

                <div class="py-3">
                    <label class="font-Roboto text-[14px] font-semibold text-primary/90"> Available </label>
                    <div class="mt-2">
                        <app-slots></app-slots>
                    </div>
                </div>
                <div class="flex gap-5 mt-10 w-full">
                    <button class="btn-secondary py-2 bg-primary/90" (click)="onStepChange(0)">Back</button>
                    <button class="btn-secondary py-2" (click)="onStepChange(3 )">Next</button>
                </div>
            </div>
        </mat-step>

        <mat-step>
            <div class="flex gap-4">
                <div class="flex items-center px-4  border border-gray-200 rounded dark:border-gray-700">
                    <input (click)="userExistCheck('exist-user')" checked id="bordered-radio-2" type="radio" value=""
                        name="bordered-radio"
                        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-0  dark:bg-gray-700 dark:border-gray-600">
                    <label for="bordered-radio-2"
                        class="w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Already
                        Exist</label>
                </div>
                <div class="flex items-center px-4 border border-gray-200 rounded dark:border-gray-700">
                    <input (click)="userExistCheck('new-user')" id="bordered-radio-1" type="radio" value=""
                        name="bordered-radio"
                        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-0  dark:bg-gray-700 dark:border-gray-600">
                    <label for="bordered-radio-1"
                        class="w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">New
                        Patient</label>
                </div>

            </div>


            <div class="pt-5">
                <div *ngIf="isExistUser">
                    <label for="" class="label">Select your patient</label>
                    <ng-container >
                        <select  class="form_input" [value]="value" (input)="getSinglePatientData($event)">
                            <option value="">--Select Patient--</option>
                            <option *ngFor="let item of userPatientList" [value]="item.id">{{ item.name }}</option>
                        </select>
                    </ng-container>
                </div>

                <div class="pt-5">
                    <form [formGroup]="createPatientForm" class="w-full">
                        <div class="-mx-3 flex flex-wrap">
                            <ng-container class="w-full" *ngFor="let config of inputForCreatePatient; let i = index">

                                <app-input [label]="config.label" [inputId]="config.inputId"
                                    [isSelectInput]="config.isSelect"
                                    [readonly]="config.readonly ? config.readonly : false" [options]="config.options"
                                    [formControlName]="config.formControlName" [placeholder]="config.label"
                                    [type]="config.type" [class]="i== 0 || i==1 ? 'w-1/2' :'w-1/3'"></app-input>
                            </ng-container>
                        </div>
                    </form>
                </div>
            </div>




            <div class="flex gap-5">
                <button class="btn-secondary py-2 mt-6" (click)="onStepChange(0)">Back</button>
                <button class="btn-secondary bg-primary py-2 mt-6" (click)="createNewPatient()">
                    <div *ngIf="btnLoader == false" class="flex items-center gap-1 text-white group-hover:text-primary">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                        </svg>
                        <span>Continue</span>
                    </div>
                    <span *ngIf="btnLoader == true" class="loading loading-dots loading-md"></span>
                </button>
            </div>
        </mat-step>
        <mat-step>
            Make Payment
        </mat-step>
    </mat-stepper>






    <!-- 
<mat-stepper (selectionChange)="onchangeStep($event)" #stepper class="mt-7  mx-auto"
[selectedIndex]="activeTab">
<mat-step [stepControl]="firstFormGroup" label="Select">

<form [formGroup]="form">
    <div class="-mx-3 flex flex-wrap">


        <ng-container class="w-full" *ngFor="let config of inputConfigs">
            <app-input [label]="config.label" [inputId]="config.inputId" [isSelectInput]="config.isSelect"
                [readonly]="config.readonly ? config.readonly : false" [options]="config.options"
                [formControlName]="config.formControlName" [type]="config.type" class="sm:w-1/3"></app-input>
        </ng-container>
    </div>
    </form>
   
</mat-step>
<mat-step [stepControl]="secondFormGroup" label="Payment" [ariaSelected]="activeTab">
asda
</mat-step>
<mat-step label="Confirm">
  ad
</mat-step>

</mat-stepper> -->